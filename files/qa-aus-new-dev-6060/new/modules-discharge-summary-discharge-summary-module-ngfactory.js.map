{"version":3,"sources":["webpack:///./node_modules/@angular/material/tooltip/typings/index.d.ts.TooltipComponent.html","webpack:///./src/app/core/services/discharge-summary-api.service.ts","webpack:///./src/app/modules/discharge-summary/containers/delete-confirm/delete-confirm.component.html","webpack:///./src/app/modules/discharge-summary/containers/delete-confirm/delete-confirm.component.ts","webpack:///./src/app/modules/discharge-summary/containers/discharge-summary/discharge-summary.component.html","webpack:///./src/app/modules/discharge-summary/containers/discharge-summary/discharge-summary.component.ts","webpack:///./src/app/modules/discharge-summary/containers/drafts/drafts.component.html","webpack:///./src/app/modules/discharge-summary/containers/drafts/drafts.component.ts","webpack:///./src/app/modules/discharge-summary/containers/new-summary/new-summary.component.html","webpack:///./src/app/modules/discharge-summary/containers/new-summary/new-summary.component.ts","webpack:///./src/app/modules/discharge-summary/containers/new-summary/nicu-form/nicu-form.component.html","webpack:///./src/app/modules/discharge-summary/containers/new-summary/nicu-form/nicu-form.component.ts","webpack:///./src/app/modules/discharge-summary/containers/new-summary/picu-form/picu-form.component.html","webpack:///./src/app/modules/discharge-summary/containers/new-summary/picu-form/picu-form.component.ts","webpack:///./src/app/modules/discharge-summary/containers/new-summary/ward-form/ward-form.component.html","webpack:///./src/app/modules/discharge-summary/containers/new-summary/ward-form/ward-form.component.ts","webpack:///./src/app/modules/discharge-summary/containers/summary-history/summary-history.component.html","webpack:///./src/app/modules/discharge-summary/containers/summary-history/summary-history.component.ts","webpack:///./src/app/modules/discharge-summary/discharge-summary-data.service.ts","webpack:///./src/app/modules/discharge-summary/discharge-summary-routing.module.ts","webpack:///./src/app/modules/discharge-summary/discharge-summary.module.ts","webpack:///./src/app/shared/constants.ts","webpack:///./src/app/shared/pipes/dateFormatPipe.ts"],"names":[],"mappings":"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","file":"modules-discharge-summary-discharge-summary-module-ngfactory.js","sourcesContent":["<div class=\"mat-tooltip\" [ngClass]=\"tooltipClass\" [class.mat-tooltip-handset]=\"(_isHandset | async)?.matches\" [@state]=\"_visibility\" (@state.start)=\"_animationStart()\" (@state.done)=\"_animationDone($event)\">{{message}}</div>","import { Injectable, Inject } from '@angular/core';\r\nimport { URL_CONSTANTS_TOKEN } from '@core/url.constant';\r\nimport { UrlConstants } from '@core/models/url-constants';\r\nimport { ApiService } from '@core/services/api.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DischargeSummaryApiService {\r\n  readonly MODULE_NAME = 'DISCHARGE_SUMMARY';\r\n  constructor(\r\n    @Inject(URL_CONSTANTS_TOKEN) private urlConstants: UrlConstants,\r\n    private apiService: ApiService\r\n  ) { }\r\n\r\n  fetchPatientDetailsForDischargeSummary<T>(payload) {\r\n    return this.apiService.post<T>(\r\n      this.MODULE_NAME,\r\n      this.urlConstants.DISCHARGE_SUMMARY.FETCH_PATIENT_DETAILS_FOR_DISCHARGE_SUMMARY,\r\n      payload\r\n    );\r\n  }\r\n\r\n  insertPicuOrWard<T>(payload) {\r\n    return this.apiService.post<T>(\r\n      this.MODULE_NAME,\r\n      this.urlConstants.DISCHARGE_SUMMARY.INSERT_PICU_OR_WARD,\r\n      payload\r\n    );\r\n  }\r\n\r\n  insertNicu<T>(payload) {\r\n    return this.apiService.post<T>(\r\n      this.MODULE_NAME,\r\n      this.urlConstants.DISCHARGE_SUMMARY.INSERT_NICU,\r\n      payload\r\n    );\r\n  }\r\n\r\n  fetchPicuOrWard<T>(payload) {\r\n    return this.apiService.post<T>(\r\n      this.MODULE_NAME,\r\n      this.urlConstants.DISCHARGE_SUMMARY.FETCH_PICU_OR_WARD,\r\n      payload\r\n    );\r\n  }\r\n\r\n  fetchNicu<T>(payload) {\r\n    return this.apiService.post<T>(\r\n      this.MODULE_NAME,\r\n      this.urlConstants.DISCHARGE_SUMMARY.FETCH_NICU,\r\n      payload\r\n    );\r\n  }\r\n\r\n  updateNicu<T>(payload) {\r\n    return this.apiService.post<T>(\r\n      this.MODULE_NAME,\r\n      this.urlConstants.DISCHARGE_SUMMARY.UPDATE_NICU,\r\n      payload\r\n    );\r\n  }\r\n\r\n  updatePicuOrWard<T>(payload) {\r\n    return this.apiService.post<T>(\r\n      this.MODULE_NAME,\r\n      this.urlConstants.DISCHARGE_SUMMARY.UPDATE_PICU_OR_WARD,\r\n      payload\r\n    );\r\n  }\r\n\r\n  deleteNicu<T>(payload) {\r\n    return this.apiService.post<T>(\r\n      this.MODULE_NAME,\r\n      this.urlConstants.DISCHARGE_SUMMARY.DELETE_NICU,\r\n      payload\r\n    );\r\n  }\r\n\r\n  deletePicuOrWard<T>(payload) {\r\n    return this.apiService.post<T>(\r\n      this.MODULE_NAME,\r\n      this.urlConstants.DISCHARGE_SUMMARY.DELETE_PICU_OR_WARD,\r\n      payload\r\n    );\r\n  }\r\n}\r\n","<div class=\"confirm-dialog\">\r\n  <h2 mat-dialog-title>{{ 'DISCHARGE_SUMMARY.ARE_YOU_SURE_WANT_TO_DELETE' | translate }}</h2>\r\n  <mat-form-field *ngIf=\"data\">\r\n    <input matInput placeholder=\"Reason\" [(ngModel)]=\"reason\">\r\n  </mat-form-field>\r\n  <mat-dialog-actions class=\"actions-section\">\r\n    <button mat-button [mat-dialog-close]=\"false\" class=\"mat-button\">No</button>\r\n    <button mat-button class=\"mat-button\" [mat-dialog-close]=\"reason\" color=\"primary\" [disabled]=\"!reason\">Yes</button>\r\n  </mat-dialog-actions>\r\n</div>\r\n","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\r\n\r\n@Component({\r\n  selector: 'app-delete-confirm',\r\n  templateUrl: './delete-confirm.component.html',\r\n  styleUrls: ['./delete-confirm.component.scss']\r\n})\r\nexport class DeleteConfirmComponent implements OnInit {\r\n\r\n  public reason: any;\r\n  constructor(\r\n    public dialogRef: MatDialogRef<DeleteConfirmComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    if (this.data) {\r\n      this.reason = '';\r\n    } else {\r\n      this.reason = true;\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"col-sm-12 p-l-r-10 page-tittle-txt\"><h1>{{ 'DISCHARGE_SUMMARY.PEDIATRIC_DISCHARGE_SUMMARY' | translate }}</h1></div>\r\n<div class=\"col-sm-12 p-0\">\r\n  <div class=\"col-sm-12 p-0 header-container border-bottom\">\r\n    <ul>\r\n      <li><a routerLink=\"new-summary\" routerLinkActive=\"btn-link-active\">{{ 'DISCHARGE_SUMMARY.NEW_SUMMARY' | translate }}</a></li>\r\n      <li><a routerLink=\"drafts\" routerLinkActive=\"btn-link-active\">{{ 'DISCHARGE_SUMMARY.DRAFTS_HISTORY' | translate }}</a></li>\r\n      <li><a routerLink=\"summary-history\" routerLinkActive=\"btn-link-active\">{{ 'DISCHARGE_SUMMARY.HISTORY' | translate }}</a></li>\r\n    </ul>\r\n  </div>\r\n</div>\r\n<router-outlet></router-outlet>\r\n","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\nimport { MOMENT } from '@core/services/lib.providers';\r\nimport { UserSession } from '@core/models/user-session';\r\nimport { UserService } from '@core/services';\r\nimport { DischargeSummaryApiService } from '@core/services/discharge-summary-api.service';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-discharge-summary',\r\n  templateUrl: './discharge-summary.component.html',\r\n  styleUrls: ['./discharge-summary.component.scss']\r\n})\r\nexport class DischargeSummaryComponent implements OnInit {\r\n\r\n  private userSession: UserSession;\r\n  private draftsData: any;\r\n  constructor(\r\n    @Inject(MOMENT) private moment,\r\n    private readonly userService: UserService,\r\n    private dischargeSummaryApiService: DischargeSummaryApiService,\r\n    private snackBar: MatSnackBar,\r\n    private router: Router\r\n  ) {\r\n    this.userSession = this.userService.getUser();\r\n   }\r\n\r\n  ngOnInit() {\r\n    this.fetchNicu();\r\n  }\r\n\r\n  fetchNicu() {\r\n    const fromDate = this.moment().format('YYYY-MM-DD');\r\n    const toDate = this.moment().format('YYYY-MM-DD');\r\n    const payload = {\r\n      authenticatedUserId: this.userSession.regId,\r\n      orgId: this.userSession.orgId,\r\n      orgGroupId: this.userSession.orgGroupId,\r\n      isFinalized: false,\r\n      fromDate,\r\n      toDate\r\n    };\r\n    this.dischargeSummaryApiService.fetchNicu(payload).subscribe(\r\n      response => {\r\n        if (response && response.responseCode === 'E200') {\r\n          this.draftsData = response.data;\r\n          if (this.draftsData && this.draftsData.length) {\r\n            this.router.navigate(['discharge-summary/drafts']);\r\n          } else {\r\n            this.fetchPicu();\r\n          }\r\n        } else if (response && response.responseCode === 'E400') {\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      },\r\n      (errorResponse: HttpErrorResponse) => {\r\n        if (errorResponse.status > 0) {\r\n          this.snackBar.open(errorResponse.error.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        } else {\r\n          this.snackBar.open('Network Slow', 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      });\r\n  }\r\n\r\n  fetchPicu() {\r\n    const fromDate = this.moment().format('YYYY-MM-DD');\r\n    const toDate = this.moment().format('YYYY-MM-DD');\r\n    const payload = {\r\n      authenticatedUserId: this.userSession.regId,\r\n      orgId: this.userSession.orgId,\r\n      orgGroupId: this.userSession.orgGroupId,\r\n      isFinalized: false,\r\n      fromDate,\r\n      toDate,\r\n      dischargeSummaryType: 'PICU'\r\n    };\r\n    this.dischargeSummaryApiService.fetchPicuOrWard(payload).subscribe(\r\n      response => {\r\n        if (response && response.responseCode === 'E200') {\r\n          this.draftsData = response.data;\r\n          if (this.draftsData && this.draftsData.length) {\r\n            this.router.navigate(['discharge-summary/drafts']);\r\n          } else {\r\n            this.fetchWard();\r\n          }\r\n        } else if (response && response.responseCode === 'E400') {\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      },\r\n      (errorResponse: HttpErrorResponse) => {\r\n        if (errorResponse.status > 0) {\r\n          this.snackBar.open(errorResponse.error.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        } else {\r\n          this.snackBar.open('Network Slow', 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  fetchWard() {\r\n    const fromDate = this.moment().format('YYYY-MM-DD');\r\n    const toDate = this.moment().format('YYYY-MM-DD');\r\n    const payload = {\r\n      authenticatedUserId: this.userSession.regId,\r\n      orgId: this.userSession.orgId,\r\n      orgGroupId: this.userSession.orgGroupId,\r\n      isFinalized: false,\r\n      fromDate,\r\n      toDate,\r\n      dischargeSummaryType: 'WARD'\r\n    };\r\n    this.dischargeSummaryApiService.fetchPicuOrWard(payload).subscribe(\r\n      response => {\r\n        if (response && response.responseCode === 'E200') {\r\n          this.draftsData = response.data;\r\n          if (this.draftsData && this.draftsData.length) {\r\n            this.router.navigate(['discharge-summary/drafts']);\r\n          }\r\n        } else if (response && response.responseCode === 'E400') {\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      },\r\n      (errorResponse: HttpErrorResponse) => {\r\n        if (errorResponse.status > 0) {\r\n          this.snackBar.open(errorResponse.error.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        } else {\r\n          this.snackBar.open('Network Slow', 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      }\r\n    );\r\n  }\r\n}\r\n","<div class=\"col-sm-12 p-10\">\r\n  <div class=\"border border-radius-5\">\r\n    <div class=\"row m-0 bg-white p-5 border-bottom\">\r\n      <div class=\"col-sm-9 p-0 total-count\">\r\n        <h3>{{ 'DISCHARGE_SUMMARY.CURRENT_DRAFTED_SUMMARY' | translate }} - <span>{{draftsDataLength}}</span></h3>\r\n      </div>\r\n      <div class=\"col-sm-2 row m-0 p-0 total-count\">\r\n        <h3 class=\"col-sm-7\">\r\n          {{ 'DISCHARGE_SUMMARY.SELECT_FORM' | translate }} -\r\n        </h3>\r\n          <select class=\"col-sm-5 p-0\" [formControl]=\"formType\">\r\n            <option value=\"NICU\">{{ 'DISCHARGE_SUMMARY.NICU' | translate }}</option>\r\n            <option value=\"PICU\">{{ 'DISCHARGE_SUMMARY.PICU' | translate }}</option>\r\n            <option value=\"WARD\">{{ 'DISCHARGE_SUMMARY.WARD' | translate }}</option>\r\n          </select>\r\n      </div>\r\n      <div class=\"col-sm-1 p-0 pl-5\">\r\n        <div class=\"filter-content filter-ico\" (click)=\"showFilters()\">\r\n          <button class=\"filter-ico\" id=\"showFilter\">\r\n            <i class=\"fa fa-filter\"></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"row m-0 p-5 bg-white\" *ngIf=\"isFilter\" @slideDown>\r\n      <div class=\"col-sm-6 p-0\">\r\n        <label>{{ 'COMMONLABELS.SEARCH_PATEINT_TEXT' | translate }}</label>\r\n        <div class=\"patient-search\">\r\n          <input name=\"patinetSearchControl\" type=\"radio\" id=\"patientId\" value=\"patientId\"\r\n            [formControl]=\"patinetSearchControl\">\r\n          <label for=\"patientId\" class=\"patient-search__type\">{{ 'COMMONLABELS.PATIENT_ID_TEXT' | translate }}</label>\r\n\r\n          <input name=\"patinetSearchControl\" type=\"radio\" id=\"name\" value=\"name\" [formControl]=\"patinetSearchControl\">\r\n          <label for=\"name\" class=\"border-left patient-search__type\">{{ 'COMMONLABELS.NAME_TEXT' | translate }}</label>\r\n\r\n          <input name=\"patinetSearchControl\" type=\"radio\" id=\"aadhaar\" value=\"aadhaar\"\r\n            [formControl]=\"patinetSearchControl\" />\r\n          <label for=\"aadhaar\" class=\"border-left patient-search__type\">{{ 'COMMONLABELS.AADHAR_TEXT' | translate }}</label>\r\n\r\n          <input name=\"patinetSearchControl\" checked=\"checked\" type=\"radio\" id=\"mobile\" value=\"mobile\"\r\n            [formControl]=\"patinetSearchControl\">\r\n          <label for=\"mobile\" class=\"border-left patient-search__type\">{{ 'COMMONLABELS.MOBILE_TEXT' | translate }}</label>\r\n\r\n          <input type=\"text\" minLength=\"15\" maxLength=\"15\" autocomplete=\"on\" class=\"patient-search__input\"\r\n            [placeholder]=\"placeholderValue\" [(ngModel)]=\"patientSearchData\" (ngModelChange)=\"checkValidations()\" (keyup.enter)=\"searchPatient()\">\r\n          <button type=\"button\" class=\"patient-search__btn\" [disabled]=\"!isEnable\" (click)=\"searchPatient()\">\r\n            <i class=\"fa fa-search \"></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-3\">\r\n        <label>{{ 'COMMONLABELS.FROM_DATE_TEXT' | translate }}\r\n          <sup class=\"astrik-symbol \">\r\n            <i class=\"fa fa-asterisk sym p-l-3\" aria-hidden=\"true\"></i>\r\n          </sup>\r\n        </label>\r\n        <p class=\"input-group\">\r\n          <input type=\"text\" id=\"fromDt\" [(ngModel)]=\"fromDate\" [matDatepicker]=\"fromDt\" [max]=\"dateMax\" class=\"form-control\" (click)=\"datePickerToggler(fromDt)\" (dateChange)=\"fetchFilteredData()\">\r\n          <mat-datepicker #fromDt></mat-datepicker>\r\n          <span class=\"input-group-btn\">\r\n            <button class=\"btn btn-default calendar p-1 p-l-r-10 no-border-left\" id=\"toggle-fromDt\" type=\"button\"\r\n              (click)=\"datePickerToggler(fromDt)\">\r\n              <i class=\"fa fa-calendar icon\"></i>\r\n            </button>\r\n          </span>\r\n        </p>\r\n      </div>\r\n      <div class=\"col-sm-3\">\r\n        <label>{{ 'COMMONLABELS.TO_DATE_TEXT' | translate }}\r\n          <sup class=\"astrik-symbol \">\r\n            <i class=\"fa fa-asterisk p-l-3\" aria-hidden=\"true\"></i>\r\n          </sup>\r\n        </label>\r\n        <p class=\"input-group\">\r\n          <input type=\"text\" id=\"toDt\" [(ngModel)]=\"toDate\" [matDatepicker]=\"toDt\" [max]=\"dateMax\" class=\"form-control\" (click)=\"datePickerToggler(toDt)\" (dateChange)=\"fetchFilteredData()\"/>\r\n          <mat-datepicker #toDt></mat-datepicker>\r\n          <span class=\"input-group-btn\">\r\n            <button class=\"btn btn-default calendar p-1 p-l-r-10 no-border-left\" id=\"toggle-toDt\" type=\"button\"\r\n              (click)=\"datePickerToggler(toDt)\">\r\n              <i class=\"fa fa-calendar icon\"></i>\r\n            </button>\r\n          </span>\r\n        </p>\r\n      </div>\r\n    </div>\r\n    <div class=\"page-info-message col-sm-12 p-0\" *ngIf=\"!isDraftsDataAvl\">\r\n      <ul>\r\n        <li class=\"info-icon\"><i class=\"mdi mdi-information\"></i></li>\r\n        <li class=\"info-message\">\r\n          <p>Oh! seems all is well, no patients yet. you can click the above filter icon and use it to retrive past drafted patient list</p>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"row m-0 bg-white\" *ngIf=\"isDraftsDataAvl\">\r\n      <table class=\"scroll-table all-patients-table table\">\r\n        <thead>\r\n          <tr>\r\n            <th class=\"pt-per-dtls\">{{ 'COMMONLABELS.NAME_PERSONAL_DETAILS_TEXT' | translate }}</th>\r\n            <th class=\"adm-dt\">{{ 'DISCHARGE_SUMMARY.ADMISSION_DATE' | translate }}</th>\r\n            <th class=\"disc-dt\">{{ 'DISCHARGE_SUMMARY.DISCHARGE_DATE' | translate }}</th>\r\n            <th class=\"action-items\">{{ 'COMMONLABELS.ACTIONS_TEXT' | translate }}</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody class=\"scrollContent\">\r\n          <tr *ngFor=\"let draft of draftsData; index as i\">\r\n            <td class=\"pt-per-dtls row m-0\">\r\n              <div class=\"pt-img-circle col-sm-2 p-0\">\r\n                <span class=\"img-container\">\r\n                  <img [src]=\"draft.imagePath\" class=\"pic-img-circle\" *ngIf=\"draft.imagePath\">\r\n                  <img [src]=\"getAvatorImg(draft)\" class=\"pic-img-circle\" *ngIf=\"!draft.imagePath\">\r\n                </span>\r\n              </div>\r\n              <div class=\"patient-dtls-content col-sm-10 p-0\">\r\n                <h3>{{draft.honorificName}} {{draft.patientName}}</h3>\r\n                <label>{{ 'COMMONLABELS.PATIENT_ID_TEXT' | translate }}: </label><span class=\"patient-demo-details\">{{draft.hosPatientId}}</span>\r\n                <ul>\r\n                  <li>\r\n                    <p>{{draft.gender || 'NA'}}</p>\r\n                  </li>\r\n                  <li>\r\n                    <p>{{draft.ageYears || 'NA'}}</p>\r\n                  </li>\r\n                  <li>\r\n                    <p>{{draft.mobileNo || 'NA'}}</p>\r\n                  </li>\r\n                  <li>\r\n                    <p>{{draft.emailId || 'NA'}}</p>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </td>\r\n            <td class=\"adm-dt\">{{draft.admitDt | dateFormat}}</td>\r\n            <td class=\"disc-dt\">{{draft.dischargeDt | dateFormat}}</td>\r\n            <td class=\"action-items\">\r\n              <ul>\r\n                <li (click)=\"editDraft(draft)\"><i matTooltip=\"Proceed Editing\" class=\"mdi mdi-pencil\"></i></li>\r\n                <li (click)=\"print(draft)\"><i matTooltip=\"Print\" class=\"mdi mdi-printer printicon-margin\"></i></li>\r\n                <li (click)=\"deleteDraft(draft, i)\"><i matTooltip=\"Delete\" class=\"mdi mdi-delete deleteicon-margin\"></i></li>\r\n              </ul>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { AbstractControl, FormControl } from '@angular/forms';\r\nimport { MatDatepicker } from '@angular/material/datepicker';\r\nimport { slideDownAnimation } from '@core/animations';\r\nimport { Router } from '@angular/router';\r\nimport { DischargeSummaryDataService } from '../../discharge-summary-data.service';\r\nimport { DischargeSummaryApiService } from '@core/services/discharge-summary-api.service';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { UtilService } from '@core/services/utils.service';\r\nimport { MOMENT, ReportsApiServce, UserService } from '@core/services';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { DeleteConfirmComponent } from '../delete-confirm/delete-confirm.component';\r\nimport { UserSession } from '@core/models/user-session';\r\n@Component({\r\n  selector: 'app-drafts',\r\n  templateUrl: './drafts.component.html',\r\n  styleUrls: ['./drafts.component.scss'],\r\n  animations: [slideDownAnimation]\r\n})\r\nexport class DraftsComponent implements OnInit {\r\n  patinetSearchControl: AbstractControl;\r\n  formType: AbstractControl;\r\n  selectedFormType: any;\r\n  placeholderValue: any;\r\n  dateMax = new Date();\r\n  searchType: string;\r\n  draftsData: any;\r\n  draftsDataLength = 0;\r\n  fromDate: any;\r\n  toDate: any;\r\n  patientSearchData: any;\r\n  userSession: UserSession;\r\n  public isFilter = false;\r\n  public isEnable = false;\r\n  public isSearchPt = false;\r\n  public isDraftsDataAvl = false;\r\n  constructor(\r\n    private router: Router,\r\n    private dischargeSummaryDataService: DischargeSummaryDataService,\r\n    private dischargeSummaryApiService: DischargeSummaryApiService,\r\n    private reportsApiService: ReportsApiServce,\r\n    private readonly utilService: UtilService,\r\n    private userService: UserService,\r\n    private snackBar: MatSnackBar,\r\n    public dialog: MatDialog,\r\n    @Inject(MOMENT) private moment\r\n  ) {\r\n    this.userSession = this.userService.getUser();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.fromDate = this.moment().format();\r\n    this.toDate = this.moment().format();\r\n    this.patientSearch();\r\n    this.selectForm();\r\n    this.dischargeSummaryDataService.draftsData.next(null);\r\n  }\r\n\r\n  checkValidations() {\r\n    this.isEnable = false;\r\n\r\n    switch (this.searchType) {\r\n      case 'name':\r\n        if (this.patientSearchData && this.patientSearchData.length > 2) {\r\n          this.isEnable = true;\r\n        }\r\n        break;\r\n      case 'aadhaar':\r\n        if (this.patientSearchData && this.patientSearchData.length === 12) {\r\n          this.isEnable = true;\r\n        }\r\n        break;\r\n      case 'patientId':\r\n        if (this.patientSearchData && this.patientSearchData.length > 6) {\r\n          this.isEnable = true;\r\n        }\r\n        break;\r\n      default:\r\n        if (this.patientSearchData && this.patientSearchData.length === 10) {\r\n          this.isEnable = true;\r\n        }\r\n        break;\r\n    }\r\n  }\r\n\r\n  datePickerToggler(datePicker: MatDatepicker<Date>) {\r\n    datePicker[datePicker.opened ? 'close' : 'open']();\r\n  }\r\n\r\n  editDraft(data) {\r\n    this.dischargeSummaryDataService.draftsData.next(data);\r\n    this.router.navigate(['discharge-summary/new-summary']);\r\n  }\r\n\r\n  deleteDraft(data, i) {\r\n   const deleteRef = this.dialog.open(DeleteConfirmComponent, {\r\n      width: '330px',\r\n      data: false\r\n    });\r\n    deleteRef.afterClosed().subscribe(res => {\r\n      if (res) {\r\n        switch (this.selectedFormType) {\r\n          case 'NICU':\r\n            this.deleteNicuDraft(data, i);\r\n            break;\r\n          case 'PICU':\r\n          case 'WARD':\r\n            this.deletePicuOrWardDraft(data, i);\r\n            break;\r\n          default:\r\n            this.deleteNicuDraft(data, i);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  deleteNicuDraft(data, i) {\r\n    const payload = {\r\n      authenticatedUserId: this.userSession.regId,\r\n      orgId: this.userSession.orgId,\r\n      orgGroupId: this.userSession.orgGroupId,\r\n      isFinalized: false,\r\n      nicuDischargeSummaryId: data.nicuDischargeSummaryId\r\n    };\r\n    this.dischargeSummaryApiService.deleteNicu(payload).subscribe(\r\n      response => {\r\n        if (response && response.responseCode === 'E200') {\r\n          this.draftsData.splice(i, 1);\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        } else if (response && response.responseCode === 'E400') {\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      },\r\n      (errorResponse: HttpErrorResponse) => {\r\n        if (errorResponse.status > 0) {\r\n          this.snackBar.open(errorResponse.error.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        } else {\r\n          this.snackBar.open('Network Slow', 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      });\r\n  }\r\n\r\n  deletePicuOrWardDraft(data, i) {\r\n    const payload = {\r\n      authenticatedUserId: this.userSession.regId,\r\n      orgId: this.userSession.orgId,\r\n      orgGroupId: this.userSession.orgGroupId,\r\n      isFinalized: false,\r\n      dischargeSummaryId: data.dischargeSummaryId\r\n    };\r\n    this.dischargeSummaryApiService.deletePicuOrWard(payload).subscribe(\r\n      response => {\r\n        if (response && response.responseCode === 'E200') {\r\n          this.draftsData.splice(i, 1);\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        } else if (response && response.responseCode === 'E400') {\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      },\r\n      (errorResponse: HttpErrorResponse) => {\r\n        if (errorResponse.status > 0) {\r\n          this.snackBar.open(errorResponse.error.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        } else {\r\n          this.snackBar.open('Network Slow', 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      });\r\n  }\r\n\r\n  fetchFilteredData() {\r\n    switch (this.selectedFormType) {\r\n      case 'NICU':\r\n        this.fetchNicu();\r\n        break;\r\n      case 'PICU':\r\n      case 'WARD':\r\n        this.fetchPicuOrWard();\r\n        break;\r\n      default:\r\n        this.fetchNicu();\r\n        break;\r\n    }\r\n  }\r\n\r\n  fetchPicuOrWard() {\r\n    this.draftsDataLength = 0;\r\n    const fromDate = this.moment(this.fromDate).format('YYYY-MM-DD');\r\n    const toDate = this.moment(this.toDate).format('YYYY-MM-DD');\r\n    const payload = {\r\n      authenticatedUserId: this.userSession.regId,\r\n      orgId: this.userSession.orgId,\r\n      orgGroupId: this.userSession.orgGroupId,\r\n      isFinalized: false,\r\n      fromDate,\r\n      toDate,\r\n      dischargeSummaryType: this.selectedFormType\r\n    };\r\n    if (this.isSearchPt) {\r\n      switch (this.searchType) {\r\n        case 'name':\r\n          payload['patientName'] = this.patientSearchData;\r\n          break;\r\n        case 'aadhaar':\r\n          payload['aadharNumber'] = this.patientSearchData;\r\n          break;\r\n        case 'patientId':\r\n          payload['hospitalPatientId'] = this.patientSearchData;\r\n          break;\r\n        default:\r\n          payload['mobileNumber'] = this.patientSearchData;\r\n          break;\r\n      }\r\n      payload['fromDate'] = '';\r\n      payload['toDate'] = '';\r\n    }\r\n    this.dischargeSummaryApiService.fetchPicuOrWard(payload).subscribe(\r\n      response => {\r\n        if (response && response.responseCode === 'E200') {\r\n          this.draftsData = response.data;\r\n          if (this.draftsData && this.draftsData.length) {\r\n            this.draftsDataLength = this.draftsData.length;\r\n            this.draftsData = this.draftsData.map(patient => {\r\n              if (patient.age || patient.age === 0) {\r\n                patient.ageYears = this.utilService\r\n                  .parseAgeIndays(patient.age)\r\n                  .get('patientAge');\r\n              }\r\n              if (patient.birthDt) {\r\n                patient.ageYears = this.utilService\r\n                  .parseDob(patient.birthDt)\r\n                  .get('patientAge');\r\n              }\r\n              return patient;\r\n            });\r\n            this.isDraftsDataAvl = true;\r\n          } else {\r\n            this.isDraftsDataAvl = false;\r\n          }\r\n        } else if (response && response.responseCode === 'E400') {\r\n          this.isDraftsDataAvl = false;\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      },\r\n      (errorResponse: HttpErrorResponse) => {\r\n        this.isDraftsDataAvl = false;\r\n        if (errorResponse.status > 0) {\r\n          this.snackBar.open(errorResponse.error.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        } else {\r\n          this.snackBar.open('Network Slow', 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  fetchNicu() {\r\n    const fromDate = this.moment(this.fromDate).format('YYYY-MM-DD');\r\n    const toDate = this.moment(this.toDate).format('YYYY-MM-DD');\r\n    this.draftsDataLength = 0;\r\n    const payload = {\r\n      authenticatedUserId: this.userSession.regId,\r\n      orgId: this.userSession.orgId,\r\n      orgGroupId: this.userSession.orgGroupId,\r\n      isFinalized: false,\r\n      fromDate,\r\n      toDate\r\n    };\r\n\r\n    if (this.isSearchPt) {\r\n      switch (this.searchType) {\r\n        case 'name':\r\n          payload['patientName'] = this.patientSearchData;\r\n          break;\r\n        case 'aadhaar':\r\n          payload['aadharNumber'] = this.patientSearchData;\r\n          break;\r\n        case 'patientId':\r\n          payload['hospitalPatientId'] = this.patientSearchData;\r\n          break;\r\n        default:\r\n          payload['mobileNumber'] = this.patientSearchData;\r\n          break;\r\n      }\r\n      payload['fromDate'] = '';\r\n      payload['toDate'] = '';\r\n    }\r\n    this.dischargeSummaryApiService.fetchNicu(payload).subscribe(\r\n      response => {\r\n        if (response && response.responseCode === 'E200') {\r\n          this.draftsDataLength = 0;\r\n          this.draftsData = response.data;\r\n          if (this.draftsData && this.draftsData.length) {\r\n            this.draftsDataLength = this.draftsData.length;\r\n            this.draftsData = this.draftsData.map(patient => {\r\n              if (patient.age || patient.age === 0) {\r\n                patient.ageYears = this.utilService\r\n                  .parseAgeIndays(patient.age)\r\n                  .get('patientAge');\r\n              }\r\n              if (patient.birthDt) {\r\n                patient.ageYears = this.utilService\r\n                  .parseDob(patient.birthDt)\r\n                  .get('patientAge');\r\n              }\r\n              return patient;\r\n            });\r\n            this.isSearchPt = false;\r\n            this.patientSearchData = '';\r\n            this.isDraftsDataAvl = true;\r\n          } else {\r\n            this.isDraftsDataAvl = false;\r\n          }\r\n        } else if (response && response.responseCode === 'E400') {\r\n          this.isDraftsDataAvl = false;\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      },\r\n      (errorResponse: HttpErrorResponse) => {\r\n        this.isDraftsDataAvl = false;\r\n        if (errorResponse.status > 0) {\r\n          this.snackBar.open(errorResponse.error.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        } else {\r\n          this.snackBar.open('Network Slow', 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      });\r\n  }\r\n\r\n  print(data) {\r\n    if (data) {\r\n      switch (data.dischargeSummaryType) {\r\n        case 'NICU':\r\n          this.fetchNICUReport(data);\r\n          break;\r\n        case 'PICU':\r\n          this.fetchPICUReport(data);\r\n          break;\r\n        case 'WARD':\r\n          this.fetchWardReport(data);\r\n          break;\r\n      }\r\n    }\r\n  }\r\n\r\n  fetchNICUReport(data) {\r\n   const queryparams = {\r\n    orgId: this.userSession.orgId,\r\n    loggedInUserId: this.userSession.regId,\r\n    nicuDischargeSummaryId: data.nicuDischargeSummaryId\r\n    };\r\n    this.reportsApiService.fetchNICUReport(queryparams).subscribe(\r\n      response => {\r\n        if (response instanceof ArrayBuffer) {\r\n          const orderRePrint = new Blob([response], {\r\n            type: 'application/pdf'\r\n          });\r\n          const reportURL = URL.createObjectURL(orderRePrint);\r\n          const win = window.open('', '_blank');\r\n          win.location.href = reportURL;\r\n          setTimeout(() => {\r\n            win.print();\r\n          }, 1000);\r\n        } else if (response.responseCode) {\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      },\r\n      () => {\r\n        this.snackBar.open('Failure Something Went Wrong', 'Cancel', {\r\n          duration: 1500\r\n        });\r\n      });\r\n  }\r\n\r\n  fetchPICUReport(data) {\r\n   const queryparams = {\r\n    orgId: this.userSession.orgId,\r\n    loggedInUserId: this.userSession.regId,\r\n    dischargeSummaryId: data.dischargeSummaryId\r\n    };\r\n    this.reportsApiService.fetchPICUReport(queryparams).subscribe(\r\n      response => {\r\n        if (response instanceof ArrayBuffer) {\r\n          const orderRePrint = new Blob([response], {\r\n            type: 'application/pdf'\r\n          });\r\n          const reportURL = URL.createObjectURL(orderRePrint);\r\n          const win = window.open('', '_blank');\r\n          win.location.href = reportURL;\r\n          setTimeout(() => {\r\n            win.print();\r\n          }, 1000);\r\n        } else if (response.responseCode) {\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      },\r\n      () => {\r\n        this.snackBar.open('Failure Something Went Wrong', 'Cancel', {\r\n          duration: 1500\r\n        });\r\n      });\r\n  }\r\n\r\n  fetchWardReport(data) {\r\n   const queryparams = {\r\n    orgId:  this.userSession.orgId,\r\n    loggedInUserId:  this.userSession.regId,\r\n    dischargeSummaryId: data.dischargeSummaryId\r\n    };\r\n    this.reportsApiService.fetchWardReport(queryparams).subscribe(\r\n      response => {\r\n        if (response instanceof ArrayBuffer) {\r\n          const orderRePrint = new Blob([response], {\r\n            type: 'application/pdf'\r\n          });\r\n          const reportURL = URL.createObjectURL(orderRePrint);\r\n          const win = window.open('', '_blank');\r\n          win.location.href = reportURL;\r\n          setTimeout(() => {\r\n            win.print();\r\n          }, 1000);\r\n        } else if (response.responseCode) {\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      },\r\n      () => {\r\n        this.snackBar.open('Failure Something Went Wrong', 'Cancel', {\r\n          duration: 1500\r\n        });\r\n      });\r\n  }\r\n\r\n  getAvatorImg(data) {\r\n    const image =\r\n      data && data.gender === 'Female' ? 'female-ico.png' : 'male-ico.png';\r\n    return `https://s3.ap-south-1.amazonaws.com/dru.assets/images/app/icons/${image}`;\r\n  }\r\n\r\n  selectForm() {\r\n    this.formType = new FormControl('NICU');\r\n    this.fetchNicu();\r\n    this.isDraftsDataAvl = false;\r\n    this.formType.valueChanges.subscribe(val => {\r\n      this.selectedFormType = val;\r\n      this.fetchFilteredData();\r\n    });\r\n  }\r\n\r\n  searchPatient() {\r\n    this.isSearchPt = true;\r\n    this.fetchFilteredData();\r\n  }\r\n\r\n  patientSearch() {\r\n    this.patinetSearchControl = new FormControl('mobile');\r\n    this.placeholderValue = 'Search Patient by Mobile Number';\r\n    this.searchType = 'mobile';\r\n    this.patinetSearchControl.valueChanges.subscribe(res => {\r\n      this.patientSearchData = '';\r\n      this.searchType = res;\r\n      switch (this.searchType) {\r\n        case 'name':\r\n          this.placeholderValue = 'Search Patient by Name';\r\n          break;\r\n        case 'aadhaar':\r\n          this.placeholderValue = 'Search Patient by Aadhaar Number';\r\n          break;\r\n        case 'patientId':\r\n          this.placeholderValue = 'Search Patient by Hospital ID';\r\n          break;\r\n        default:\r\n          this.placeholderValue = 'Search Patient by Mobile Number';\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n  showFilters() {\r\n    this.isFilter = !this.isFilter;\r\n  }\r\n}\r\n","<div class=\"col-sm-12 p-5\">\r\n  <div class=\"bg-white border pt-search-container\">\r\n    <div class=\"row m-0\">\r\n      <div class=\"col-sm-6 p-10\">\r\n        <div class=\"patient-search\">\r\n          <input name=\"patinetSearchControl\" type=\"radio\" id=\"patientId\" value=\"patientId\"\r\n            [formControl]=\"patinetSearchControl\">\r\n          <label for=\"patientId\" class=\"patient-search__type\">{{ 'COMMONLABELS.PATIENT_ID_TEXT' | translate }}</label>\r\n\r\n          <input name=\"patinetSearchControl\" type=\"radio\" id=\"name\" value=\"name\" [formControl]=\"patinetSearchControl\">\r\n          <label for=\"name\" class=\"border-left patient-search__type\">{{ 'COMMONLABELS.NAME_TEXT' | translate }} </label>\r\n\r\n          <input name=\"patinetSearchControl\" type=\"radio\" id=\"aadhaar\" value=\"aadhaar\"\r\n            [formControl]=\"patinetSearchControl\" />\r\n          <label for=\"aadhaar\" class=\"border-left patient-search__type\">{{ 'COMMONLABELS.AADHAR_TEXT' | translate }}</label>\r\n\r\n          <input name=\"patinetSearchControl\" checked=\"checked\" type=\"radio\" id=\"mobile\" value=\"mobile\"\r\n            [formControl]=\"patinetSearchControl\">\r\n          <label for=\"mobile\" class=\"border-left patient-search__type\">{{ 'COMMONLABELS.MOBILE_TEXT' | translate }}</label>\r\n\r\n          <input type=\"text\" minLength=\"15\" maxLength=\"15\" autocomplete=\"on\" class=\"patient-search__input\"\r\n            [placeholder]=\"placeholderValue\" [(ngModel)]=\"patientSearchData\" (ngModelChange)=\"checkValidations()\"\r\n            (keyup.enter)=\"searchPatient()\">\r\n          <button type=\"submit\" class=\"patient-search__btn\" (click)=\"searchPatient()\" [disabled]=\"!isEnable\">\r\n            <i class=\"fa fa-search \"></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n\r\n    <div class=\"row m-0 p-5\" *ngIf=\"isDischargePt\">\r\n      <div class=\"patient-image-lg\" >\r\n        <span>\r\n          <img class=\"patient-img-icon\" [src]=\"dischargePatientData.imagePath\" *ngIf=\"dischargePatientData.imagePath\">\r\n          <img class=\"patient-img-icon\"\r\n            src=\"{{getAvatorImg(dischargePatientData)}}\" *ngIf=\"!dischargePatientData.imagePath\">\r\n        </span>\r\n      </div>\r\n      <div class=\"patient-dtls-cont p-5 col-sm-9\">\r\n        <h2>{{dischargePatientData.honorificName}} {{dischargePatientData.patientName}}</h2>\r\n        <ul>\r\n          <li><label>{{ 'COMMONLABELS.PATIENT_ID_TEXT' | translate }}:</label>\r\n            <p>{{dischargePatientData.hosPatientId || 'NA'}}</p>\r\n          </li>\r\n          <li><label>{{ 'COMMONLABELS.DOB_AGE' | translate }}:</label>\r\n            <p>{{dischargePatientData.ageYears || 'NA'}}</p>\r\n          </li>\r\n          <li><label>{{ 'COMMONLABELS.GENDER_TEXT' | translate }}:</label>\r\n            <p>{{dischargePatientData.gender || 'NA'}}</p>\r\n          </li>\r\n          <li><label>{{ 'COMMONLABELS.BLOOD_GROUP_TEXT' | translate }}:</label>\r\n            <p>{{dischargePatientData.bloodGrpNm || 'NA'}}</p>\r\n          </li>\r\n          <li><label>{{ 'COMMONLABELS.MOBILE_NO_TEXT' | translate }} :</label>\r\n            <p>{{dischargePatientData.mobileNo || 'NA'}}</p>\r\n          </li>\r\n          <li><label>{{ 'DISCHARGE_SUMMARY.PATIENT_REFERRAL' | translate }}:</label>\r\n            <p>{{dischargePatientData.refDoctorNm || 'NA'}}</p>\r\n          </li>\r\n          <li><label>{{ 'COMMONLABELS.LOCATION_TEXT' | translate }}:</label>\r\n            <div>\r\n              <p>&nbsp;{{dischargePatientData.addressLineOne || 'NA'}} </p>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"col-sm-2\" *ngIf=\"isSelectForm\">\r\n        <label>{{ 'DISCHARGE_SUMMARY.SELECT_FORM' | translate }}</label>\r\n        <select [formControl]=\"formType\">\r\n          <option value=\"undefined\"></option>\r\n          <option value=\"NICU\">{{ 'DISCHARGE_SUMMARY.NICU' | translate }}</option>\r\n          <option value=\"PICU\">{{ 'DISCHARGE_SUMMARY.PICU' | translate }}</option>\r\n          <option value=\"WARD\">{{ 'DISCHARGE_SUMMARY.WARD' | translate }}</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"page-info-message col-sm-12 p-0\" *ngIf=\"isSearchPatient\">\r\n      <ul>\r\n        <li class=\"info-icon\"><i class=\"mdi mdi-information\"></i></li>\r\n        <li class=\"info-message\">\r\n          <p>Please use the above search box for Patient Search</p>\r\n        </li>\r\n      </ul>\r\n  </div>\r\n  <div *ngIf=\"isPatientsNotAvl\" class=\"page-info-message row m-0 p-10\">\r\n      <ul>\r\n        <li class=\"info-icon\"><i class=\"mdi mdi-information\"></i></li>\r\n        <li class=\"info-message\">\r\n          <p>There are no registered patients available for your search criteria.</p>\r\n        </li>\r\n      </ul>\r\n  </div>\r\n  <div class=\"row m-0\" *ngIf=\"isPatientsAvl\">\r\n      <div class=\"col-sm-3 p-3\" *ngFor=\"let obj of patientData\">\r\n        <div class=\"col-sm-12 patient-card-box\">\r\n          <div class=\"pt-img\">\r\n            <div class=\"col-sm-12 p-0\">\r\n              <div>\r\n                <img [src]=\"obj.imagePath\" *ngIf=\"obj.imagePath\">\r\n                <img [src]=\"getAvatorImg(obj)\" *ngIf=\"!obj.imagePath\">\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"pt-reg-dtls\">\r\n            <div class=\"col-sm-12 p-0\">\r\n              <h2>{{obj.honorificName}}{{obj.patientName}}</h2>\r\n            </div>\r\n            <div class=\"col-sm-12 p-0\">\r\n              <ul class=\"pt-dtls\">\r\n                <li>{{obj.hosPatientId}}</li>\r\n                <li>{{obj.gender}}</li>\r\n                <li>{{obj.ageYears}}</li>\r\n              </ul>\r\n            </div>\r\n            <div class=\"col-sm-12 p-0\">\r\n              <button type=\"button\" class=\"button-design-appointment btn-group-element\" (click)=\"continueDischarge(obj)\">Continue</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n  </div>\r\n  <router-outlet></router-outlet>\r\n</div>\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  AfterViewInit,\r\n  OnDestroy,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Inject\r\n} from '@angular/core';\r\nimport { AbstractControl, FormControl } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { DischargeSummaryApiService } from '@core/services/discharge-summary-api.service';\r\nimport { UserSession } from '@core/models/user-session';\r\nimport { UserService, UtilService, MOMENT } from '@core/services';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\nimport { DischargeSummaryDataService } from '../../discharge-summary-data.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { AutoUnsubscribe } from 'ngx-auto-unsubscribe';\r\n@AutoUnsubscribe()\r\n@Component({\r\n  selector: 'app-new-summary',\r\n  templateUrl: './new-summary.component.html',\r\n  styleUrls: ['./new-summary.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class NewSummaryComponent implements OnInit, AfterViewInit, OnDestroy {\r\n  placeholderValue: any;\r\n  patinetSearchControl: AbstractControl;\r\n  formType: AbstractControl;\r\n  draftsDataSubscription: Subscription;\r\n  searchType = '';\r\n  patientSearchData: any;\r\n  patientData: any;\r\n  dischargePatientData: any;\r\n  private userSession: UserSession;\r\n  isEnable = false;\r\n  isPatientsAvl = false;\r\n  isPatientsNotAvl = false;\r\n  isSearchPatient = true;\r\n  isDischargePt = false;\r\n  isSelectForm = true;\r\n  constructor(\r\n    private router: Router,\r\n    private readonly dischargeSummaryApiService: DischargeSummaryApiService,\r\n    private readonly userService: UserService,\r\n    private snackBar: MatSnackBar,\r\n    private readonly utilService: UtilService,\r\n    private dischargeSummaryDataService: DischargeSummaryDataService,\r\n    private cd: ChangeDetectorRef,\r\n    @Inject(MOMENT) private moment\r\n  ) {\r\n    this.userSession = this.userService.getUser();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.selectForm();\r\n    this.patientSearchControl();\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.draftsDataSubscription = this.dischargeSummaryDataService.draftsData.subscribe(\r\n      val => {\r\n        if (val) {\r\n          this.dischargePatientData = val;\r\n          if (this.dischargePatientData.dischargeSummaryType) {\r\n            if (this.dischargePatientData.dischargeSummaryType === 'PICU') {\r\n              this.router.navigate(['discharge-summary/new-summary/picu-form']);\r\n            } else if (this.dischargePatientData.dischargeSummaryType === 'WARD') {\r\n              this.router.navigate(['discharge-summary/new-summary/ward-form']);\r\n            } else if (this.dischargePatientData.dischargeSummaryType === 'NICU') {\r\n              this.router.navigate(['discharge-summary/new-summary/nicu-form']);\r\n            }\r\n          } else {\r\n            this.router.navigate(['discharge-summary/new-summary/nicu-form']);\r\n          }\r\n          this.isDischargePt = true;\r\n          this.isSelectForm = false;\r\n          this.isSearchPatient = false;\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  continueDischarge(data) {\r\n    this.dischargeSummaryDataService.draftsData.next(null);\r\n    this.dischargeSummaryDataService.patientData.next(data);\r\n    this.isPatientsAvl = false;\r\n    this.isSearchPatient = false;\r\n    this.isPatientsNotAvl = false;\r\n    this.isDischargePt = true;\r\n    this.isSelectForm = true;\r\n    this.dischargePatientData = data;\r\n    this.selectForm();\r\n  }\r\n\r\n  checkValidations() {\r\n    this.isEnable = false;\r\n\r\n    switch (this.searchType) {\r\n      case 'name':\r\n        if (this.patientSearchData && this.patientSearchData.length > 2) {\r\n          this.isEnable = true;\r\n        }\r\n        break;\r\n      case 'aadhaar':\r\n        if (this.patientSearchData && this.patientSearchData.length === 12) {\r\n          this.isEnable = true;\r\n        }\r\n        break;\r\n      case 'patientId':\r\n        if (this.patientSearchData && this.patientSearchData.length > 6) {\r\n          this.isEnable = true;\r\n        }\r\n        break;\r\n      default:\r\n        if (this.patientSearchData && this.patientSearchData.length === 10) {\r\n          this.isEnable = true;\r\n        }\r\n        break;\r\n    }\r\n  }\r\n\r\n  getAvatorImg(data) {\r\n    const image =\r\n      data && data.gender === 'Female' ? 'female-ico.png' : 'male-ico.png';\r\n    return `https://s3.ap-south-1.amazonaws.com/dru.assets/images/app/icons/${image}`;\r\n  }\r\n\r\n  patientSearchControl() {\r\n    this.patinetSearchControl = new FormControl('mobile');\r\n    this.placeholderValue = 'Search Patient by Mobile Number';\r\n    this.searchType = 'mobile';\r\n    this.patinetSearchControl.valueChanges.subscribe(res => {\r\n      this.patientSearchData = '';\r\n      this.searchType = res;\r\n      switch (this.searchType) {\r\n        case 'name':\r\n          this.placeholderValue = 'Search Patient by Name';\r\n          break;\r\n        case 'aadhaar':\r\n          this.placeholderValue = 'Search Patient by Aadhaar Number';\r\n          break;\r\n        case 'patientId':\r\n          this.placeholderValue = 'Search Patient by Hospital ID';\r\n          break;\r\n        default:\r\n          this.placeholderValue = 'Search Patient by Mobile Number';\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n  selectForm() {\r\n    this.formType = new FormControl('undefined');\r\n    this.router.navigate(['discharge-summary/new-summary']);\r\n    this.formType.valueChanges.subscribe(val => {\r\n      switch (val) {\r\n        case 'NICU':\r\n          this.router.navigate(['discharge-summary/new-summary/nicu-form']);\r\n          break;\r\n        case 'PICU':\r\n          this.router.navigate(['discharge-summary/new-summary/picu-form']);\r\n          break;\r\n        case 'WARD':\r\n          this.router.navigate(['discharge-summary/new-summary/ward-form']);\r\n          break;\r\n        default:\r\n          this.router.navigate(['discharge-summary/new-summary']);\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n  searchPatient() {\r\n    this.isPatientsNotAvl = false;\r\n    this.checkValidations();\r\n    if (!this.isEnable) {\r\n      return false;\r\n    }\r\n    const payload = {\r\n      authenticatedUserId: this.userSession.regId,\r\n      orgId: this.userSession.orgId,\r\n      orgGroupId: this.userSession.orgGroupId,\r\n    };\r\n    switch (this.searchType) {\r\n      case 'name':\r\n        payload['patientName'] = this.patientSearchData;\r\n        break;\r\n      case 'aadhaar':\r\n        payload['aadharNumber'] = this.patientSearchData;\r\n        break;\r\n      case 'patientId':\r\n        payload['hospitalPatientId'] = this.patientSearchData;\r\n        break;\r\n      default:\r\n        payload['mobileNumber'] = this.patientSearchData;\r\n        break;\r\n    }\r\n    this.dischargeSummaryApiService\r\n      .fetchPatientDetailsForDischargeSummary(payload)\r\n      .subscribe(\r\n        response => {\r\n          if (response && response.responseCode === 'E200') {\r\n            this.patientData = response.data;\r\n            this.patientSearchData = '';\r\n            if (this.patientData && this.patientData.length) {\r\n              this.patientData = this.patientData.map(patient => {\r\n                if (patient.age || patient.age === 0) {\r\n                  patient.ageYears = this.utilService\r\n                    .parseAgeIndays(patient.age)\r\n                    .get('patientAge');\r\n                }\r\n                if (patient.birthDt) {\r\n                  patient.ageYears = this.utilService\r\n                    .parseDob(patient.birthDt)\r\n                    .get('patientAge');\r\n                }\r\n                return patient;\r\n              });\r\n              this.isSearchPatient = false;\r\n              this.isPatientsNotAvl = false;\r\n              this.isPatientsAvl = true;\r\n            } else {\r\n              this.isPatientsNotAvl = true;\r\n              this.isPatientsAvl = false;\r\n              this.isSearchPatient = false;\r\n            }\r\n            this.cd.detectChanges();\r\n          } else if (response && response.responseCode === 'E400') {\r\n            this.snackBar.open(response.responseMessage, 'Cancel', {\r\n              duration: 1500\r\n            });\r\n          }\r\n        },\r\n        (errorResponse: HttpErrorResponse) => {\r\n          if (errorResponse.status > 0) {\r\n            this.snackBar.open(errorResponse.error.responseMessage, 'Cancel', {\r\n              duration: 1500\r\n            });\r\n          } else {\r\n            this.snackBar.open('Network Slow', 'Cancel', {\r\n              duration: 1500\r\n            });\r\n          }\r\n        });\r\n    this.isEnable = false;\r\n    this.isDischargePt = false;\r\n    this.router.navigate(['discharge-summary/new-summary']);\r\n  }\r\n\r\n  ngOnDestroy() {}\r\n}\r\n","<div class=\"col-sm-12 p-0 bg-white border-left border-bottom border-right border-bottom-radius\">\r\n  <div class=\"col-sm-12 p-5 form-title\">{{ 'DISCHARGE_SUMMARY.NICU' | translate }}</div>\r\n  <form [formGroup]=\"nicuFormGroup\">\r\n    <div class=\"row m-0 p-5\">\r\n      <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n        <label>{{ 'DISCHARGE_SUMMARY.CONSULTANT' | translate }}</label>\r\n        <textarea formControlName=\"doctorId\" disabled></textarea>\r\n      </div>\r\n      <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n        <label>{{ 'DISCHARGE_SUMMARY.DIAGNOSIS' | translate }}</label>\r\n        <textarea formControlName=\"finalDiagnosis\"></textarea>\r\n      </div>\r\n      <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n        <label>{{ 'DISCHARGE_SUMMARY.OBSTETRIC_HISTORY' | translate }}</label>\r\n        <textarea formControlName=\"obstetricHistory\"></textarea>\r\n      </div>\r\n      <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n        <label>{{ 'DISCHARGE_SUMMARY.ANTENATAL_PROBLEM' | translate }}</label>\r\n        <textarea formControlName=\"antenatalProblems\"></textarea>\r\n      </div>\r\n      <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n        <label>{{ 'DISCHARGE_SUMMARY.MBG' | translate }}</label>\r\n        <textarea formControlName=\"motherBloodGroupNm\"></textarea>\r\n      </div>\r\n      <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n        <label>{{ 'DISCHARGE_SUMMARY.BBG' | translate }}</label>\r\n        <textarea formControlName=\"babyBloodBroupNm\"></textarea>\r\n      </div>\r\n      <div class=\"col-sm-6 p-l-r-5 p-b-5\">\r\n        <div class=\"row m-0\">\r\n          <label>{{ 'DISCHARGE_SUMMARY.BIRTH_DETAILS' | translate }}</label>&nbsp; <p>(DATE/TIME/SEX)</p>\r\n        </div>\r\n        <div class=\"row m-0\">\r\n          <div class=\"col-sm-4 p-0\">\r\n            <input type=\"text\" class=\"no-border-right\" formControlName=\"birthDt\" [max]=\"dateMax\" [matDatepicker]=\"fromDt\" (click)=\"datePickerToggler(fromDt)\" readonly>\r\n            <mat-datepicker #fromDt></mat-datepicker>\r\n          </div>\r\n          <div class=\"col-sm-4 p-0\">\r\n            <input type=\"text\" class=\"border-radius-0\" formControlName=\"birthTm\" [owlDateTimeTrigger]=\"time\" [owlDateTime]=\"time\" readonly>\r\n            <owl-date-time [pickerType]=\"'timer'\" #time></owl-date-time>\r\n          </div>\r\n          <div class=\"col-sm-4 p-0\">\r\n            <select formControlName=\"gender\" class=\"no-border-left\">\r\n              <option [value]=\"'male'\">Male</option>\r\n              <option [value]=\"'female'\">Female</option>\r\n              <option [value]=\"'transgender'\">Transgender</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-6 p-l-r-5 p-b-5\">\r\n        <div class=\"row m-0\">\r\n          <div class=\"col-sm-4 p-0\">\r\n            <label>{{ 'DISCHARGE_SUMMARY.BIRTH_WT' | translate }}:</label>(Kgs)\r\n          </div>\r\n          <div class=\"col-sm-4 p-0\">\r\n            <label>{{ 'DISCHARGE_SUMMARY.HC' | translate }}</label>(cms)\r\n          </div>\r\n          <div class=\"col-sm-4 p-0\">\r\n            <label>{{ 'DISCHARGE_SUMMARY.L' | translate }}</label>(cms)\r\n          </div>\r\n        </div>\r\n        <div class=\"row m-0\">\r\n          <div class=\"col-sm-4 p-5\">\r\n            <input type=\"text\" formControlName=\"birthWeight\">\r\n          </div>\r\n          <div class=\"col-sm-4 p-5\">\r\n            <input type=\"text\" formControlName=\"headCircumference\">\r\n          </div>\r\n          <div class=\"col-sm-4 p-5\">\r\n            <input type=\"text\" formControlName=\"birthLength\">\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n        <label>{{ 'DISCHARGE_SUMMARY.MOD' | translate }}</label>&nbsp; <p>(LSCS/NVD/FORECEPS)</p>\r\n        <textarea formControlName=\"modeOfDelivery\"></textarea>\r\n      </div>\r\n      <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n        <label>{{ 'DISCHARGE_SUMMARY.APGAR' | translate }}</label>\r\n        <textarea formControlName=\"apgarComments\"></textarea>\r\n      </div>\r\n      <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n        <label>{{ 'DISCHARGE_SUMMARY.AT_ADMISSION_SUMMARY' | translate }}</label>\r\n        <textarea formControlName=\"admissionSummary\"></textarea>\r\n      </div>\r\n      <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n        <label>{{ 'DISCHARGE_SUMMARY.HOSPITAL_COURSE' | translate }}</label>\r\n        <textarea formControlName=\"courseInHospital\"></textarea>\r\n      </div>\r\n      <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n        <label>{{ 'DISCHARGE_SUMMARY.INVESTIGATION_DONE' | translate }}</label>\r\n        <textarea formControlName=\"investigation\" disabled></textarea>\r\n      </div>\r\n      <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n        <label>{{ 'DISCHARGE_SUMMARY.CONDITION_AT_DISCHARGE' | translate }}</label>\r\n        <textarea formControlName=\"conditionAtDischarge\"></textarea>\r\n      </div>\r\n      <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n        <label>{{ 'DISCHARGE_SUMMARY.RX_ON_DISCHARGE' | translate }}</label>\r\n        <textarea formControlName=\"drugPrescriptionRemarks\"></textarea>\r\n      </div>\r\n      <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n        <label>{{ 'DISCHARGE_SUMMARY.WARM_CARE' | translate }}</label>\r\n        <textarea formControlName=\"warmcareInstructions\"></textarea>\r\n      </div>\r\n      <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n        <label>{{ 'DISCHARGE_SUMMARY.FEEDING_AS_ADVICED' | translate }}</label>\r\n        <textarea formControlName=\"feedingAdvice\"></textarea>\r\n      </div>\r\n      <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n        <label>{{ 'DISCHARGE_SUMMARY.IMMUNIZATION_AS_PER_SCHEDULE' | translate }}</label>\r\n        <textarea formControlName=\"immunizationComments\"></textarea>\r\n      </div>\r\n      <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n        <label>{{ 'DISCHARGE_SUMMARY.MEDICATIONS' | translate }}</label>\r\n        <textarea formControlName=\"medications\"></textarea>\r\n      </div>\r\n      <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n        <label>{{ 'DISCHARGE_SUMMARY.ROP_BERA_EEG' | translate }}</label>\r\n        <textarea formControlName=\"testNm\"></textarea>\r\n      </div>\r\n      <div class=\"row m-0 p-l-r-5 p-b-5\">\r\n        <label>{{ 'DISCHARGE_SUMMARY.FOLLOW_UP_AFTER' | translate }}</label> (Days/SOS)\r\n        <input type=\"text\" formControlName=\"nextVisit\">\r\n      </div>\r\n    </div>\r\n  </form>\r\n</div>\r\n<div class=\"col-sm-12 p-0 pt-2\">\r\n  <button class=\"btn-app btn-save col-sm-2\" (click)=\"saveToDraft()\" [disabled]=\"isDraftDisable\">{{ 'DISCHARGE_SUMMARY.SAVE_AS_DRAFT' | translate }}</button>\r\n  <button class=\"btn-app btn-save col-sm-2\" (click)=\"saveAndPrint()\">{{ 'DISCHARGE_SUMMARY.SAVE_AND_PRINT' | translate }}</button>\r\n</div>\r\n\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  OnDestroy,\r\n  Inject\r\n} from '@angular/core';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\nimport { DischargeSummaryDataService } from '@app/modules/discharge-summary/discharge-summary-data.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { DischargeSummaryApiService } from '@core/services/discharge-summary-api.service';\r\nimport { AutoUnsubscribe } from 'ngx-auto-unsubscribe';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\nimport { MOMENT, ReportsApiServce, UserService } from '@core/services';\r\nimport { MatDatepicker } from '@angular/material/datepicker';\r\nimport { UserSession } from '@core/models/user-session';\r\nimport { Router } from '@angular/router';\r\n@AutoUnsubscribe()\r\n@Component({\r\n  selector: 'app-nicu-form',\r\n  templateUrl: './nicu-form.component.html',\r\n  styleUrls: ['./nicu-form.component.scss']\r\n})\r\nexport class NicuFormComponent implements OnInit, OnDestroy {\r\n  nicuFormGroup: FormGroup;\r\n  patientData: any;\r\n  patientDataSubscription: Subscription;\r\n  draftsDataSubscription: Subscription;\r\n  userSession: UserSession;\r\n  birthDt: any;\r\n  birthTm: any;\r\n  dateMax = new Date();\r\n  isEdit = false;\r\n  isDraftDisable = false;\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private dischargeSummaryDataService: DischargeSummaryDataService,\r\n    private dischargeSummaryAPIService: DischargeSummaryApiService,\r\n    private reportsApiService: ReportsApiServce,\r\n    private userService: UserService,\r\n    private router: Router,\r\n    private snackBar: MatSnackBar,\r\n    @Inject(MOMENT) private moment\r\n  ) {\r\n    this.userSession = this.userService.getUser();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.initForm();\r\n    this.subscribedData();\r\n  }\r\n\r\n  subscribedData() {\r\n    this.patientDataSubscription = this.dischargeSummaryDataService.patientData.subscribe(\r\n      val => {\r\n        if (val) {\r\n          this.patientData = val;\r\n          this.nicuFormGroup.patchValue({\r\n            doctorId: this.patientData.doctorName\r\n          });\r\n        }\r\n      }\r\n    );\r\n    this.draftsDataSubscription = this.dischargeSummaryDataService.draftsData.subscribe(\r\n      val => {\r\n        if (val) {\r\n          this.isEdit = true;\r\n          this.patientData = val;\r\n          if (this.patientData.isFinalized) {\r\n            this.isDraftDisable = true;\r\n          }\r\n          this.nicuFormGroup.patchValue(val);\r\n          this.nicuFormGroup.patchValue({\r\n            doctorId: val.doctorName,\r\n            investigation: 'Reports Enclosed',\r\n          });\r\n          if (val.birthTm) {\r\n            const birthTm = this.moment(val.birthTm, 'HH:mm:ss').format();\r\n            this.nicuFormGroup.patchValue({\r\n              birthTm: birthTm,\r\n            });\r\n          }\r\n        } else {\r\n          this.isEdit = false;\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  datePickerToggler(datePicker: MatDatepicker<Date>) {\r\n    datePicker[datePicker.opened ? 'close' : 'open']();\r\n  }\r\n\r\n  fetchNICUReport(data) {\r\n    const queryparams = {\r\n      orgId: this.userSession.orgId,\r\n      loggedInUserId: this.userSession.regId,\r\n      nicuDischargeSummaryId: data.nicuDischargeSummaryId\r\n    };\r\n    this.reportsApiService.fetchNICUReport(queryparams).subscribe(\r\n      response => {\r\n        if (response instanceof ArrayBuffer) {\r\n          const orderRePrint = new Blob([response], {\r\n            type: 'application/pdf'\r\n          });\r\n          const reportURL = URL.createObjectURL(orderRePrint);\r\n          const win = window.open('', '_blank');\r\n          win.location.href = reportURL;\r\n          setTimeout(() => {\r\n            win.print();\r\n          }, 1000);\r\n        } else if (response.responseCode) {\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      },\r\n      () => {\r\n        this.snackBar.open('Failure Something Went Wrong', 'Cancel', {\r\n          duration: 1500\r\n        });\r\n      }\r\n    );\r\n  }\r\n\r\n  initForm() {\r\n    this.nicuFormGroup = this.formBuilder.group({\r\n      doctorId: '',\r\n      finalDiagnosis: '',\r\n      obstetricHistory: '',\r\n      antenatalProblems: '',\r\n      motherBloodGroupNm: '',\r\n      babyBloodBroupNm: '',\r\n      birthDt: '',\r\n      birthTm: '',\r\n      gender: '',\r\n      modeOfDelivery: '',\r\n      apgarComments: '',\r\n      birthWeight: '',\r\n      courseInHospital: '',\r\n      investigation: 'Reports Done',\r\n      conditionAtDischarge: '',\r\n      drugPrescriptionRemarks: '',\r\n      medications: '',\r\n      warmcareInstructions: '',\r\n      feedingAdvice: '',\r\n      immunizationComments: '',\r\n      testNm: '',\r\n      nextVisit: '',\r\n      headCircumference: '',\r\n      birthLength: '',\r\n      admissionSummary: ''\r\n    });\r\n    this.nicuFormGroup.get('birthDt').valueChanges.subscribe(val => {\r\n      if (val) {\r\n        this.birthDt = this.moment('' + val).format('YYYY-MM-DD');\r\n      }\r\n    });\r\n    this.nicuFormGroup.get('birthTm').valueChanges.subscribe(val => {\r\n      if (val) {\r\n        this.birthTm = this.moment('' + val).format('HH:mm:ss');\r\n      }\r\n    });\r\n  }\r\n\r\n  insertNicuForm(data) {\r\n    const payload = this.nicuFormGroup.value;\r\n    payload['createdUsrId'] = this.userSession.regId;\r\n    payload['orgId'] = this.userSession.orgId;\r\n    payload['orgGrpId'] = this.userSession.orgGroupId;\r\n    payload['isFinalized'] = data;\r\n    payload['patientId'] = this.patientData.patientId;\r\n    payload['hosPatientId'] = this.patientData.hosPatientId;\r\n    payload['admitDt'] = this.patientData.admitDate;\r\n    payload['dischargeDt'] = this.patientData.dischargeDate;\r\n    payload['deptId'] = this.patientData.deptId;\r\n    payload['doctorId'] = this.patientData.doctorId;\r\n    payload['birthDt'] = this.birthDt;\r\n    payload['birthTm'] = this.birthTm;\r\n    payload['patientVisitId'] = this.patientData.patientVisitId;\r\n    this.dischargeSummaryAPIService.insertNicu(payload).subscribe(\r\n      response => {\r\n        if (response && response.responseCode === 'E200') {\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n          if (data) {\r\n            this.fetchNICUReport(response.data);\r\n          }\r\n\r\n          this.nicuFormGroup.reset();\r\n          this.nicuFormGroup.patchValue({\r\n            doctorId: this.patientData.doctorName,\r\n            investigation: 'Reports Done'\r\n          });\r\n          // this.router.navigate(['discharge-summary/new-summary']);\r\n        } else if (response && response.responseCode === 'E400') {\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      },\r\n      (errorResponse: HttpErrorResponse) => {\r\n        if (errorResponse.status > 0) {\r\n          this.snackBar.open(errorResponse.error.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        } else {\r\n          this.snackBar.open('Network Slow', 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  updateNicu(data) {\r\n    const payload = this.nicuFormGroup.value;\r\n    payload['createdUsrId'] = this.userSession.regId;\r\n    payload['orgId'] = this.userSession.orgId;\r\n    payload['orgGrpId'] = this.userSession.orgGroupId;\r\n    payload['isFinalized'] = data;\r\n    payload['patientId'] = this.patientData.patientId;\r\n    payload['hosPatientId'] = this.patientData.hosPatientId;\r\n    payload['admitDt'] = this.patientData.admitDate;\r\n    payload['dischargeDt'] = this.patientData.dischargeDate;\r\n    payload['deptId'] = this.patientData.deptId;\r\n    payload['doctorId'] = this.patientData.doctorId;\r\n    payload['birthDt'] = this.birthDt;\r\n    payload['birthTm'] = this.birthTm;\r\n    payload['patientVisitId'] = this.patientData.patientVisitId;\r\n    payload['nicuDischargeSummaryId'] = this.patientData.nicuDischargeSummaryId;\r\n    if (this.patientData.isFinalized) {\r\n      payload['isBackup'] = true;\r\n    } else {\r\n      payload['isBackup'] = false;\r\n    }\r\n    this.dischargeSummaryAPIService.updateNicu(payload).subscribe(\r\n      response => {\r\n        if (response && response.responseCode === 'E200') {\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n          if (data) {\r\n            this.fetchNICUReport(this.patientData);\r\n          }\r\n          this.nicuFormGroup.reset();\r\n          this.nicuFormGroup.patchValue({\r\n            doctorId: this.patientData.doctorName,\r\n            investigation: 'Reports Done'\r\n          });\r\n          // this.router.navigate(['discharge-summary/new-summary']);\r\n        } else if (response && response.responseCode === 'E400') {\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n        this.dischargeSummaryDataService.draftsData.next(null);\r\n      },\r\n      (errorResponse: HttpErrorResponse) => {\r\n        if (errorResponse.status > 0) {\r\n          this.snackBar.open(errorResponse.error.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        } else {\r\n          this.snackBar.open('Network Slow', 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  saveToDraft() {\r\n    if (this.isEdit) {\r\n      this.updateNicu(false);\r\n    } else {\r\n      this.insertNicuForm(false);\r\n    }\r\n  }\r\n\r\n  saveAndPrint() {\r\n    if (this.isEdit) {\r\n      this.updateNicu(true);\r\n    } else {\r\n      this.insertNicuForm(true);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {}\r\n}\r\n","<div class=\"col-sm-12 p-0 bg-white border-left border-bottom border-right border-bottom-radius\">\r\n    <div class=\"col-sm-12 p-5 form-title\">{{ 'DISCHARGE_SUMMARY.PICU' | translate }}</div>\r\n    <form [formGroup]=\"picuFormGroup\">\r\n      <div class=\"row m-0 p-5\">\r\n        <!-- <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n          <label>{{ 'DISCHARGE_SUMMARY.PATIENT_NAME' | translate }}</label>\r\n          <textarea formControlName=\"patientName\" disabled></textarea>\r\n        </div>\r\n        <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n          <label>{{ 'COMMONLABELS.MOBILE_NO_TEXT' | translate }}</label>\r\n          <textarea formControlName=\"patientMobileNo\" disabled></textarea>\r\n        </div> -->\r\n        <!-- <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n          <label>IPD Number</label>\r\n          <textarea formControlName=\"ipdNo\" disabled></textarea>\r\n        </div>\r\n        <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n          <label>{{ 'DISCHARGE_SUMMARY.ADMISSION_NUMBER' | translate }}</label>\r\n          <textarea formControlName=\"admissionNo\" disabled></textarea>\r\n        </div> -->\r\n        <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n          <label>{{ 'DISCHARGE_SUMMARY.CONSULTANT' | translate }}</label>\r\n          <textarea formControlName=\"consultantNames\"></textarea>\r\n        </div>\r\n        <!-- <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n          <label>{{ 'DISCHARGE_SUMMARY.CONSULTANT_MOBILE_NO' | translate }}</label>\r\n          <textarea formControlName=\"doctorMobileNo\" disabled=\"isDischargeDt\"></textarea>\r\n        </div> -->\r\n        <!-- <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n          <label>{{ 'COMMONLABELS.DEPARTMENT_SPECIALITY' | translate }}</label>\r\n          <textarea formControlName=\"deptId\" disabled></textarea>\r\n        </div> -->\r\n        <!-- <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n          <label>{{ 'DISCHARGE_SUMMARY.DATE_OF_ADMISSION_WITH_TIME' | translate }}</label>\r\n          <textarea formControlName=\"admitDt\" disabled></textarea>\r\n        </div>\r\n        <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n          <label>{{ 'DISCHARGE_SUMMARY.DATE_OF_DISCHARGE_WITH_TIME' | translate }}</label>\r\n          <textarea formControlName=\"dischargeDt\" disabled></textarea>\r\n        </div> -->\r\n        <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n          <label>{{ 'DISCHARGE_SUMMARY.MLC_NUMBER' | translate }}</label>\r\n          <textarea formControlName=\"medicoLegalCaseNo\"></textarea>\r\n        </div>\r\n        <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n          <label>{{ 'DISCHARGE_SUMMARY.FIR_NUMBER' | translate }}</label>\r\n          <textarea formControlName=\"firNo\"></textarea>\r\n        </div>\r\n        <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n          <label>{{ 'DISCHARGE_SUMMARY.PROVISIONAL_DIAGNOSIS_AT_THE_TIME_OF_ADMISSION' | translate }}</label>\r\n          <textarea formControlName=\"provisionalDiagnosis\"></textarea>\r\n        </div>\r\n        <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n          <label>{{ 'DISCHARGE_SUMMARY.FINAL_DIAGNOSIS_AT_THE_TIME_OF_ADMISSION' | translate }}</label>\r\n          <textarea formControlName=\"finalDiagnosis\"></textarea>\r\n        </div>\r\n        <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n          <label>{{ 'DISCHARGE_SUMMARY.ICD_10_CODES_FOR_FINAL_DIAGNOSIS' | translate }}</label>\r\n          <textarea formControlName=\"icd10FinalDiagnosis\"></textarea>\r\n        </div>\r\n        <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n          <label>{{ 'DISCHARGE_SUMMARY.PRESENTING_COMPLAINTS_WITH_DURATION_AND_REASON_FOR_ADMISSION' | translate }}</label>\r\n          <textarea formControlName=\"healthComplaints\"></textarea>\r\n        </div>\r\n        <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n          <label>{{ 'DISCHARGE_SUMMARY.SUMMARY_OF_PRESENTING_ILLNESS' | translate }}</label>\r\n          <textarea formControlName=\"patientPresentIllness\"></textarea>\r\n        </div>\r\n        <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n          <label>{{ 'DISCHARGE_SUMMARY.KEY_FINDINGS_ON_PHYSICAL_EXAMINATION_AT_THE_TIME_OF_ADMISSION' | translate }}</label>\r\n          <textarea formControlName=\"keyFindings\"></textarea>\r\n        </div>\r\n        <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n          <label>{{ 'DISCHARGE_SUMMARY.SIGNIFICANT_PAST_MEDICAL_AND_SURGICAL_HISTORY(IF_ANY)' | translate }}</label>\r\n          <textarea formControlName=\"patientPastHistory\"></textarea>\r\n        </div>\r\n        <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n          <label>{{ 'DISCHARGE_SUMMARY.FAMILY_HISTORY_IF_SIGNIFICANT_RELEVANT_TO_DIAGNOSIS_OR_TREATMENT' | translate }}</label>\r\n          <textarea formControlName=\"familyHistory\"></textarea>\r\n        </div>\r\n        <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n          <label>{{ 'DISCHARGE_SUMMARY.SUMMARY_OF_KEY_INVESTIGATIONS_DURING_HOSPITALIZATION' | translate }}</label>\r\n          <textarea formControlName=\"keyInvestigations\"></textarea>\r\n        </div>\r\n        <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n          <label>{{ 'DISCHARGE_SUMMARY.COURSE_IN_THE_HOSPITAL_INCLUDING_COMPLICATIONS(IF_ANY)' | translate }}</label>\r\n          <textarea formControlName=\"courseInHospital\"></textarea>\r\n        </div>\r\n        <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n          <label>{{ 'DISCHARGE_SUMMARY.ADVICE_ON_DISCHARGE' | translate }}</label>\r\n          <textarea formControlName=\"dischargeAdvice\"></textarea>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n  <div class=\"col-sm-12 p-0 pt-2\">\r\n    <button class=\"btn-app btn-save col-sm-2\" (click)=\"saveToDraft()\" [disabled]=\"isDraftDisable\">{{ 'DISCHARGE_SUMMARY.SAVE_AS_DRAFT' | translate }}</button>\r\n    <button class=\"btn-app btn-save col-sm-2\" (click)=\"saveAndPrint()\">{{ 'DISCHARGE_SUMMARY.SAVE_AND_PRINT' | translate }}</button>\r\n  </div>\r\n","import { Component, OnInit, OnDestroy, Inject } from '@angular/core';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\nimport { DischargeSummaryApiService } from '@core/services/discharge-summary-api.service';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\nimport { AutoUnsubscribe } from 'ngx-auto-unsubscribe';\r\nimport { DischargeSummaryDataService } from '@app/modules/discharge-summary/discharge-summary-data.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { MOMENT, ReportsApiServce, UserService } from '@core/services';\r\nimport { UserSession } from '@core/models/user-session';\r\nimport { Router } from '@angular/router';\r\n@AutoUnsubscribe()\r\n@Component({\r\n  selector: 'app-picu-form',\r\n  templateUrl: './picu-form.component.html',\r\n  styleUrls: ['./picu-form.component.scss']\r\n})\r\nexport class PicuFormComponent implements OnInit, OnDestroy {\r\n  picuFormGroup: FormGroup;\r\n  patientData: any;\r\n  draftsDataSubscription: Subscription;\r\n  patientDataSubscription: Subscription;\r\n  userSession: UserSession;\r\n  isDraftDisable = false;\r\n  isEdit = false;\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private readonly dischargeSummaryApiService: DischargeSummaryApiService,\r\n    private reportsApiService: ReportsApiServce,\r\n    private dischargeSummaryDataService: DischargeSummaryDataService,\r\n    private userService: UserService,\r\n    private router: Router,\r\n    private snackBar: MatSnackBar,\r\n    @Inject(MOMENT) private moment\r\n  ) {\r\n    this.userSession = this.userService.getUser();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.initForm();\r\n    this.subscribedData();\r\n  }\r\n\r\n  subscribedData() {\r\n    this.patientDataSubscription = this.dischargeSummaryDataService.patientData.subscribe(\r\n      val => {\r\n        if (val) {\r\n          this.isEdit = false;\r\n          this.patientData = val;\r\n          console.log(this.patientData);\r\n          const admitDt = this.moment(this.patientData.admitDate).format('DD/MM/YYYY HH:MM');\r\n          this.picuFormGroup.patchValue({\r\n            patientName: this.patientData.patientName,\r\n            patientMobileNo: this.patientData.mobileNo,\r\n            consultantNames: this.patientData.doctorName,\r\n            deptId: this.patientData.deptnm,\r\n            admitDt: admitDt,\r\n            admissionNo: this.patientData.patientAdmintId,\r\n            ipdNo: this.patientData.ipdNo,\r\n            doctorMobileNo: this.patientData.doctorMobileNo\r\n          });\r\n          if (this.patientData.dischargeDate) {\r\n            const dischargeDt = this.moment(this.patientData.dischargeDate).format('DD/MM/YYYY HH:MM');\r\n            this.picuFormGroup.patchValue({\r\n              dischargeDt: dischargeDt\r\n            });\r\n          }\r\n        }\r\n      });\r\n      this.draftsDataSubscription = this.dischargeSummaryDataService.draftsData.subscribe(\r\n        val => {\r\n          if (val) {\r\n            this.isEdit = true;\r\n            this.patientData = val;\r\n            if (this.patientData.isFinalized) {\r\n              this.isDraftDisable = true;\r\n            }\r\n            const admitDt = new Date(val.admitDt);\r\n            this.picuFormGroup.patchValue(val);\r\n            this.picuFormGroup.patchValue({\r\n              deptId : val.deptName,\r\n              admitDt: this.moment('' + admitDt).format('DD/MM/YYYY HH:MM'),\r\n            });\r\n            if (this.patientData.dischargeDate) {\r\n              const dischargeDt = new Date(val.dischargeDt);\r\n              this.picuFormGroup.patchValue({\r\n                dischargeDt: this.moment('' + dischargeDt).format('DD/MM/YYYY HH:MM')\r\n              });\r\n            }\r\n          } else {\r\n            this.isEdit = false;\r\n          }\r\n        });\r\n  }\r\n\r\n  fetchPICUReport(data) {\r\n    const queryparams = {\r\n      orgId: this.userSession.orgId,\r\n      loggedInUserId: this.userSession.regId,\r\n      dischargeSummaryId: data.dischargeSummaryId\r\n     };\r\n     this.reportsApiService.fetchPICUReport(queryparams).subscribe(\r\n       response => {\r\n         if (response instanceof ArrayBuffer) {\r\n           const orderRePrint = new Blob([response], {\r\n             type: 'application/pdf'\r\n           });\r\n           const reportURL = URL.createObjectURL(orderRePrint);\r\n           const win = window.open('', '_blank');\r\n           win.location.href = reportURL;\r\n           setTimeout(() => {\r\n             win.print();\r\n           }, 1000);\r\n         } else if (response.responseCode) {\r\n           this.snackBar.open(response.responseMessage, 'Cancel', {\r\n             duration: 1500\r\n           });\r\n         }\r\n       },\r\n       () => {\r\n         this.snackBar.open('Failure Something Went Wrong', 'Cancel', {\r\n           duration: 1500\r\n         });\r\n       });\r\n   }\r\n\r\n  initForm() {\r\n    this.picuFormGroup = this.formBuilder.group({\r\n      patientName: '',\r\n      patientMobileNo: '',\r\n      ipdNo: '',\r\n      admissionNo: '',\r\n      consultantNames: '',\r\n      doctorMobileNo: '',\r\n      admitDt: '',\r\n      dischargeDt: '',\r\n      medicoLegalCaseNo: '',\r\n      firNo: '',\r\n      provisionalDiagnosis: '',\r\n      finalDiagnosis: '',\r\n      icd10FinalDiagnosis: '',\r\n      keyInvestigations: '',\r\n      courseInHospital: '',\r\n      dischargeAdvice: '',\r\n      patientPresentIllness: '',\r\n      patientPastHistory: '',\r\n      familyHistory: '',\r\n      deptId: '',\r\n      keyFindings: '',\r\n      healthComplaints: ''\r\n    });\r\n  }\r\n\r\n  insertPicuForm(data) {\r\n    const payload = this.picuFormGroup.value;\r\n    payload['createdUsrId'] = this.userSession.regId;\r\n    payload['orgId'] = this.userSession.orgId;\r\n    payload['orgGrpId'] = this.userSession.orgGroupId;\r\n    payload['isFinalized'] = data;\r\n    payload['hosPatientId'] = this.patientData.hosPatientId;\r\n    payload['patientId'] = this.patientData.patientId;\r\n    payload['admitDt'] = this.patientData.admitDate;\r\n    payload['dischargeDt'] = this.patientData.dischargeDate;\r\n    payload['deptId'] = this.patientData.deptId;\r\n    payload['doctorName'] = this.patientData.doctorName;\r\n    payload['doctorId'] = this.patientData.doctorId;\r\n    payload['doctorMobileNo'] = this.patientData.doctorMobileNo;\r\n    payload['mobileNo'] = this.patientData.patientMobileNo;\r\n    payload['patientVisitId'] = this.patientData.patientVisitId;\r\n    payload['dischargeSummaryType'] = 'PICU';\r\n    this.dischargeSummaryApiService.insertPicuOrWard(payload).subscribe(\r\n      response => {\r\n        if (response && response.responseCode === 'E200') {\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n          if (data) {\r\n            this.fetchPICUReport(response.data);\r\n          }\r\n          this.picuFormGroup.reset();\r\n          const admitDt = this.moment(this.patientData.admitDate).format('DD/MM/YYYY HH:MM');\r\n          this.picuFormGroup.patchValue({\r\n            patientName: this.patientData.patientName,\r\n            patientMobileNo: this.patientData.mobileNo,\r\n            consultantNames: this.patientData.doctorName,\r\n            deptId: this.patientData.deptnm,\r\n            admitDt: admitDt,\r\n            admissionNo: this.patientData.patientAdmintId,\r\n            ipdNo: this.patientData.ipdNo,\r\n            doctorMobileNo: ''\r\n          });\r\n        } else if (response && response.responseCode === 'E400') {\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      },\r\n      (errorResponse: HttpErrorResponse) => {\r\n        if (errorResponse.status > 0) {\r\n          this.snackBar.open(errorResponse.error.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        } else {\r\n          this.snackBar.open('Network Slow', 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      });\r\n  }\r\n\r\n  updatePicuForm(data) {\r\n    const payload = this.picuFormGroup.value;\r\n    payload['createdUsrId'] = this.userSession.regId;\r\n    payload['orgId'] = this.userSession.orgId;\r\n    payload['orgGrpId'] = this.userSession.orgGroupId;\r\n    payload['isFinalized'] = data;\r\n    payload['hosPatientId'] = this.patientData.hosPatientId;\r\n    payload['patientId'] = this.patientData.patientId;\r\n    payload['admitDt'] = this.patientData.admitDate;\r\n    payload['dischargeDt'] = this.patientData.dischargeDate;\r\n    payload['deptId'] = this.patientData.deptId;\r\n    payload['doctorName'] = this.patientData.doctorName;\r\n    payload['doctorMobileNo'] = this.patientData.doctorMobileNo;\r\n    payload['doctorId'] = this.patientData.doctorId;\r\n    payload['dischargeSummaryType'] = 'PICU';\r\n    payload['mobileNo'] = this.patientData.patientMobileNo;\r\n    payload['patientVisitId'] = this.patientData.patientVisitId;\r\n    payload['dischargeSummaryId'] = this.patientData.dischargeSummaryId;\r\n    if (this.patientData.isFinalized) {\r\n      payload['isBackup'] = true;\r\n    } else {\r\n      payload['isBackup'] = false;\r\n    }\r\n    this.dischargeSummaryApiService.updatePicuOrWard(payload).subscribe(\r\n      response => {\r\n        if (response && response.responseCode === 'E200') {\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n          if (data) {\r\n            this.fetchPICUReport(this.patientData);\r\n          }\r\n          this.picuFormGroup.reset();\r\n          const admitDt = this.moment(this.patientData.admitDate).format('DD/MM/YYYY HH:MM');\r\n          this.picuFormGroup.patchValue({\r\n            patientName: this.patientData.patientName,\r\n            patientMobileNo: this.patientData.mobileNo,\r\n            consultantNames: this.patientData.doctorName,\r\n            deptId: this.patientData.deptnm,\r\n            admitDt: admitDt,\r\n            admissionNo: this.patientData.patientAdmintId,\r\n          });\r\n        } else if (response && response.responseCode === 'E400') {\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n        this.dischargeSummaryDataService.draftsData.next(null);\r\n      },\r\n      (errorResponse: HttpErrorResponse) => {\r\n        if (errorResponse.status > 0) {\r\n          this.snackBar.open(errorResponse.error.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        } else {\r\n          this.snackBar.open('Network Slow', 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      });\r\n  }\r\n\r\n  saveToDraft() {\r\n    if (this.isEdit) {\r\n      this.updatePicuForm(false);\r\n    } else {\r\n      this.insertPicuForm(false);\r\n    }\r\n  }\r\n\r\n  saveAndPrint() {\r\n    if (this.isEdit) {\r\n      this.updatePicuForm(true);\r\n    } else {\r\n      this.insertPicuForm(true);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {}\r\n}\r\n","<div class=\"col-sm-12 p-0 bg-white border-left border-bottom border-right border-bottom-radius\">\r\n  <div class=\"col-sm-12 p-5 form-title\">{{ 'DISCHARGE_SUMMARY.WARD' | translate }}</div>\r\n  <form [formGroup]=\"wardForm\">\r\n    <div class=\"row m-0 p-5\">\r\n      <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n        <label>{{ 'DISCHARGE_SUMMARY.CONSULTANT' | translate }}</label>\r\n        <textarea formControlName=\"consultantNames\" disabled></textarea>\r\n      </div>\r\n      <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n        <label>{{ 'DISCHARGE_SUMMARY.DIAGNOSIS' | translate }}</label>\r\n        <textarea formControlName=\"finalDiagnosis\"></textarea>\r\n      </div>\r\n      <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n        <label>{{ 'DISCHARGE_SUMMARY.CHIEF_COMPLAINTS' | translate }}</label>\r\n        <textarea formControlName=\"healthComplaints\"></textarea>\r\n      </div>\r\n      <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n        <label>{{ 'DISCHARGE_SUMMARY.HISTORY_OF_PRESENTING_ILLNESS' | translate }}</label>\r\n        <textarea formControlName=\"patientPresentIllness\"></textarea>\r\n      </div>\r\n      <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n        <label>{{ 'DISCHARGE_SUMMARY.O_E' | translate }}</label>\r\n        <textarea formControlName=\"dischargeOnExamination\"></textarea>\r\n      </div>\r\n      <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n        <label>{{ 'DISCHARGE_SUMMARY.HOSPITAL_COURSE' | translate }}</label>\r\n        <textarea formControlName=\"courseInHospital\"></textarea>\r\n      </div>\r\n      <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n        <label>{{ 'DISCHARGE_SUMMARY.RX_GIVEN' | translate }}</label>\r\n        <textarea formControlName=\"drugPrescriptionRemarks\"></textarea>\r\n      </div>\r\n      <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n        <label>{{ 'DISCHARGE_SUMMARY.INVESTIGATION' | translate }}</label>\r\n        <textarea formControlName=\"keyInvestigations\" disabled></textarea>\r\n      </div>\r\n      <div class=\"col-sm-12 p-l-r-5 p-b-5\">\r\n        <label>{{ 'DISCHARGE_SUMMARY.ADVICE_ON_DISCHARGE' | translate }}</label>\r\n        <textarea formControlName=\"dischargeAdvice\"></textarea>\r\n      </div>\r\n    </div>\r\n  </form>\r\n</div>\r\n<div class=\"col-sm-12 p-0 pt-2\">\r\n  <button class=\"btn-app btn-save col-sm-2\" (click)=\"saveToDraft()\" [disabled]=\"isDraftDisable\">{{ 'DISCHARGE_SUMMARY.SAVE_AS_DRAFT' | translate }}</button>\r\n  <button class=\"btn-app btn-save col-sm-2\" (click)=\"saveAndPrint()\">{{ 'DISCHARGE_SUMMARY.SAVE_AND_PRINT' | translate }}</button>\r\n</div>\r\n","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\nimport { DischargeSummaryDataService } from '@app/modules/discharge-summary/discharge-summary-data.service';\r\nimport { DischargeSummaryApiService } from '@core/services/discharge-summary-api.service';\r\nimport { AutoUnsubscribe } from 'ngx-auto-unsubscribe';\r\nimport { Subscription } from 'rxjs';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\nimport { ReportsApiServce, UserService } from '@core/services';\r\nimport { UserSession } from '@core/models/user-session';\r\nimport { Router } from '@angular/router';\r\n@AutoUnsubscribe()\r\n@Component({\r\n  selector: 'app-ward-form',\r\n  templateUrl: './ward-form.component.html',\r\n  styleUrls: ['./ward-form.component.scss']\r\n})\r\nexport class WardFormComponent implements OnInit, OnDestroy {\r\n  wardForm: FormGroup;\r\n  patientData: any;\r\n  draftsDataSubscription: Subscription;\r\n  patientDataSubscription: Subscription;\r\n  userSession: UserSession;\r\n  isDraftDisable = false;\r\n  isEdit = false;\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private dischargeSummaryDataService: DischargeSummaryDataService,\r\n    private dischargeSummaryApiService: DischargeSummaryApiService,\r\n    private reportsApiService: ReportsApiServce,\r\n    private router: Router,\r\n    private userService: UserService,\r\n    private snackBar: MatSnackBar\r\n  ) {\r\n    this.userSession = this.userService.getUser();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.initForm();\r\n    this.subscribedData();\r\n  }\r\n\r\n  subscribedData() {\r\n    this.patientDataSubscription = this.dischargeSummaryDataService.patientData.subscribe(\r\n      val => {\r\n        if (val) {\r\n          this.isEdit = false;\r\n          this.patientData = val;\r\n          this.wardForm.patchValue({\r\n            consultantNames: this.patientData.doctorName\r\n          });\r\n        }\r\n      }\r\n    );\r\n    this.draftsDataSubscription = this.dischargeSummaryDataService.draftsData.subscribe(\r\n      val => {\r\n        if (val) {\r\n          this.isEdit = true;\r\n          this.patientData = val;\r\n          if (this.patientData.isFinalized) {\r\n            this.isDraftDisable = true;\r\n          }\r\n          this.wardForm.patchValue(val);\r\n          this.wardForm.patchValue({\r\n            investigation: 'Reports Enclosed'\r\n          });\r\n        } else {\r\n          this.isEdit = false;\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  initForm() {\r\n    this.wardForm = this.formBuilder.group({\r\n      consultantNames: '',\r\n      finalDiagnosis: '',\r\n      healthComplaints: '',\r\n      patientPresentIllness: '',\r\n      dischargeOnExamination: '',\r\n      courseInHospital: '',\r\n      drugPrescriptionRemarks: '',\r\n      keyInvestigations: 'Report Enclosed',\r\n      dischargeAdvice: ''\r\n    });\r\n  }\r\n\r\n  fetchWardReport(data) {\r\n    const queryparams = {\r\n      orgId: this.userSession.orgId,\r\n      loggedInUserId: this.userSession.regId,\r\n      dischargeSummaryId: data.dischargeSummaryId\r\n    };\r\n    this.reportsApiService.fetchWardReport(queryparams).subscribe(\r\n      response => {\r\n        if (response instanceof ArrayBuffer) {\r\n          const orderRePrint = new Blob([response], {\r\n            type: 'application/pdf'\r\n          });\r\n          const reportURL = URL.createObjectURL(orderRePrint);\r\n          const win = window.open('', '_blank');\r\n          win.location.href = reportURL;\r\n          setTimeout(() => {\r\n            win.print();\r\n          }, 1000);\r\n        } else if (response.responseCode) {\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      },\r\n      () => {\r\n        this.snackBar.open('Failure Something Went Wrong', 'Cancel', {\r\n          duration: 1500\r\n        });\r\n      }\r\n    );\r\n  }\r\n\r\n  insertWardForm(data) {\r\n    const payload = this.wardForm.value;\r\n    payload['createdUsrId'] = this.userSession.regId;\r\n    payload['orgId'] = this.userSession.orgId;\r\n    payload['orgGrpId'] = this.userSession.orgGroupId;\r\n    payload['isFinalized'] = data;\r\n    payload['hosPatientId'] = this.patientData.hosPatientId;\r\n    payload['doctorId'] = this.patientData.doctorId;\r\n    payload['patientId'] = this.patientData.patientId;\r\n    payload['admitDt'] = this.patientData.admitDate;\r\n    payload['dischargeDt'] = this.patientData.dischargeDate;\r\n    payload['doctorMobileNo'] = this.patientData.doctorMobileNo;\r\n    payload['doctorName'] = this.patientData.doctorName;\r\n    payload['doctorId'] = this.patientData.doctorId;\r\n    payload['deptId'] = this.patientData.deptId;\r\n    payload['dischargeSummaryType'] = 'WARD';\r\n    payload['mobileNo'] = this.patientData.patientMobileNo;\r\n    payload['patientVisitId'] = this.patientData.patientVisitId;\r\n    this.dischargeSummaryApiService.insertPicuOrWard(payload).subscribe(\r\n      response => {\r\n        if (response && response.responseCode === 'E200') {\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n          if (data) {\r\n            this.fetchWardReport(response.data);\r\n          }\r\n          this.wardForm.reset();\r\n          this.wardForm.patchValue({\r\n            investigation: 'Reports Enclosed',\r\n            consultantNames: this.patientData.doctorName\r\n          });\r\n        } else if (response && response.responseCode === 'E400') {\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n        this.dischargeSummaryDataService.draftsData.next(null);\r\n      },\r\n      (errorResponse: HttpErrorResponse) => {\r\n        if (errorResponse.status > 0) {\r\n          this.snackBar.open(errorResponse.error.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        } else {\r\n          this.snackBar.open('Network Slow', 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  updateWardForm(data) {\r\n    const payload = this.wardForm.value;\r\n    payload['createdUsrId'] = this.userSession.regId;\r\n    payload['orgId'] = this.userSession.orgId;\r\n    payload['orgGrpId'] = this.userSession.orgGroupId;\r\n    payload['isFinalized'] = data;\r\n    payload['hosPatientId'] = this.patientData.hosPatientId;\r\n    payload['patientId'] = this.patientData.patientId;\r\n    payload['doctorId'] = this.patientData.doctorId;\r\n    payload['admitDt'] = this.patientData.admitDate;\r\n    payload['dischargeDt'] = this.patientData.dischargeDate;\r\n    payload['doctorMobileNo'] = this.patientData.doctorMobileNo;\r\n    payload['doctorName'] = this.patientData.doctorName;\r\n    payload['doctorId'] = this.patientData.doctorId;\r\n    payload['deptId'] = this.patientData.deptId;\r\n    payload['dischargeSummaryType'] = 'WARD';\r\n    payload['mobileNo'] = this.patientData.patientMobileNo;\r\n    payload['patientVisitId'] = this.patientData.patientVisitId;\r\n    payload['dischargeSummaryId'] = this.patientData.dischargeSummaryId;\r\n    if (this.patientData.isFinalized) {\r\n      payload['isBackup'] = true;\r\n    } else {\r\n      payload['isBackup'] = false;\r\n    }\r\n    this.dischargeSummaryApiService.updatePicuOrWard(payload).subscribe(\r\n      response => {\r\n        if (response && response.responseCode === 'E200') {\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n          if (data) {\r\n            this.fetchWardReport(this.patientData);\r\n          }\r\n          this.wardForm.reset();\r\n          this.wardForm.patchValue({\r\n            investigation: 'Reports Enclosed',\r\n            consultantNames: this.patientData.doctorName\r\n          });\r\n          this.dischargeSummaryDataService.draftsData.next(null);\r\n        } else if (response && response.responseCode === 'E400') {\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      },\r\n      (errorResponse: HttpErrorResponse) => {\r\n        if (errorResponse.status > 0) {\r\n          this.snackBar.open(errorResponse.error.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        } else {\r\n          this.snackBar.open('Network Slow', 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  saveToDraft() {\r\n    if (this.isEdit) {\r\n      this.updateWardForm(false);\r\n    } else {\r\n      this.insertWardForm(false);\r\n    }\r\n  }\r\n\r\n  saveAndPrint() {\r\n    if (this.isEdit) {\r\n      this.updateWardForm(true);\r\n    } else {\r\n      this.insertWardForm(true);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {}\r\n}\r\n","<div class=\"col-sm-12 p-10\">\r\n  <div class=\"border border-radius-5\">\r\n      <div class=\"row m-0 bg-white p-5 border-bottom\">\r\n          <div class=\"col-sm-9 p-0 total-count\">\r\n            <h3>{{ 'DISCHARGE_SUMMARY.DISCHARGE_SUMMARY_HISTORY_DETAILS' | translate }}</h3>\r\n          </div>\r\n          <div class=\"col-sm-2 row m-0 p-0 total-count\">\r\n            <h3 class=\"col-sm-7\">\r\n              {{ 'DISCHARGE_SUMMARY.SELECT_FORM' | translate }} -\r\n            </h3>\r\n              <select class=\"col-sm-5 p-0\" [formControl]=\"formType\">\r\n                <option value=\"NICU\">{{ 'DISCHARGE_SUMMARY.NICU' | translate }}</option>\r\n                <option value=\"PICU\">{{ 'DISCHARGE_SUMMARY.PICU' | translate }}</option>\r\n                <option value=\"WARD\">{{ 'DISCHARGE_SUMMARY.WARD' | translate }}</option>\r\n              </select>\r\n          </div>\r\n          <div class=\"col-sm-1 p-0 pl-5\">\r\n            <div class=\"filter-content filter-ico\" (click)=\"showFilters()\">\r\n              <button class=\"filter-ico\" id=\"showFilter\">\r\n                <i class=\"fa fa-filter\"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n    <div class=\"row m-0 p-5 bg-white\" *ngIf=\"isFilter\" @slideDown>\r\n      <div class=\"col-sm-6 p-0\">\r\n        <label>{{ 'COMMONLABELS.SEARCH_PATEINT_TEXT' | translate }}</label>\r\n        <div class=\"patient-search\">\r\n          <input name=\"patinetSearchControl\" type=\"radio\" id=\"patientId\" value=\"patientId\"\r\n            [formControl]=\"patinetSearchControl\">\r\n          <label for=\"patientId\" class=\"patient-search__type\">{{ 'COMMONLABELS.PATIENT_ID_TEXT' | translate }}</label>\r\n\r\n          <input name=\"patinetSearchControl\" type=\"radio\" id=\"name\" value=\"name\" [formControl]=\"patinetSearchControl\">\r\n          <label for=\"name\" class=\"border-left patient-search__type\">{{ 'COMMONLABELS.NAME_TEXT' | translate }} </label>\r\n\r\n          <input name=\"patinetSearchControl\" type=\"radio\" id=\"aadhaar\" value=\"aadhaar\"\r\n            [formControl]=\"patinetSearchControl\" />\r\n          <label for=\"aadhaar\" class=\"border-left patient-search__type\">{{ 'COMMONLABELS.AADHAR_TEXT' | translate }}</label>\r\n\r\n          <input name=\"patinetSearchControl\" checked=\"checked\" type=\"radio\" id=\"mobile\" value=\"mobile\"\r\n            [formControl]=\"patinetSearchControl\">\r\n          <label for=\"mobile\" class=\"border-left patient-search__type\">{{ 'COMMONLABELS.MOBILE_TEXT' | translate }}</label>\r\n\r\n          <input type=\"text\" minLength=\"15\" maxLength=\"15\" autocomplete=\"on\" class=\"patient-search__input\"\r\n            [placeholder]=\"placeholderValue\" [(ngModel)]=\"patientSearchData\" (ngModelChange)=\"checkValidations()\" (keyup.enter)=\"searchPatient()\">\r\n          <button type=\"button\" class=\"patient-search__btn\" [disabled]=\"!isEnable\" (click)=\"searchPatient()\">\r\n            <i class=\"fa fa-search \"></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-3\">\r\n        <label>{{ 'COMMONLABELS.FROM_DATE_TEXT' | translate }}\r\n          <sup class=\"astrik-symbol \">\r\n            <i class=\"fa fa-asterisk sym p-l-3\" aria-hidden=\"true\"></i>\r\n          </sup>\r\n        </label>\r\n        <p class=\"input-group\">\r\n          <input type=\"text\" id=\"fromDt\" [matDatepicker]=\"fromDt\" [max]=\"dateMax\" class=\"form-control\" (dateChange)=\"fetchFilteredData()\" [(ngModel)]=\"fromDate\" (click)=\"datePickerToggler(fromDt)\">\r\n          <mat-datepicker #fromDt></mat-datepicker>\r\n          <span class=\"input-group-btn\">\r\n            <button class=\"btn btn-default calendar p-1 p-l-r-10\" id=\"toggle-fromDt\" type=\"button\"\r\n              (click)=\"datePickerToggler(fromDt)\">\r\n              <i class=\"fa fa-calendar icon\"></i>\r\n            </button>\r\n          </span>\r\n        </p>\r\n      </div>\r\n      <div class=\"col-sm-3\">\r\n        <label>{{ 'COMMONLABELS.TO_DATE_TEXT' | translate }}\r\n          <sup class=\"astrik-symbol \">\r\n            <i class=\"fa fa-asterisk sym p-l-3\" aria-hidden=\"true\"></i>\r\n          </sup>\r\n        </label>\r\n        <p class=\"input-group\">\r\n          <input type=\"text\" id=\"toDt\" [matDatepicker]=\"toDt\" [max]=\"dateMax\" class=\"form-control\" (dateChange)=\"fetchFilteredData()\" [(ngModel)]=\"toDate\" (click)=\"datePickerToggler(toDt)\">\r\n          <mat-datepicker #toDt></mat-datepicker>\r\n          <span class=\"input-group-btn\">\r\n            <button class=\"btn btn-default calendar p-1 p-l-r-10\" id=\"toggle-toDt\" type=\"button\"\r\n              (click)=\"datePickerToggler(toDt)\">\r\n              <i class=\"fa fa-calendar icon\"></i>\r\n            </button>\r\n          </span>\r\n        </p>\r\n      </div>\r\n    </div>\r\n    <div class=\"page-info-message col-sm-12 p-0\" *ngIf=\"!isFinalized\">\r\n      <ul>\r\n        <li class=\"info-icon\"><i class=\"mdi mdi-information\"></i></li>\r\n        <li class=\"info-message\">\r\n          <p>Oh! seems all is well, no patients yet. you can click the above filter icon and use it to retrive past summarized patient list</p>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"row m-0 bg-white\" *ngIf=\"isFinalized\">\r\n      <table class=\"scroll-table all-patients-table table\">\r\n        <thead>\r\n          <tr>\r\n            <th class=\"pt-per-dtls\">{{ 'COMMONLABELS.NAME_PERSONAL_DETAILS_TEXT' | translate }}</th>\r\n            <th class=\"adm-dt\">{{ 'DISCHARGE_SUMMARY.ADMISSION_DATE' | translate }}</th>\r\n            <th class=\"disc-dt\">{{ 'DISCHARGE_SUMMARY.DISCHARGE_DATE' | translate }}</th>\r\n            <th class=\"action-items\">{{ 'COMMONLABELS.ACTIONS_TEXT' | translate }}</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody class=\"scrollContent\">\r\n            <tr *ngFor=\"let data of finalizedData; index as i\">\r\n              <td class=\"pt-per-dtls row m-0\">\r\n                <div class=\"pt-img-circle col-sm-2 p-0\">\r\n                  <span class=\"img-container\">\r\n                    <img [src]=\"data.imagePath\" class=\"pic-img-circle\" *ngIf=\"data.imagePath\">\r\n                    <img [src]=\"getAvatorImg(data)\" class=\"pic-img-circle\" *ngIf=\"!data.imagePath\">\r\n                  </span>\r\n                </div>\r\n                <div class=\"patient-dtls-content col-sm-10 p-0\">\r\n                  <h3>{{data.honorificName}} {{data.patientName}}</h3>\r\n                  <label>Patient ID: </label><span class=\"patient-demo-details\">{{data.hosPatientId}}</span>\r\n                  <ul>\r\n                    <li>\r\n                      <p>{{data.gender || 'NA'}}</p>\r\n                    </li>\r\n                    <li>\r\n                      <p>{{data.ageYears || 'NA'}}</p>\r\n                    </li>\r\n                    <li>\r\n                      <p>{{data.mobileNo || 'NA'}}</p>\r\n                    </li>\r\n                    <li>\r\n                      <p>{{data.emailId || 'NA'}}</p>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </td>\r\n              <td class=\"adm-dt\">{{data.admitDt | dateFormat}}</td>\r\n              <td class=\"disc-dt\">{{data.dischargeDt | dateFormat}}</td>\r\n              <td class=\"action-items\">\r\n                <ul>\r\n                <li (click)=\"editSummary(data)\"><i matTooltip=\"Proceed Editing\" class=\"mdi mdi-pencil\"></i></li>\r\n                <li (click)=\"print(data)\"><i matTooltip=\"Print\" class=\"mdi mdi-printer printicon-margin \"></i></li>\r\n                <li (click)=\"deleteDraft(data, i)\"><i matTooltip=\"Delete\" class=\"mdi mdi-delete deleteicon-margin\"></i></li>\r\n                </ul>\r\n              </td>\r\n            </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { MatDatepicker } from '@angular/material/datepicker';\r\nimport { AbstractControl, FormControl } from '@angular/forms';\r\nimport { slideDownAnimation } from '@core/animations';\r\nimport { DischargeSummaryApiService } from '@core/services/discharge-summary-api.service';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\nimport { UtilService } from '@core/services/utils.service';\r\nimport { MOMENT, ReportsApiServce, UserService } from '@core/services';\r\nimport { DeleteConfirmComponent } from '../delete-confirm/delete-confirm.component';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { UserSession } from '@core/models/user-session';\r\nimport { DischargeSummaryDataService } from '../../discharge-summary-data.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-summary-history',\r\n  templateUrl: './summary-history.component.html',\r\n  styleUrls: ['./summary-history.component.scss'],\r\n  animations: [slideDownAnimation]\r\n})\r\nexport class SummaryHistoryComponent implements OnInit {\r\n  patinetSearchControl: AbstractControl;\r\n  placeholderValue: any;\r\n  dateMax = new Date();\r\n  searchType: string;\r\n  formType: AbstractControl;\r\n  selectedFormType: any;\r\n  finalizedData: any;\r\n  fromDate: any;\r\n  toDate: any;\r\n  patientSearchData: any;\r\n  reason: any;\r\n  userSession: UserSession;\r\n  public isEnable = false;\r\n  public isFilter = false;\r\n  public isFinalized = false;\r\n  public isSearchPt = false;\r\n  constructor(\r\n    private dischargeSummaryApiService: DischargeSummaryApiService,\r\n    private dischargeSummaryDataService: DischargeSummaryDataService,\r\n    private reportsApiService: ReportsApiServce,\r\n    private readonly utilService: UtilService,\r\n    private userService: UserService,\r\n    private snackBar: MatSnackBar,\r\n    private dialog: MatDialog,\r\n    private router: Router,\r\n    @Inject(MOMENT) private moment\r\n  ) {\r\n    this.userSession = this.userService.getUser();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.fromDate = this.moment().format();\r\n    this.toDate = this.moment().format();\r\n    this.patientSearch();\r\n    this.selectForm();\r\n    this.dischargeSummaryDataService.draftsData.next(null);\r\n  }\r\n\r\n  checkValidations() {\r\n    this.isEnable = false;\r\n\r\n    switch (this.searchType) {\r\n      case 'name':\r\n        if (this.patientSearchData && this.patientSearchData.length > 2) {\r\n          this.isEnable = true;\r\n        }\r\n        break;\r\n      case 'aadhaar':\r\n        if (this.patientSearchData && this.patientSearchData.length === 12) {\r\n          this.isEnable = true;\r\n        }\r\n        break;\r\n      case 'patientId':\r\n        if (this.patientSearchData && this.patientSearchData.length > 6) {\r\n          this.isEnable = true;\r\n        }\r\n        break;\r\n      default:\r\n        if (this.patientSearchData && this.patientSearchData.length === 10) {\r\n          this.isEnable = true;\r\n        }\r\n        break;\r\n    }\r\n  }\r\n\r\n  datePickerToggler(datePicker: MatDatepicker<Date>) {\r\n    datePicker[datePicker.opened ? 'close' : 'open']();\r\n  }\r\n\r\n  deleteDraft(data, i) {\r\n    const deleteRef = this.dialog.open(DeleteConfirmComponent, {\r\n      width: '330px',\r\n      data: true\r\n    });\r\n    deleteRef.afterClosed().subscribe(res => {\r\n      if (res) {\r\n        this.reason = res;\r\n        switch (this.selectedFormType) {\r\n          case 'NICU':\r\n            this.deleteNicuDraft(data, i);\r\n            break;\r\n          case 'PICU':\r\n          case 'WARD':\r\n            this.deletePicuOrWardDraft(data, i);\r\n            break;\r\n          default:\r\n            this.deleteNicuDraft(data, i);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  deleteNicuDraft(data, i) {\r\n    const payload = {\r\n      authenticatedUserId: this.userSession.regId,\r\n      orgId: this.userSession.orgId,\r\n      orgGroupId: this.userSession.orgGroupId,\r\n      isFinalized: true,\r\n      nicuDischargeSummaryId: data.nicuDischargeSummaryId,\r\n      delteReason: this.reason\r\n    };\r\n    this.dischargeSummaryApiService.deleteNicu(payload).subscribe(\r\n      response => {\r\n        if (response && response.responseCode === 'E200') {\r\n          this.finalizedData.splice(i, 1);\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        } else if (response && response.responseCode === 'E400') {\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      },\r\n      (errorResponse: HttpErrorResponse) => {\r\n        if (errorResponse.status > 0) {\r\n          this.snackBar.open(errorResponse.error.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        } else {\r\n          this.snackBar.open('Network Slow', 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  deletePicuOrWardDraft(data, i) {\r\n    const payload = {\r\n      authenticatedUserId: this.userSession.regId,\r\n      orgId: this.userSession.orgId,\r\n      orgGroupId: this.userSession.orgGroupId,\r\n      isFinalized: true,\r\n      dischargeSummaryId: data.dischargeSummaryId,\r\n      delteReason: this.reason\r\n    };\r\n    this.dischargeSummaryApiService.deletePicuOrWard(payload).subscribe(\r\n      response => {\r\n        if (response && response.responseCode === 'E200') {\r\n          this.finalizedData.splice(i, 1);\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        } else if (response && response.responseCode === 'E400') {\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      },\r\n      (errorResponse: HttpErrorResponse) => {\r\n        if (errorResponse.status > 0) {\r\n          this.snackBar.open(errorResponse.error.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        } else {\r\n          this.snackBar.open('Network Slow', 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  editSummary(data) {\r\n    this.dischargeSummaryDataService.draftsData.next(data);\r\n    this.router.navigate(['discharge-summary/new-summary']);\r\n  }\r\n\r\n  print(data) {\r\n    if (data) {\r\n      switch (data.dischargeSummaryType) {\r\n        case 'NICU':\r\n          this.fetchNICUReport(data);\r\n          break;\r\n        case 'PICU':\r\n          this.fetchPICUReport(data);\r\n          break;\r\n        case 'WARD':\r\n          this.fetchWardReport(data);\r\n          break;\r\n      }\r\n    }\r\n  }\r\n\r\n  fetchNICUReport(data) {\r\n    const queryparams = {\r\n      orgId: this.userSession.orgId,\r\n      loggedInUserId: this.userSession.regId,\r\n      nicuDischargeSummaryId: data.nicuDischargeSummaryId\r\n    };\r\n    this.reportsApiService.fetchNICUReport(queryparams).subscribe(\r\n      response => {\r\n        if (response instanceof ArrayBuffer) {\r\n          const orderRePrint = new Blob([response], {\r\n            type: 'application/pdf'\r\n          });\r\n          const reportURL = URL.createObjectURL(orderRePrint);\r\n          const win = window.open('', '_blank');\r\n          win.location.href = reportURL;\r\n          setTimeout(() => {\r\n            win.print();\r\n          }, 1000);\r\n        } else if (response.responseCode) {\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      },\r\n      () => {\r\n        this.snackBar.open('Failure Something Went Wrong', 'Cancel', {\r\n          duration: 1500\r\n        });\r\n      }\r\n    );\r\n  }\r\n\r\n  fetchPICUReport(data) {\r\n    const queryparams = {\r\n      orgId: this.userSession.orgId,\r\n      loggedInUserId: this.userSession.regId,\r\n      dischargeSummaryId: data.dischargeSummaryId\r\n    };\r\n    this.reportsApiService.fetchPICUReport(queryparams).subscribe(\r\n      response => {\r\n        if (response instanceof ArrayBuffer) {\r\n          const orderRePrint = new Blob([response], {\r\n            type: 'application/pdf'\r\n          });\r\n          const reportURL = URL.createObjectURL(orderRePrint);\r\n          const win = window.open('', '_blank');\r\n          win.location.href = reportURL;\r\n          setTimeout(() => {\r\n            win.print();\r\n          }, 1000);\r\n        } else if (response.responseCode) {\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      },\r\n      () => {\r\n        this.snackBar.open('Failure Something Went Wrong', 'Cancel', {\r\n          duration: 1500\r\n        });\r\n      }\r\n    );\r\n  }\r\n\r\n  fetchWardReport(data) {\r\n    const queryparams = {\r\n      orgId: this.userSession.orgId,\r\n      loggedInUserId: this.userSession.regId,\r\n      dischargeSummaryId: data.dischargeSummaryId\r\n    };\r\n    this.reportsApiService.fetchWardReport(queryparams).subscribe(\r\n      response => {\r\n        if (response instanceof ArrayBuffer) {\r\n          const orderRePrint = new Blob([response], {\r\n            type: 'application/pdf'\r\n          });\r\n          const reportURL = URL.createObjectURL(orderRePrint);\r\n          const win = window.open('', '_blank');\r\n          win.location.href = reportURL;\r\n          setTimeout(() => {\r\n            win.print();\r\n          }, 1000);\r\n        } else if (response.responseCode) {\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      },\r\n      () => {\r\n        this.snackBar.open('Failure Something Went Wrong', 'Cancel', {\r\n          duration: 1500\r\n        });\r\n      }\r\n    );\r\n  }\r\n\r\n  fetchFilteredData() {\r\n    switch (this.selectedFormType) {\r\n      case 'NICU':\r\n        this.fetchNicu();\r\n        break;\r\n      case 'PICU':\r\n      case 'WARD':\r\n        this.fetchPicuOrWard();\r\n        break;\r\n      default:\r\n        this.fetchNicu();\r\n        break;\r\n    }\r\n  }\r\n\r\n  searchPatient() {\r\n    this.isSearchPt = true;\r\n    this.fetchFilteredData();\r\n  }\r\n\r\n  fetchPicuOrWard() {\r\n    const fromDate = this.moment(this.fromDate).format('YYYY-MM-DD');\r\n    const toDate = this.moment(this.toDate).format('YYYY-MM-DD');\r\n    const payload = {\r\n      authenticatedUserId: this.userSession.regId,\r\n      orgId: this.userSession.orgId,\r\n      orgGroupId: this.userSession.orgGroupId,\r\n      isFinalized: true,\r\n      fromDate,\r\n      toDate,\r\n      dischargeSummaryType: this.selectedFormType\r\n    };\r\n    if (this.isSearchPt) {\r\n      switch (this.searchType) {\r\n        case 'name':\r\n          payload['patientName'] = this.patientSearchData;\r\n          break;\r\n        case 'aadhaar':\r\n          payload['aadharNumber'] = this.patientSearchData;\r\n          break;\r\n        case 'patientId':\r\n          payload['hospitalPatientId'] = this.patientSearchData;\r\n          break;\r\n        default:\r\n          payload['mobileNumber'] = this.patientSearchData;\r\n          break;\r\n      }\r\n      payload['fromDate'] = '';\r\n      payload['toDate'] = '';\r\n    }\r\n    this.dischargeSummaryApiService.fetchPicuOrWard(payload).subscribe(\r\n      response => {\r\n        if (response && response.responseCode === 'E200') {\r\n          this.finalizedData = response.data;\r\n          if (this.finalizedData && this.finalizedData.length) {\r\n            this.finalizedData = this.finalizedData.map(patient => {\r\n              if (patient.age || patient.age === 0) {\r\n                patient.ageYears = this.utilService\r\n                  .parseAgeIndays(patient.age)\r\n                  .get('patientAge');\r\n              }\r\n              if (patient.birthDt) {\r\n                patient.ageYears = this.utilService\r\n                  .parseDob(patient.birthDt)\r\n                  .get('patientAge');\r\n              }\r\n              return patient;\r\n            });\r\n            this.isFinalized = true;\r\n          } else {\r\n            this.isFinalized = false;\r\n          }\r\n        } else if (response && response.responseCode === 'E400') {\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      },\r\n      (errorResponse: HttpErrorResponse) => {\r\n        if (errorResponse.status > 0) {\r\n          this.snackBar.open(errorResponse.error.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        } else {\r\n          this.snackBar.open('Network Slow', 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  fetchNicu() {\r\n    const fromDate = this.moment(this.fromDate).format('YYYY-MM-DD');\r\n    const toDate = this.moment(this.toDate).format('YYYY-MM-DD');\r\n    const payload = {\r\n      authenticatedUserId: this.userSession.regId,\r\n      orgId: this.userSession.orgId,\r\n      orgGroupId: this.userSession.orgGroupId,\r\n      isFinalized: true,\r\n      fromDate,\r\n      toDate\r\n    };\r\n    if (this.isSearchPt) {\r\n      switch (this.searchType) {\r\n        case 'name':\r\n          payload['patientName'] = this.patientSearchData;\r\n          break;\r\n        case 'aadhaar':\r\n          payload['aadharNumber'] = this.patientSearchData;\r\n          break;\r\n        case 'patientId':\r\n          payload['hospitalPatientId'] = this.patientSearchData;\r\n          break;\r\n        default:\r\n          payload['mobileNumber'] = this.patientSearchData;\r\n          break;\r\n      }\r\n      payload['fromDate'] = '';\r\n      payload['toDate'] = '';\r\n    }\r\n    this.dischargeSummaryApiService.fetchNicu(payload).subscribe(\r\n      response => {\r\n        if (response && response.responseCode === 'E200') {\r\n          this.finalizedData = response.data;\r\n          if (this.finalizedData && this.finalizedData.length) {\r\n            this.finalizedData = this.finalizedData.map(patient => {\r\n              if (patient.age || patient.age === 0) {\r\n                patient.ageYears = this.utilService\r\n                  .parseAgeIndays(patient.age)\r\n                  .get('patientAge');\r\n              }\r\n              if (patient.birthDt) {\r\n                patient.ageYears = this.utilService\r\n                  .parseDob(patient.birthDt)\r\n                  .get('patientAge');\r\n              }\r\n              return patient;\r\n            });\r\n            this.isFinalized = true;\r\n            this.isSearchPt = false;\r\n            this.patientSearchData = '';\r\n          } else {\r\n            this.isFinalized = false;\r\n          }\r\n        } else if (response && response.responseCode === 'E400') {\r\n          this.snackBar.open(response.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      },\r\n      (errorResponse: HttpErrorResponse) => {\r\n        if (errorResponse.status > 0) {\r\n          this.snackBar.open(errorResponse.error.responseMessage, 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        } else {\r\n          this.snackBar.open('Network Slow', 'Cancel', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  getAvatorImg(data) {\r\n    const image =\r\n      data && data.gender === 'Female' ? 'female-ico.png' : 'male-ico.png';\r\n    return `https://s3.ap-south-1.amazonaws.com/dru.assets/images/app/icons/${image}`;\r\n  }\r\n\r\n  patientSearch() {\r\n    this.patinetSearchControl = new FormControl('mobile');\r\n    this.placeholderValue = 'Search Patient by Mobile Number';\r\n    this.searchType = 'mobile';\r\n    this.patinetSearchControl.valueChanges.subscribe(res => {\r\n      this.searchType = res;\r\n      this.patientSearchData = '';\r\n      switch (this.searchType) {\r\n        case 'name':\r\n          this.placeholderValue = 'Search Patient by Name';\r\n          break;\r\n        case 'aadhaar':\r\n          this.placeholderValue = 'Search Patient by Aadhaar Number';\r\n          break;\r\n        case 'patientId':\r\n          this.placeholderValue = 'Search Patient by Hospital ID';\r\n          break;\r\n        default:\r\n          this.placeholderValue = 'Search Patient by Mobile Number';\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n  selectForm() {\r\n    this.formType = new FormControl('NICU');\r\n    this.fetchNicu();\r\n    this.isFinalized = false;\r\n    this.formType.valueChanges.subscribe(val => {\r\n      this.selectedFormType = val;\r\n      this.fetchFilteredData();\r\n    });\r\n  }\r\n\r\n  showFilters() {\r\n    this.isFilter = !this.isFilter;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class DischargeSummaryDataService {\r\n  patientData = new BehaviorSubject(null);\r\n  draftsData = new BehaviorSubject(null);\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { DischargeSummaryComponent } from './containers/discharge-summary/discharge-summary.component';\r\nimport { NewSummaryComponent } from './containers/new-summary/new-summary.component';\r\nimport { DraftsComponent } from './containers/drafts/drafts.component';\r\nimport { SummaryHistoryComponent } from './containers/summary-history/summary-history.component';\r\nimport { NicuFormComponent } from './containers/new-summary/nicu-form/nicu-form.component';\r\nimport { PicuFormComponent } from './containers/new-summary/picu-form/picu-form.component';\r\nimport { WardFormComponent } from './containers/new-summary/ward-form/ward-form.component';\r\n\r\n\r\nexport const DischargeSummaryRoutes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DischargeSummaryComponent,\r\n    children: [\r\n      {\r\n        path: 'drafts',\r\n        component: DraftsComponent\r\n      },\r\n      {\r\n      path: 'new-summary',\r\n      component: NewSummaryComponent,\r\n      children: [\r\n        {\r\n          path: 'nicu-form',\r\n          component: NicuFormComponent\r\n        },\r\n        {\r\n          path: 'picu-form',\r\n          component: PicuFormComponent\r\n        },\r\n        {\r\n          path: 'ward-form',\r\n          component: WardFormComponent\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      path: 'summary-history',\r\n      component: SummaryHistoryComponent\r\n    },\r\n    {\r\n      path: '**',\r\n      component: NewSummaryComponent\r\n    }\r\n  ]\r\n  }\r\n];\r\n@NgModule({\r\n  imports: [RouterModule.forChild(DischargeSummaryRoutes)],\r\n  exports: [RouterModule]\r\n})\r\n\r\nexport class DischargeSummaryRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { DischargeSummaryComponent } from './containers/discharge-summary/discharge-summary.component';\r\nimport { DischargeSummaryRoutingModule } from './discharge-summary-routing.module';\r\nimport { NewSummaryComponent } from './containers/new-summary/new-summary.component';\r\nimport { DraftsComponent } from './containers/drafts/drafts.component';\r\nimport { RouterModule } from '@angular/router';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SummaryHistoryComponent } from './containers/summary-history/summary-history.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { NicuFormComponent } from './containers/new-summary/nicu-form/nicu-form.component';\r\nimport { PicuFormComponent } from './containers/new-summary/picu-form/picu-form.component';\r\nimport { WardFormComponent } from './containers/new-summary/ward-form/ward-form.component';\r\nimport { OwlDateTimeModule, OwlNativeDateTimeModule } from 'ng-pick-datetime';\r\nimport { SharedModule } from '@shared/shared.module';\r\nimport { DeleteConfirmComponent } from './containers/delete-confirm/delete-confirm.component';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    DischargeSummaryRoutingModule,\r\n    RouterModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    MatDatepickerModule,\r\n    MatTooltipModule,\r\n    MatDialogModule,\r\n    MatSnackBarModule,\r\n    MatFormFieldModule,\r\n    MatInputModule,\r\n    OwlDateTimeModule,\r\n    OwlNativeDateTimeModule,\r\n    SharedModule,\r\n    TranslateModule\r\n  ],\r\n  declarations: [\r\n    DischargeSummaryComponent,\r\n    NewSummaryComponent,\r\n    DraftsComponent,\r\n    SummaryHistoryComponent,\r\n    NicuFormComponent,\r\n    PicuFormComponent,\r\n    WardFormComponent,\r\n    DeleteConfirmComponent\r\n  ],\r\n  entryComponents: [ DeleteConfirmComponent ],\r\n  bootstrap: [ NewSummaryComponent ]\r\n})\r\n\r\nexport class DischargeSummaryModule {}\r\n","export class Constants {\r\n  static readonly DATE_FMT = 'dd/MM/yyyy';\r\n  static readonly DATE_TIME_FMT = `${Constants.DATE_FMT} h:mm a`;\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DatePipe } from '@angular/common';\r\nimport { Constants } from '../constants';\r\n\r\n@Pipe({\r\n    name: 'dateFormat'\r\n})\r\n\r\nexport class DateFormatPipe extends DatePipe implements PipeTransform {\r\n    transform(value: any, args?: any): any {\r\n        return super.transform(value, Constants.DATE_FMT);\r\n    }\r\n}\r\n"],"sourceRoot":""}