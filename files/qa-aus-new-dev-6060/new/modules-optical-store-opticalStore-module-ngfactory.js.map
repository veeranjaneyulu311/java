{"version":3,"sources":["webpack:///./node_modules/ag-grid-angular/main.js","webpack:///./node_modules/angular-webstorage-service/bundles/angular-webstorage-service.es5.js","webpack:///./src/app/modules/optical-store/actions/index.ts","webpack:///./src/app/modules/optical-store/containers/frames/frames.component.html","webpack:///./src/app/modules/optical-store/containers/frames/frames.component.ts","webpack:///./src/app/modules/optical-store/containers/lens-add-to-inventory/lens-add-to-inventory.component.html","webpack:///./src/app/modules/optical-store/containers/lens-add-to-inventory/lens-add-to-inventory.component.ts","webpack:///./src/app/modules/optical-store/containers/optical-common/optical-common.component.html","webpack:///./src/app/modules/optical-store/containers/optical-common/optical-common.component.ts","webpack:///./src/app/modules/optical-store/containers/optical-inventory/add-optical-inventory/add-optical-inventory.component.html","webpack:///./src/app/modules/optical-store/containers/optical-inventory/add-optical-inventory/add-optical-inventory.component.ts","webpack:///./src/app/modules/optical-store/containers/optical-inventory/all-optical-inventory/all-optical-inventory.component.html","webpack:///./src/app/modules/optical-store/containers/optical-inventory/all-optical-inventory/all-optical-inventory.component.ts","webpack:///./src/app/modules/optical-store/containers/optical-inventory/frames-inventory/frames-inventory.component.html","webpack:///./src/app/modules/optical-store/containers/optical-inventory/frames-inventory/frames-inventory.component.ts","webpack:///./src/app/modules/optical-store/containers/optical-inventory/showing-optical-inventory/showing-optical-inventory.component.html","webpack:///./src/app/modules/optical-store/containers/optical-inventory/showing-optical-inventory/showing-optical-inventory.component.ts","webpack:///./src/app/modules/optical-store/containers/optical-pending-orders/optical-pending-orders.component.html","webpack:///./src/app/modules/optical-store/containers/optical-pending-orders/optical-pending-orders.component.ts","webpack:///./src/app/modules/optical-store/containers/optical-point-of-sale/optical-billing/optical-billing.component.html","webpack:///./src/app/modules/optical-store/containers/optical-point-of-sale/optical-billing/optical-billing.component.ts","webpack:///./src/app/modules/optical-store/containers/optical-point-of-sale/optical-invoice-list/optical-actions-list/optical-actions-list.component.html","webpack:///./src/app/modules/optical-store/containers/optical-point-of-sale/optical-invoice-list/optical-actions-list/optical-actions-list.component.ts","webpack:///./src/app/modules/optical-store/containers/optical-point-of-sale/optical-invoice-list/optical-invoice-list.component.html","webpack:///./src/app/modules/optical-store/containers/optical-point-of-sale/optical-invoice-list/optical-invoice-list.component.ts","webpack:///./src/app/modules/optical-store/containers/optical-point-of-sale/optical-invoice-list/optical-point-of-sale-due-list/optical-point-of-sale-due-list.component.html","webpack:///./src/app/modules/optical-store/containers/optical-point-of-sale/optical-invoice-list/optical-point-of-sale-due-list/optical-point-of-sale-due-list.component.ts","webpack:///./src/app/modules/optical-store/containers/optical-point-of-sale/optical-point-of-sale.component.html","webpack:///./src/app/modules/optical-store/containers/optical-point-of-sale/optical-point-of-sale.component.ts","webpack:///./src/app/modules/optical-store/containers/optical-point-of-sale/optical-return-list/optical-return-actions-list/optical-return-actions-list.component.html","webpack:///./src/app/modules/optical-store/containers/optical-point-of-sale/optical-return-list/optical-return-actions-list/optical-return-actions-list.component.ts","webpack:///./src/app/modules/optical-store/containers/optical-point-of-sale/optical-return-list/optical-return-list.component.html","webpack:///./src/app/modules/optical-store/containers/optical-point-of-sale/optical-return-list/optical-return-list.component.ts","webpack:///./src/app/modules/optical-store/containers/optical-purchase-order/optical-purchase-order.component.html","webpack:///./src/app/modules/optical-store/containers/optical-purchase-order/optical-purchase-order.component.ts","webpack:///./src/app/modules/optical-store/containers/optical-vendor-invoice/invoice-history/invoice-history.component.html","webpack:///./src/app/modules/optical-store/containers/optical-vendor-invoice/invoice-history/invoice-history.component.ts","webpack:///./src/app/modules/optical-store/containers/optical-vendor-invoice/new-invoice/frameLensesVendorInvoice.modal.component.html","webpack:///./src/app/modules/optical-store/containers/optical-vendor-invoice/new-invoice/frameLensesVendorInvoice.modal.component.ts","webpack:///./src/app/modules/optical-store/containers/optical-vendor-invoice/new-invoice/new-invoice.component.html","webpack:///./src/app/modules/optical-store/containers/optical-vendor-invoice/new-invoice/new-invoice.component.ts","webpack:///./src/app/modules/optical-store/containers/optical-vendor/add-optical-suppliers/add-optical-suppliers.component.html","webpack:///./src/app/modules/optical-store/containers/optical-vendor/add-optical-suppliers/add-optical-suppliers.component.ts","webpack:///./src/app/modules/optical-store/containers/optical-vendor/all-optical-suppliers/all-optical-suppliers.component.html","webpack:///./src/app/modules/optical-store/containers/optical-vendor/all-optical-suppliers/all-optical-suppliers.component.ts","webpack:///./src/app/modules/optical-store/containers/orderdetails/orderdetails.component.html","webpack:///./src/app/modules/optical-store/containers/orderdetails/orderdetails.component.ts","webpack:///./src/app/modules/optical-store/containers/os-accessories/os-accessories.component.html","webpack:///./src/app/modules/optical-store/containers/os-accessories/os-accessories.component.ts","webpack:///./src/app/modules/optical-store/containers/os-contact-lens/os-contact-lens.component.html","webpack:///./src/app/modules/optical-store/containers/os-contact-lens/os-contact-lens.component.ts","webpack:///./src/app/modules/optical-store/containers/os-dialog/os-dialog.component.html","webpack:///./src/app/modules/optical-store/containers/os-dialog/os-dialog.component.ts","webpack:///./src/app/modules/optical-store/containers/os-other-glasses/os-other-glasses.component.html","webpack:///./src/app/modules/optical-store/containers/os-other-glasses/os-other-glasses.component.ts","webpack:///./src/app/modules/optical-store/containers/spectacles/spectacles.component.html","webpack:///./src/app/modules/optical-store/containers/spectacles/spectacles.component.ts","webpack:///./src/app/modules/optical-store/containers/vendor-invoice-bill-dialog/pos-invoice-bill-dialog.component.html","webpack:///./src/app/modules/optical-store/containers/vendor-invoice-bill-dialog/pos-invoice-bill-dialog.component.ts","webpack:///./src/app/modules/optical-store/containers/vendor-invoice-bill-dialog/vendor-bill-modal.component.html","webpack:///./src/app/modules/optical-store/containers/vendor-invoice-bill-dialog/vendor-bill-modal.component.ts","webpack:///./src/app/modules/optical-store/containers/vendor-invoice-bill-dialog/vendor-invoice-bill-dialog.component.html","webpack:///./src/app/modules/optical-store/containers/vendor-invoice-bill-dialog/vendor-invoice-bill-dialog.component.ts","webpack:///./src/app/modules/optical-store/effects/index.ts","webpack:///./src/app/modules/optical-store/optical-store.constants.ts","webpack:///./src/app/modules/optical-store/opticalStore-routing.module.ts","webpack:///./src/app/modules/optical-store/opticalStore.module.ts","webpack:///./src/app/modules/optical-store/opticalStore.service.ts","webpack:///./src/app/modules/optical-store/reducers/index.ts","webpack:///./src/app/modules/optical-store/reducers/optical-inventory.reducer.ts","webpack:///./src/app/modules/optical-store/reducers/optical-item-types.reducer.ts","webpack:///./src/app/modules/optical-store/reducers/optical-vendors.reducers.ts","webpack:///./src/app/modules/optical-store/reducers/patient-search-optical.ts","webpack:///./src/app/shared/pipes/getAgePipe.ts"],"names":[],"mappings":";;;;;;;;;;AAAa;AACb;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,SAAS,mBAAO,CAAC,kFAAsB;AACvC,SAAS,mBAAO,CAAC,gFAAqB;AACtC,SAAS,mBAAO,CAAC,0EAAkB;AACnC,SAAS,mBAAO,CAAC,gGAA6B;AAC9C,SAAS,mBAAO,CAAC,8FAA4B;AAC7C,SAAS,mBAAO,CAAC,8FAA4B;AAC7C,SAAS,mBAAO,CAAC,gHAAqC;AACtD,gC;;;;;;;;;;;;ACZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyD;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,0BAA0B,4DAAc;AACxC;AACA,wBAAwB,4DAAc;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,KAAK,OAAO,sDAAQ;AACpB;AACA,qBAAqB,8DAA8D;AACnF,qBAAqB;AACrB;AACA,aAAa,IAAI;AACjB;AACA;AACA,mDAAmD,WAAW;;AAE6G;;;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","file":"modules-optical-store-opticalStore-module-ngfactory.js","sourcesContent":["\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./dist/aggrid.module\"));\n__export(require(\"./dist/agGridColumn\"));\n__export(require(\"./dist/agGridNg2\"));\n__export(require(\"./dist/baseComponentFactory\"));\n__export(require(\"./dist/ng2ComponentFactory\"));\n__export(require(\"./dist/ng2FrameworkFactory\"));\n__export(require(\"./dist/ng2FrameworkComponentWrapper\"));\n//# sourceMappingURL=main.js.map","import { InjectionToken, NgModule } from '@angular/core';\n\n/**\n * An implementation of `StorageService` interface that uses an underlying (web) `Storage` object, such as `localStorage` and\n * `sessionStorage`, as backing data store. This class basically wraps the `Storage` object so it can be accessed through the\n * `StorageService` interface.\n */\nvar WebStorageService = (function () {\n    /**\n     * Creates a new `WebStorageService` instance that uses the specified (web) storage object as underlying backing storage.\n     *\n     * @param storage Storage object which is to be wrapped in a class that implements the `StorageService` interface.\n     */\n    function WebStorageService(storage) {\n        this.storage = storage;\n    }\n    /**\n     * Retrieves the value stored for the entry that is associated with the specified key. If no such entry exists or if the service for\n     * some reason is unable to fetch the value of the entry then `null` will be returned.\n     *\n     * @param   key Identifier of the entry whose value is to be retrieved.\n     * @returns     Value of the entry that is identified by the specified key or `null` if the entry does not exist or cannot be loaded.\n     */\n    WebStorageService.prototype.get = function (key) {\n        try {\n            return JSON.parse(this.storage.getItem(key));\n        }\n        catch (error) {\n            return null;\n        }\n    };\n    /**\n     * Creates or updates the entry identified by the specified key with the given value. Storing a value into the storage service will\n     * ensure that an equivalent of the value can be read back, i.e. the data and structure of the value will be the same. It, however, does\n     * not necessarily return the same value, i.e. the same reference.\n     *\n     * @param key   Identifier of the entry which is to be created or updated.\n     * @param value Value which is to be stored.\n     */\n    WebStorageService.prototype.set = function (key, value) {\n        this.storage.setItem(key, JSON.stringify(value));\n    };\n    /**\n     * Removes the entry that is identified by the specified key. Attempting to remove an entry for an unknown key will have no effect.\n     * Attempting to retrieve an entry via the `get` method after it has been removed will result in `null`.\n     *\n     * @param key Identifier of the entry which is to be removed.\n     */\n    WebStorageService.prototype.remove = function (key) {\n        this.storage.removeItem(key);\n    };\n    return WebStorageService;\n}());\n/**\n * Checks whether the specified (web) storage is available and functional. This might not be the case for older browsers. However even\n * certain browsers that do support the web storage API can, under some circumstances, have non functional storage objects. For example,\n * Safari is known to have `localStorage` and `sessionStorage` throw exceptions in private mode.\n *\n * @param storage Storage object which is to be tested for availability.\n */\nfunction isStorageAvailable(storage) {\n    // Check if storage is available.\n    if (!storage) {\n        return false;\n    }\n    // Check if the storage can actually be accessed.\n    try {\n        var now = Date.now();\n        var testItemKey = \"storage-test-entry-\" + now;\n        var testItemValue = \"storage-test-value-\" + now;\n        storage.setItem(testItemKey, testItemValue);\n        var retrievedItemValue = storage.getItem(testItemKey);\n        storage.removeItem(testItemKey);\n        return retrievedItemValue === testItemValue;\n    }\n    catch (error) {\n        return false;\n    }\n}\n\n/**\n * A volatile `StorageService` implementation. This service guarantees that data stored will remain available as long as the application\n * instance is active. After the application is terminated all data will be lost.\n */\nvar InMemoryStorageService = (function () {\n    function InMemoryStorageService() {\n        this.storage = new Map();\n    }\n    /**\n     * Retrieves the value stored for the entry that is associated with the specified key. If no such entry exists or if the service for\n     * some reason is unable to fetch the value of the entry then `null` will be returned.\n     *\n     * @param   key Identifier of the entry whose value is to be retrieved.\n     * @returns     Value of the entry that is identified by the specified key or `null` if the entry does not exist or cannot be loaded.\n     */\n    InMemoryStorageService.prototype.get = function (key) {\n        if (!this.storage.has(key)) {\n            return null;\n        }\n        return this.storage.get(key);\n    };\n    /**\n     * Creates or updates the entry identified by the specified key with the given value. Storing a value into the storage service will\n     * ensure that an equivalent of the value can be read back, i.e. the data and structure of the value will be the same. It, however, does\n     * not necessarily return the same value, i.e. the same reference.\n     *\n     * @param key   Identifier of the entry which is to be created or updated.\n     * @param value Value which is to be stored.\n     */\n    InMemoryStorageService.prototype.set = function (key, value) {\n        this.storage.set(key, value);\n    };\n    /**\n     * Removes the entry that is identified by the specified key. Attempting to remove an entry for an unknown key will have no effect.\n     * Attempting to retrieve an entry via the `get` method after it has been removed will result in `null`.\n     *\n     * @param key Identifier of the entry which is to be removed.\n     */\n    InMemoryStorageService.prototype.remove = function (key) {\n        this.storage.delete(key);\n    };\n    return InMemoryStorageService;\n}());\n\n/** Injection token for the session storage service. */\nvar SESSION_STORAGE = new InjectionToken('SESSION_STORAGE');\n/** Injection token for the local storage service. */\nvar LOCAL_STORAGE = new InjectionToken('LOCAL_STORAGE');\nfunction sessionStorageFactory() {\n    if (!isStorageAvailable(sessionStorage)) {\n        return new InMemoryStorageService();\n    }\n    return new WebStorageService(sessionStorage);\n}\nfunction localStorageFactory() {\n    if (!isStorageAvailable(localStorage)) {\n        return new InMemoryStorageService();\n    }\n    return new WebStorageService(localStorage);\n}\nvar StorageServiceModule = (function () {\n    function StorageServiceModule() {\n    }\n    return StorageServiceModule;\n}());\nStorageServiceModule.decorators = [\n    { type: NgModule, args: [{\n                providers: [\n                    { provide: SESSION_STORAGE, useFactory: sessionStorageFactory },\n                    { provide: LOCAL_STORAGE, useFactory: localStorageFactory }\n                ]\n            },] },\n];\n/** @nocollapse */\nStorageServiceModule.ctorParameters = function () { return []; };\n\nexport { WebStorageService, isStorageAvailable, InMemoryStorageService, SESSION_STORAGE, LOCAL_STORAGE, sessionStorageFactory, localStorageFactory, StorageServiceModule };\n","import { Action } from '@ngrx/store';\r\nimport { Employee, TestOrder } from '@app/modules/imaging/models';\r\n\r\nexport enum OpticalActionTypes {\r\n  fetchPatientOptical = '[Optical] fetchPatientOptical',\r\n  fetchPatientOpticalSuccess = '[Optical] fetchPatientOpticalSuccess',\r\n  fetchPatientOpticalError = '[Optical] fetchPatientOpticalError',\r\n  fetchOpticalItemTypes = '[Optical] fetchOpticalItemTypes',\r\n  fetchOpticalItemTypesSuccess = '[Optical] fetchOpticalItemTypesSuccess',\r\n  fetchOpticalItemTypesError = '[Optical] fetchOpticalItemTypesError',\r\n  fetchOpticalVendorSuccess = '[Optical] fetchOpticalVendorSuccess',\r\n  fetchOpticalVendors = '[Optical] fetchOpticalVendors',\r\n  fetchOpticalInventorySuccess = '[Optical] fetchOpticalInventorySuccess',\r\n  fetchOpticalInventory = '[Optical] fetchOpticalInventory'\r\n}\r\n\r\nexport class FetchPatient implements Action {\r\n  readonly type = OpticalActionTypes.fetchPatientOptical;\r\n  constructor(public payload: any) {}\r\n}\r\n\r\nexport class FetchPatientSuccess implements Action {\r\n  readonly type = OpticalActionTypes.fetchPatientOpticalSuccess;\r\n  constructor(public payload: any) {}\r\n}\r\n\r\nexport class FetchPatientError implements Action {\r\n  readonly type = OpticalActionTypes.fetchPatientOpticalError;\r\n  constructor(public payload: any) {}\r\n}\r\n\r\nexport class FetchOpticalItemTypes implements Action {\r\n  readonly type = OpticalActionTypes.fetchOpticalItemTypes;\r\n  constructor(public payload: any) {}\r\n}\r\n\r\nexport class FetchOpticalItemTypesSuccess implements Action {\r\n  readonly type = OpticalActionTypes.fetchOpticalItemTypesSuccess;\r\n  constructor(public payload: any) {}\r\n}\r\n\r\nexport class FetchOpticalItemTypesError implements Action {\r\n  readonly type = OpticalActionTypes.fetchOpticalItemTypesError;\r\n  constructor(public payload: any) {}\r\n}\r\n\r\nexport class FetchOpticalVendorSuccess implements Action {\r\n  readonly type = OpticalActionTypes.fetchOpticalVendorSuccess;\r\n  constructor(public payload: any) {}\r\n}\r\n\r\nexport class FetchOpticalVendors implements Action {\r\n  readonly type = OpticalActionTypes.fetchOpticalVendors;\r\n  constructor(public payload: any) {}\r\n}\r\n\r\nexport class FetchOpticalInventorySuccess implements Action {\r\n  readonly type = OpticalActionTypes.fetchOpticalInventorySuccess;\r\n  constructor(public payload: any) {}\r\n}\r\n\r\nexport class FetchOpticalInventory implements Action {\r\n  readonly type = OpticalActionTypes.fetchOpticalInventory;\r\n  constructor(public payload: any) {}\r\n}\r\n\r\nexport type OpticalActions =\r\n  |FetchPatient\r\n  |FetchPatientSuccess\r\n  |FetchPatientError\r\n  |FetchOpticalItemTypes\r\n  |FetchOpticalItemTypesSuccess\r\n  |FetchOpticalItemTypesError\r\n  |FetchOpticalVendorSuccess\r\n  |FetchOpticalVendors\r\n  |FetchOpticalInventorySuccess\r\n  |FetchOpticalInventory;\r\n\r\n// export const PATIENT_SEARCH_OPTICAL = 'PATIENTSEARCHOPTICAL';\r\n","<div\r\n  class=\"col-md-12 box-panel-form bg-white lens-details-form m-t-10 no-padding\"\r\n>\r\n  <!-- <div class=\"col-md-12 p-t-10 form-header border-bottom-1\">\r\n    <p class=\"text-uppercase txt-scarletgum\">Frame Information</p>\r\n  </div> -->\r\n\r\n  <!-- <div class=\"form-body\"> -->\r\n  <div class=\"col-md-12 col-xs-12 \">\r\n    <div class=\"row m-t-10\">\r\n      <div class=\"col-md-2 col-xs-12\">\r\n        <label for=\"mname\">Barcode</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"barcodeNm\"\r\n          name=\"barcodeNm\"\r\n          [(ngModel)]=\"framesData.barcodeNm\"\r\n          (input)=\"getBarcode('Frame')\"\r\n        />\r\n      </div>\r\n      <div class=\"col-md-2 col-xs-12\">\r\n        <label for=\"mname\">Brand Name</label>\r\n        <ng-select\r\n          id=\"_brandName1\"\r\n          [items]=\"brandNameListSubject | async\"\r\n          (focus)=\"onFocusBrand($event, 'Frame')\"\r\n          bindLabel=\"itemBrandNm\"\r\n          (change)=\"onAddBrand($event)\"\r\n          [typeahead]=\"brandNameListinput$\"\r\n          [(ngModel)]=\"brandName\"\r\n        >\r\n        </ng-select>\r\n      </div>\r\n      <div class=\"col-md-2 col-xs-12\">\r\n        <label for=\"mname\">Serial No</label>\r\n        <ng-select\r\n          id=\"_batchList1\"\r\n          [items]=\"batchList\"\r\n          [searchable]=\"false\"\r\n          bindLabel=\"serialNo\"\r\n          (change)=\"onAddBatch($event, 'Frame')\"\r\n          [(ngModel)]=\"serialNo\"\r\n        >\r\n          <ng-template\r\n            ng-option-tmp\r\n            let-item=\"item\"\r\n            let-index=\"index\"\r\n            let-search=\"searchTerm\"\r\n          >\r\n            <div>\r\n              <h5 class=\"card-title\" [ngOptionHighlight]=\"search\">\r\n                Serial No: {{ item.serialNo }}\r\n              </h5>\r\n              <h6 class=\"card-subtitle mb-2 text-muted\">\r\n                Available Qty: {{ item.availableQty }}\r\n              </h6>\r\n              <p>Vendor : {{ item.vendorNm }}</p>\r\n              <div *ngIf=\"item.name === 'Pavilnys'\">\r\n                <a href=\"#\" class=\"card-link\">Card link</a>\r\n                <a href=\"#\" class=\"card-link\">Another link</a>\r\n              </div>\r\n            </div>\r\n          </ng-template>\r\n        </ng-select>\r\n      </div>\r\n      <div class=\"col-md-3\">\r\n        <label for=\"mname\">Model No</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"mname\"\r\n          name=\"mname\"\r\n          [(ngModel)]=\"framesData.modelNo\"\r\n          [disabled]=\"true\"\r\n        />\r\n      </div>\r\n      <div class=\"col-md-3\">\r\n        <label for=\"mname\">Frame Type</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"mname\"\r\n          name=\"mname\"\r\n          [(ngModel)]=\"framesData.frameTypeNm\"\r\n          [disabled]=\"true\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div class=\"row m-t-10\">\r\n      <div class=\"col-md-3\">\r\n        <label for=\"mname\">Frame Size</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"mname\"\r\n          name=\"mname\"\r\n          [(ngModel)]=\"framesData.frameSize\"\r\n          [disabled]=\"true\"\r\n        />\r\n      </div>\r\n      <div class=\"col-md-3\">\r\n        <label for=\"mname\">Frame Shape</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"mname\"\r\n          name=\"mname\"\r\n          [(ngModel)]=\"framesData.frameShape\"\r\n          [disabled]=\"true\"\r\n        />\r\n      </div>\r\n      <div class=\"col-md-3\">\r\n        <label for=\"mname\">Frame Color</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"mname\"\r\n          name=\"mname\"\r\n          [(ngModel)]=\"framesData.opticalColorNm\"\r\n          [disabled]=\"true\"\r\n        />\r\n      </div>\r\n      <div class=\"col-md-3\">\r\n        <label for=\"mname\">Frame Material</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"mname\"\r\n          name=\"mname\"\r\n          [(ngModel)]=\"framesData.opticalMaterialNm\"\r\n          [disabled]=\"true\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row m-t-10 m-b-10\">\r\n\r\n        <div class=\"col-md-3\">\r\n          <label for=\"mname\">Gender</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"mname\"\r\n            name=\"mname\"\r\n            [(ngModel)]=\"framesData.gender\"\r\n            [disabled]=\"true\"\r\n          />\r\n        </div>\r\n        <div class=\"col-md-3\" *ngIf= \"isDisable === true\">\r\n          <label for=\"mname\">Quantity</label>\r\n          <input\r\n            type=\"number\"\r\n            id=\"mname\"\r\n            name=\"mname\"\r\n            [(ngModel)]=\"framesData.quantity\"\r\n            oninput=\"this.value=Math.abs(this.value)\"\r\n          />\r\n        </div>\r\n        <!--for order-->\r\n        <div class=\"col-md-3\" *ngIf = \"isDisable === false\">\r\n          <label for=\"mname\">Quantity</label>\r\n          <input\r\n            type=\"number\"\r\n            id=\"mname\"\r\n            name=\"mname\"\r\n            oninput=\"this.value=Math.abs(this.value)\"\r\n            [(ngModel)]=\"orderQty\"\r\n          />\r\n        </div>\r\n        <div class=\"col-md-2 \">\r\n          <label for=\"mname\">MRP</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"mname\"\r\n            name=\"mname\"\r\n            [(ngModel)]=\"framesData.brandMrp\"\r\n            [disabled]=\"true\"\r\n          />\r\n        </div>\r\n        <div class=\"col-md-2 \">\r\n          <label for=\"mname\">HSN</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"mname\"\r\n            name=\"mname\"\r\n            [(ngModel)]=\"framesData.hsnCode\"\r\n            [disabled]=\"true\"\r\n          />\r\n        </div>\r\n        <div class=\"col-md-2 \">\r\n          <label for=\"mname\">Tax(%)</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"mname\"\r\n            name=\"mname\"\r\n            [(ngModel)]=\"framesData.tax\"\r\n            [disabled]=\"true\"\r\n          />\r\n        </div>\r\n\r\n      <!-- <div class=\"col-md-6\">\r\n        <label for=\"mname\">description</label>\r\n        <textarea\r\n          type=\"text\"\r\n          id=\"addressone\"\r\n          name=\"addressone\"\r\n          minlength=\"1\"\r\n          maxlength=\"300\"\r\n          required\r\n          [(ngModel)]=\"framesData.description\"\r\n          [disabled]=\"isDisable\"\r\n        ></textarea>\r\n      </div> -->\r\n    </div>\r\n  </div>\r\n  <div class=\"col-md-12  prescription-adding-buttons zero-padding\">\r\n    <button\r\n      id=\"_addItemsToList1\"\r\n      class=\"secondaryButton m-l-15  m-b-20\"\r\n      (click)=\"addItemsToList()\"\r\n    >\r\n      Add To List\r\n    </button>\r\n  </div>\r\n  <!-- </div> -->\r\n</div>\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  ChangeDetectorRef,\r\n  Output,\r\n  EventEmitter,\r\n  SimpleChanges,\r\n  OnChanges,\r\n  Input,\r\n  OnDestroy\r\n} from '@angular/core';\r\nimport { MatDialog, MAT_DIALOG_DATA } from '@angular/material';\r\nimport { OsDialogComponent } from '@app/modules/optical-store/containers/os-dialog/os-dialog.component';\r\nimport { Observable, Subject, of, concat } from 'rxjs';\r\nimport {\r\n  debounceTime,\r\n  distinctUntilChanged,\r\n  filter,\r\n  switchMap,\r\n  map,\r\n  catchError,\r\n  multicast\r\n} from 'rxjs/operators';\r\nimport { OpticalStoreService } from '@app/modules/optical-store/opticalStore.service';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { OpticalStoreApiService, LoginApiService, UtilService } from '@core/services';\r\nimport { Store } from '@ngrx/store';\r\nimport { UserSession } from '@core/models/user-session';\r\nimport { ActivatedRoute, Params } from '@angular/router';\r\nimport { UserService } from '@core/services/user.service';\r\nimport { AutoUnsubscribe } from 'ngx-auto-unsubscribe';\r\n\r\n// @AutoUnsubscribe()\r\n\r\n@Component({\r\n  selector: 'app-frames',\r\n  templateUrl: './frames.component.html',\r\n  styleUrls: ['./frames.component.scss']\r\n})\r\nexport class FramesComponent implements OnInit, OnChanges , OnDestroy {\r\n  @Output()\r\n  addToTable = new EventEmitter();\r\n  @Input()\r\n  clearPos;\r\n  public objectKeys = Object.keys;\r\n  posFormsForm: FormGroup;\r\n  mdlSampleIsOpen: Boolean = false;\r\n  showingLensTable: Boolean = true;\r\n  isDisable: Boolean = true;\r\n  brandNameList$: Observable<any>;\r\n  brandNameListMuticased: Observable<any>;\r\n  public brandNameListSubject: Subject<any>;\r\n  public sessionData: UserSession;\r\n  brandNameListinput$ = new Subject<string>();\r\n  brandNames: any[] = [];\r\n  barcodeData: any[] = [];\r\n  public framesData = <any>{};\r\n  public brandName: any;\r\n  public serialNo;\r\n  public orderType: any;\r\n  public orderQty;\r\n  public opticalItemType: any;\r\n  batchList: any[] = [];\r\n  name = this.utilService.generateUniqueId();\r\n\r\n  constructor(\r\n    public dialog: MatDialog,\r\n    private changeDecRef: ChangeDetectorRef,\r\n    private opticalService: OpticalStoreApiService,\r\n    private componentOpticalStoreService: OpticalStoreService,\r\n    private toaster: ToastrService,\r\n    private formbuilder: FormBuilder,\r\n    private activatedRoute: ActivatedRoute,\r\n    private store: Store<any>,\r\n    private loginService: LoginApiService,\r\n    private userService: UserService,\r\n    private utilService: UtilService,\r\n  ) {\r\n    this.sessionData = userService.getUser();\r\n  }\r\n  ngOnInit() {\r\n    this.componentOpticalStoreService.paymentData.next(null);\r\n    this.activatedRoute.queryParams.subscribe(\r\n      (params: Params) => {\r\n        this.orderType = params['type'];\r\n        console.log(this.orderType);\r\n      });\r\n    this.fetchBrandNames();\r\n    // the fields should be disable for the sale and enable for the order\r\n    if (this.orderType === 'order') {\r\n      this.isDisable = false;\r\n    }\r\n  }\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes.clearPos) {\r\n      this.framesData = {};\r\n      this.brandName = null;\r\n      this.serialNo = null;\r\n    }\r\n  }\r\n\r\n\r\n\r\n  getBarcode(type) {\r\n    this.opticalItemType = this.componentOpticalStoreService.getCurrentOpticalItem(\r\n      type\r\n    );\r\n    const framesBarcodeName = this.framesData.barcodeNm;\r\n\r\n    if (this.framesData.barcodeNm) {\r\n      const payload: any = {\r\n        createdUsrId: this.sessionData.regId,\r\n        orgGrpId: this.sessionData.orgGroupId,\r\n        orgId: this.sessionData.orgId,\r\n        itemTypeId: this.opticalItemType.opticalTypeId\r\n      };\r\n      if (this.framesData.barcodeNm) {\r\n        payload.barcode = this.framesData.barcodeNm;\r\n      }\r\n      this.opticalService\r\n        .fetchBrandsOpticalPos(payload)\r\n        .subscribe((response: any) => {\r\n          if (response.responseCode === 'E200') {\r\n\r\n            this.barcodeData = response.data;\r\n          } else if (response.response === 'E400') {\r\n\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  fetchBrandNames() {\r\n    this.brandNameListSubject = new Subject();\r\n    this.brandNameList$ = concat(\r\n      of([]), // default items\r\n      this.brandNameListinput$.pipe(\r\n        debounceTime(200),\r\n        distinctUntilChanged(),\r\n        filter(checkStringCount => {\r\n          if (checkStringCount && checkStringCount.length > 1) {\r\n            return true;\r\n          }\r\n        }),\r\n        //  tap(() => this.people3Loading = true),\r\n        switchMap((term: string) => {\r\n          const payload: any = {\r\n            createdUsrId: this.sessionData.regId,\r\n            itemTypeId: this.opticalItemType.opticalTypeId,\r\n            orgGrpId: this.sessionData.orgGroupId,\r\n            orgId: this.sessionData.orgId,\r\n            itemBrandNm: term\r\n          };\r\n          if (this.framesData.barcodeNm) {\r\n            payload.barcode = this.framesData.bracodeNm;\r\n          }\r\n          return this.opticalService.fetchBrandsOpticalPos(payload).pipe(\r\n            map((response: any) => {\r\n              if (response.responseCode === 'E200') {\r\n                return response.data;\r\n              } else if (response.response === 'E400') {\r\n                // return (this.manufacturersList = []);\r\n              }\r\n            }),\r\n            catchError(error => {\r\n              return of([]);\r\n            })\r\n          );\r\n        })\r\n      )\r\n    );\r\n    this.brandNameList$.subscribe(this.brandNameListSubject);\r\n  }\r\n\r\n  onAddBrand(brand) {\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId,\r\n      itemTypeId: this.opticalItemType.opticalTypeId,\r\n      opticalItemId: brand.opticalItemId,\r\n      itemBrandNm: brand.itemBrandNm\r\n    };\r\n    this.opticalService.fetchBatchesOpticalPos(payload).subscribe(\r\n      (response: any) => {\r\n        if (response.responseCode === 'E200') {\r\n          this.batchList = response.data;\r\n\r\n        } else if (response.response === 'E400') {\r\n          this.toaster.error('Failure!', 'Something went wrong');\r\n        }\r\n      },\r\n      err => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n\r\n  onAddBatch(batch, batchType) {\r\n\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId,\r\n      itemTypeId: this.opticalItemType.opticalTypeId,\r\n      opticalInventoryId: batch.opticalInventoryId\r\n    };\r\n    this.opticalService.fetchInventoryList(payload).subscribe(\r\n      (response: any) => {\r\n        if (response.responseCode === 'E200') {\r\n          if (batchType === 'Frame') {\r\n            const data = response.data[0];\r\n            data.barcodeNm = this.framesData.barcodeNm;\r\n            this.framesData = data;\r\n            if (this.framesData.serialNo) {\r\n              this.framesData.quantity = 1;\r\n            }\r\n            this.framesData.tax = this.framesData.sgstTaxPercntg + this.framesData.cgstTaxPercntg;\r\n          }\r\n        } else if (response.response === 'E400') {\r\n          this.toaster.error('Failure!', 'Something went wrong');\r\n        }\r\n      },\r\n      err => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n  addItemsToList() {\r\n    if (\r\n      this.isEmptyObject(this.framesData)\r\n    ) {\r\n      this.toaster.warning('Please Add Items');\r\n      return;\r\n    }\r\n    if (!this.isEmptyObject(this.framesData)) {\r\n      if ((!this.orderType) || (this.orderType === 'sale')) {\r\n      if (\r\n        !this.framesData.quantity ||\r\n        isNaN(Number(this.framesData.quantity))\r\n      ) {\r\n        this.toaster.warning('Please Give Valid Quantity for Frames');\r\n        return;\r\n      } else if  (this.framesData.quantity > this.framesData.availableQty) {\r\n        this.toaster.warning('Failure!', 'Quantity should not be more than Available Quantity');\r\n        return;\r\n      }\r\n    }\r\n      this.framesData.type = 'Frame';\r\n      if (this.orderType === 'order') {\r\n        this.framesData.orderQty = this.orderQty;\r\n       if (!this.framesData.orderQty) {\r\n        this.toaster.warning(\r\n          'Failure!',\r\n          'Please Enter Quantity'\r\n        );\r\n        return;\r\n      }\r\n      if (this.orderQty > this.framesData.availableQty) {\r\n        this.toaster.warning('Failure!', 'Quantity should not be more than Available Quantity');\r\n       return;\r\n      }\r\n    }\r\n      this.addToTable.emit(this.framesData);\r\n      this.orderQty = null;\r\n      this.framesData = {};\r\n      this.brandName = null;\r\n      this.serialNo = null;\r\n      this.batchList = [];\r\n    }\r\n\r\n  }\r\n\r\n  // private openValuesModal(type: String): void {\r\n  //   const dialogRef = this.dialog.open(OsDialogComponent, {\r\n  //     data: type,\r\n  //     disableClose: true\r\n  //   });\r\n\r\n  //   dialogRef.afterClosed().subscribe(result => {\r\n  //     const index = this.spectaclesValuesTable.findIndex(element => element.eye === result.eye);\r\n  //     this.spectaclesValuesTable[index] = result;\r\n  //     this.changeDecRef.detectChanges();\r\n  //   });\r\n  // }\r\n\r\n  isEmptyObject(obj) {\r\n    for (const prop in obj) {\r\n      if (obj.hasOwnProperty(prop)) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  onFocusBrand(ev, type) {\r\n\r\n    if (this.framesData.barcodeNm) {\r\n      this.getBarcode('Frame');\r\n    }\r\n    this.brandNameListSubject.next([]);\r\n    this.opticalItemType = this.componentOpticalStoreService.getCurrentOpticalItem(\r\n      type\r\n    );\r\n\r\n    this.brandNameListSubject.next(this.barcodeData);\r\n\r\n  }\r\n\r\n  ngOnDestroy() {\r\n  }\r\n\r\n\r\n}\r\n","<div class = \"col-md-12\">\r\n <div class = \"row m-b-10\">\r\n   <h3 class = \"text-uppercase lens-heading p-l-10\">lens</h3>\r\n </div>\r\n <form [formGroup]=\"lensToInventoryForm\">\r\n\r\n <div class = \"row m-b-10\">\r\n   <div class = \"col-sm-3 p-l-10 p-t-10\">\r\n     <label class = \"ft-15\">Select By - </label>\r\n   </div>\r\n   <div class = \"col-sm-4\">\r\n     <!-- <pre>{{brandNamesInvList | json}}</pre> -->\r\n    <!-- <ng-select id=\"brandNamesInvList\" [items]=\"brandNamesInvList\" bindLabel=\"itemBrandNm\" [hideSelected]=\"true\" (change)=\"onSelectBrandName($event)\"\r\n    formControlName=\"itemBrandNm\">\r\n  </ng-select> -->\r\n  <select  formControlName=\"brandNm\" (change)=\"onSelectBrandName($event)\">\r\n      <option [ngValue]=\"null\"></option>\r\n      <option *ngFor=\"let item of brandNamesInvList; index as i\" [ngValue]=\"item\">\r\n        {{ item.itemBrandNm }}\r\n      </option>\r\n    </select>\r\n   </div>\r\n </div>\r\n\r\n <div class = \"row m-b-10\">\r\n   <div class = \"col-sm-4\">\r\n    <label for=\"barcode\">Barcode</label>\r\n    <input type=\"text\" id=\"barcode\" name=\"barcode\"  formControlName=\"barcode\" />\r\n   </div>\r\n   <div class = \"col-sm-4\">\r\n    <label for=\"vendorNm\">Vendor Selection</label>\r\n    <ng-select id=\"vendorslist\" [items]=\"vendorsList\" bindLabel=\"vendorNm\" [hideSelected]=\"true\" (change)=\"onAddVendor($event)\"\r\n    formControlName=\"vendor\">\r\n  </ng-select>\r\n  <ng-container *ngIf=\"inventoryFormSubmitted\">\r\n      <div *ngFor=\"let validation of inventory_details_validation_messages.Vendor\" class=\"has-error popover-style\">\r\n        <div class=\"dynamic_popover\" *ngIf=\"lensToInventoryForm.get('vendor').hasError(validation.type)\">{{validation.message}}\r\n          <span class=\"doArrow\"></span>\r\n        </div>\r\n      </div>\r\n    </ng-container>\r\n   </div>\r\n   <div class = \"col-sm-4\">\r\n    <label for=\"manufacturerNm\">Manufacturer</label>\r\n    <ng-select id=\"manufacturersList\" [items]=\"manufacturersList\" bindLabel=\"manufacturerNm\" [hideSelected]=\"true\"\r\n    (change)=\"onAddManufacturer($event)\" formControlName=\"manufacturer\">\r\n  </ng-select>\r\n  <ng-container *ngIf=\"inventoryFormSubmitted\">\r\n      <div *ngFor=\"let validation of inventory_details_validation_messages.Manufacturer\" class=\"has-error popover-style\">\r\n        <div class=\"dynamic_popover\" *ngIf=\"lensToInventoryForm.get('manufacturer').hasError(validation.type)\">{{validation.message}}\r\n          <span class=\"doArrow\"></span>\r\n        </div>\r\n      </div>\r\n    </ng-container>\r\n   </div>\r\n </div>\r\n\r\n <div class = \"row m-b-10\">\r\n  <div class = \"col-sm-4\">\r\n    <label for=\"brandNm\">BrandName</label>\r\n    <input type=\"text\" id=\"brandNm\" name=\"brandNm\" disabled=\"true\" formControlName=\"itemBrandNm\" />\r\n   </div>\r\n   <div class = \"col-sm-4\">\r\n    <label for=\"lensType\">Lens Type</label>\r\n    <input type=\"text\" id=\"lenstype\" name=\"lenstype\" disabled=\"true\" formControlName=\"lensType\" />\r\n   </div>\r\n   <div class = \"col-sm-4\">\r\n    <label for=\"lensType\">coating Type</label>\r\n    <input type=\"text\" id=\"lensType\" name=\"coatingTypi\" disabled=\"true\" formControlName=\"coatingType\" />\r\n   </div>\r\n </div>\r\n\r\n <div class = \"row m-b-10\">\r\n  <div class = \"col-sm-4\">\r\n    <label for=\"lensIndex\">Index</label>\r\n    <input type=\"text\" id=\"lensIndex\" name=\"lensIndex\" disabled=\"true\" formControlName=\"lensIndex\" />\r\n   </div>\r\n   <div class = \"col-sm-4\">\r\n    <label for=\"coating\">Coating</label>\r\n    <input type=\"text\" id=\"coating\" name=\"coating\" disabled=\"true\" formControlName=\"lensCoating\" />\r\n   </div>\r\n   <div class = \"col-sm-4\">\r\n    <label for=\"qty\">Quantity</label>\r\n    <input type=\"number\" id=\"qty\" name=\"qty\"  formControlName=\"receivedQty\" (blur) = \"checkReqQuantity()\"/>\r\n    <ng-container *ngIf=\"inventoryFormSubmitted\">\r\n        <div *ngFor=\"let validation of inventory_details_validation_messages.Quantity\" class=\"has-error popover-style\">\r\n          <div class=\"dynamic_popover\" *ngIf=\"lensToInventoryForm.get('receivedQty').hasError(validation.type)\">{{validation.message}}\r\n            <span class=\"doArrow\"></span>\r\n          </div>\r\n        </div>\r\n      </ng-container>\r\n   </div>\r\n </div>\r\n\r\n <div class = \"row m-b-10\">\r\n  <div class = \"col-sm-3\">\r\n    <label for=\"mrp\" class = \"text-uppercase\">Mrp</label>\r\n    <input type=\"text\" id=\"mrp\" name=\"mrp\" disabled=\"true\" formControlName=\"brandMrp\" />\r\n   </div>\r\n   <div class = \"col-sm-3\">\r\n    <label for=\"costPrice\">CostPrice</label>\r\n    <input type=\"number\" id=\"costPrice\" name=\"costPrice\"  formControlName=\"costPrice\" (blur)=\"checkCostPrice()\"/>\r\n    <ng-container *ngIf=\"inventoryFormSubmitted\">\r\n        <div *ngFor=\"let validation of inventory_details_validation_messages.CostPrice\" class=\"has-error popover-style\">\r\n          <div class=\"dynamic_popover\" *ngIf=\"lensToInventoryForm.get('costPrice').hasError(validation.type)\">{{validation.message}}\r\n            <span class=\"doArrow\"></span>\r\n          </div>\r\n        </div>\r\n      </ng-container>\r\n   </div>\r\n   <div class = \"col-sm-3\">\r\n    <label for=\"hsn\" class = \"text-uppercase\">Hsn</label>\r\n    <input type=\"text\" id=\"hsn\" name=\"hsn\" disabled=\"true\" formControlName=\"hsnCode\" />\r\n   </div>\r\n   <div class = \"col-sm-3\">\r\n    <label for=\"tax\">Tax</label>\r\n    <input type=\"text\" id=\"tax\" name=\"tax\" disabled=\"true\" formControlName=\"taxPercntg\" />\r\n   </div>\r\n </div>\r\n <div\r\n class=\"row m-t-b-15 form-button-group p-l-15\" >\r\n <ul>\r\n   <li>\r\n      <button class=\"col-md-4\" type=\"submit\" class=\"btn-app btn-save\" (click) = \"addToInventory()\">Add To Inventory</button>\r\n   </li>\r\n   <li>\r\n       <button class=\"btn-app btn-delete\" (click)=\"closeSideNav()\">Close</button>\r\n   </li>\r\n  </ul>\r\n</div>\r\n</form>\r\n</div>\r\n","import { Component, OnInit, Input, AfterViewInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { MatDatepicker, MatSidenav, MatDialog } from '@angular/material';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { OpticalStoreService } from '@app/modules/optical-store/opticalStore.service';\r\nimport { ActivatedRoute, Params, Router } from '@angular/router';\r\nimport { UserSession } from '@core/models/user-session';\r\nimport {\r\n  UtilService,\r\n  UserService,\r\n  OpticalStoreApiService\r\n} from '@core/services';\r\n\r\n@Component({\r\n  selector: 'app-lens-add-to-inventory',\r\n  templateUrl: './lens-add-to-inventory.component.html',\r\n  styleUrls: ['./lens-add-to-inventory.component.scss']\r\n})\r\nexport class LensAddToInventoryComponent implements OnInit, AfterViewInit {\r\n  @Input()\r\n  sideNavRef: MatSidenav;\r\n  lensToInventoryForm: FormGroup;\r\n  vendorsList: any[] = [];\r\n  brandNamesInvList: any[] = [];\r\n  manufacturersList: any[] = [];\r\n  lensInventoryItems: any;\r\n  private sessionData: UserSession;\r\n  opticalOrderNo: any;\r\n  inventoryFormSubmitted = false;\r\n  ordersList: any;\r\n  opticalItemOrderId: any;\r\n  manufacturer: any;\r\n  selectedVendor: any;\r\n  markupVal: number;\r\n  inventory_details_validation_messages = {\r\n    CostPrice: [\r\n      { type: 'required', message: '* Cost Price is required' },\r\n    ],\r\n    Vendor: [\r\n      { type: 'required', message: '* Vendor is required' },\r\n    ],\r\n    Manufacturer: [\r\n      { type: 'required', message: '* Manufacturer is required' },\r\n    ],\r\n    Quantity: [\r\n      { type: 'required', message: '* Quantity is required' },\r\n    ]\r\n  };\r\n  insufficientStockKey = false;\r\n  constructor(\r\n    private componentOpticalService: OpticalStoreService,\r\n    private formBuilder: FormBuilder,\r\n    private utilService: UtilService,\r\n    private userService: UserService,\r\n    private router: Router,\r\n    private snackBar: MatSnackBar,\r\n    private opticalService: OpticalStoreApiService,\r\n  ) {\r\n    this.sessionData = userService.getUser();\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.componentOpticalService.lensInvData.subscribe(res => {\r\n      if (res) {\r\n      this.opticalOrderNo = res.opticalOrderNo;\r\n      this.opticalItemOrderId = res.opticalItemOrderId;\r\n\r\n      }\r\n      // this.fetchPendingOrdersList();\r\n      this.fetchBrandNameList();\r\n\r\n    });\r\n  }\r\n  ngOnInit() {\r\n    this.initForm();\r\n    this.fetchVendorsList();\r\n  }\r\n\r\n  initForm() {\r\n    this.lensToInventoryForm = this.formBuilder.group({\r\n      itemBrandNm: '',\r\n      brandMrp: '',\r\n      hsnCode: '',\r\n      taxPercntg: '',\r\n      lensCoating: '',\r\n      lensType: '',\r\n      coatingType: '',\r\n      lensIndex: '',\r\n      costPrice: this.formBuilder.control(null, Validators.required),\r\n      receivedQty: this.formBuilder.control(null, Validators.required),\r\n      barcode: '',\r\n      vendor: this.formBuilder.control(null, Validators.required),\r\n      manufacturer: this.formBuilder.control(null, Validators.required),\r\n      brandNm: ''\r\n    });\r\n  }\r\n\r\n  fetchPendingOrdersList() {\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId,\r\n      opticalOrderNo: this.opticalOrderNo\r\n    };\r\n    this.opticalService.fetchPendingOrders(payload).subscribe(\r\n      (response: any) => {\r\n        if (response.responseCode === 'E200') {\r\n          this.ordersList = response.data[0];\r\n        } else if (response.response === 'E400') {\r\n          this.snackBar.open(response.responseMessage, 'error', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      },\r\n      err => {\r\n        this.snackBar.open('Something went wrong', 'error', {\r\n          duration: 1500\r\n        });\r\n      }\r\n    );\r\n  }\r\n  /**\r\n   @function fetchBrandNameList\r\n   @description this method is to fetch the list of the lens items which are not present in inventory\r\n   */\r\n  fetchBrandNameList() {\r\n    this.brandNamesInvList = [];\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId,\r\n      opticalItemOrderId: this.opticalItemOrderId\r\n    };\r\n    this.opticalService.fetchInsufficientInventoryItems(payload).subscribe(\r\n      (response: any) => {\r\n        if (response.responseCode === 'E200') {\r\n          this.brandNamesInvList = response.data;\r\n          console.log(this.brandNamesInvList);\r\n        } else if (response.response === 'E400') {\r\n          this.snackBar.open(response.responseMessage, 'error', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      },\r\n      err => {\r\n        this.snackBar.open('Something went wrong', 'error', {\r\n          duration: 1500\r\n        });\r\n      }\r\n    );\r\n  }\r\n  /**\r\n   @function fetchVendorsList\r\n   @description to get vendors list who are already added\r\n   */\r\n  fetchVendorsList() {\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId\r\n    };\r\n    this.opticalService.fetchVendorsList(payload).subscribe(\r\n      (response: any) => {\r\n        if (response.responseCode === 'E200') {\r\n          this.vendorsList = response.data;\r\n        } else if (response.response === 'E400') {\r\n          this.snackBar.open(response.responseMessage, 'error', {\r\n            duration: 1500\r\n          });\r\n        }\r\n      },\r\n      err => {\r\n        this.snackBar.open('Something went wrong', 'error', {\r\n          duration: 1500\r\n        });\r\n      }\r\n    );\r\n  }\r\n  /**\r\n   * @description this method provides the manufacture list of specific selected vendor\r\n   * @param selectedVendor\r\n   */\r\n\r\n  onAddVendor(selectedVendor) {\r\n    this.manufacturersList = selectedVendor.manufacturerList;\r\n    this.selectedVendor = selectedVendor;\r\n  }\r\n\r\n  onAddManufacturer(selectedManufacturer) {\r\n    this.manufacturer = selectedManufacturer;\r\n  }\r\n/**\r\n @function onSelectBrandName\r\n @description this method is used for patching the values as the brand name is selected\r\n */\r\n  onSelectBrandName(event) {\r\n  this.lensInventoryItems = this.lensToInventoryForm.get('brandNm').value;\r\n  this.lensToInventoryForm.patchValue(this.lensInventoryItems);\r\n  this.lensToInventoryForm.patchValue({receivedQty: this.lensInventoryItems.orderQty});\r\n}\r\n\r\naddToInventory() {\r\n  this.inventoryFormSubmitted = true;\r\n  if (this.lensToInventoryForm.valid) {\r\n  const payload = {\r\n    orgId: this.sessionData.orgId,\r\n    orgGrpId: this.sessionData.orgGroupId,\r\n    createdUsrId: this.sessionData.regId,\r\n    opticalItemOrderId: this.opticalItemOrderId,\r\n    opticalOrderNo: this.opticalOrderNo,\r\n    insertLensInInventoryReq: this.lensToInventoryForm.value,\r\n    itemOrderLensDetailedId: this.brandNamesInvList[0].itemOrderLensDetailedId,\r\n    orderQty: this.brandNamesInvList[0].orderQty,\r\n  };\r\n  payload.insertLensInInventoryReq.manufacturerNm = this.manufacturer ? this.manufacturer.manufacturerNm : '';\r\n  payload.insertLensInInventoryReq.manufacturerId = this.manufacturer ? this.manufacturer.manufacturerId : '';\r\n  payload.insertLensInInventoryReq.vendorId = this.selectedVendor ? this.selectedVendor.vendor : '';\r\n  payload.insertLensInInventoryReq.vendorNm = this.selectedVendor ? this.selectedVendor.vendorNm : '';\r\n  payload.insertLensInInventoryReq.markUp = this.markupVal;\r\n  delete payload.insertLensInInventoryReq.brandNm;\r\n  this.opticalService.insertLensInventoryFromPendingOrder(payload).subscribe(\r\n    (response: any) => {\r\n      if (response.responseCode === 'E200') {\r\n     this.lensToInventoryForm.reset();\r\n     this.inventoryFormSubmitted = false;\r\n     this.closeSideNav();\r\n    //  this.fetchPendingOrdersList();\r\n    this.router.navigate(['/opticalStore/optical-pending-orders']);\r\n\r\n      } else if (response.response === 'E400') {\r\n        this.snackBar.open(response.responseMessage, 'error', {\r\n          duration: 1500\r\n        });\r\n      }\r\n    },\r\n    err => {\r\n      this.snackBar.open('Something went wrong', 'error', {\r\n        duration: 1500\r\n      });\r\n    }\r\n  );\r\n  }\r\n\r\n}\r\n\r\n/**\r\n @function checkCostPrice\r\n @description this method is to check whether the costprice is greater than MRP\r\n */\r\ncheckCostPrice() {\r\n  if (\r\n    this.lensToInventoryForm.get('brandMrp').value &&\r\n    this.lensToInventoryForm.get('costPrice').value\r\n  ) {\r\n    const mrp = this.lensToInventoryForm.get('brandMrp').value;\r\n    const cp = this.lensToInventoryForm.get('costPrice').value;\r\n    if (cp > mrp) {\r\n      this.snackBar.open('COST PRICE should not be greater than BRAND MRP', 'error', {\r\n        duration: 3000\r\n      });\r\n      this.lensToInventoryForm.get('costPrice').patchValue('');\r\n    } else {\r\n      this.markupVal = Number(mrp) - Number(cp);\r\n\r\n    }\r\n  }\r\n}\r\n\r\ncheckReqQuantity() {\r\n  if (\r\n        this.lensToInventoryForm.get('receivedQty').value\r\n      ) {\r\n        const recQty = this.lensToInventoryForm.get('receivedQty').value;\r\n        const ordQty = this.brandNamesInvList[0].orderQty;\r\n        if (recQty < ordQty) {\r\n          this.snackBar.open('Entered Quantity is less than Ordered Quantity', 'error', {\r\n            duration: 3000\r\n          });\r\n          this.lensToInventoryForm.get('receivedQty').patchValue('');\r\n        }\r\n      }\r\n}\r\n  closeSideNav() {\r\n    this.insufficientStockKey = true;\r\n    this.componentOpticalService.insufficientStockKey.next(this.insufficientStockKey);\r\n    this.sideNavRef.close();\r\n  }\r\n\r\n}\r\n","<div class=\"optical-common\">\r\n  <div class=\"col-md-12 common-search-bar\">\r\n    <div class=\"col-md-6\">\r\n      <h1 *ngIf=\"menuType == 'pos'\" class=\"text-uppercase txt-scarletgum\">Sale Your Products</h1>\r\n      <h1 *ngIf=\"menuType == 'suppliers'\" class=\"text-uppercase txt-scarletgum\">Vendors</h1>\r\n      <h1 *ngIf=\"menuType == 'inventory'\" class=\"text-uppercase txt-scarletgum\">Inventory</h1>\r\n      <h1 *ngIf=\"menuType == 'po'\" class=\"text-uppercase txt-scarletgum\">vendor Invoice</h1>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <div class=\"col-md-12 m-b-10 border-bottom border-right border-left p-0 bg-white\" fxLayout=\"row\">\r\n    <div class=\"col-md-5 row m-0 p-0\" *ngIf=\"menuType == 'pos'\">\r\n      <div class=\"col-md-6 p-t-10 p-b-10\">\r\n        <label class=\"txt-iris-blue text-uppercase\">{{ 'COMMONLABELS.PATIENT_ID_TEXT' | translate }}</label>\r\n\r\n        <div class=\"search-input-group optical-flex\">\r\n          <input type=\"text\" id=\"patientId\" (keyup.enter)=\"searchPatient(patientId, 'patientId')\" class=\"bg-dark-white-smoke txt-scarletgum\" [(ngModel)]=\"patientId\"\r\n            [disabled]=\"(currentSubMenu == 'salesHistory') ? true :false\" minlength=\"6\" maxlength=\"15\" />\r\n          <button id=\"glyphicon_search1\" class=\"btn-icon-search\"\r\n            [disabled]=\"(currentSubMenu == 'salesHistory' || !patientId) ? true :false\" (click)=\"searchPatient(patientId, 'patientId')\">\r\n            <i class=\"fa fa-search\"></i>\r\n          </button>\r\n\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"col-md-6 p-t-10 p-b-10 border-right-search\">\r\n        <label class=\"txt-iris-blue text-uppercase\">{{ 'COMMONLABELS.AADHAR_MOBILE_TEXT' | translate }}</label>\r\n        <div class=\"search-input-group optical-flex\">\r\n          <input type=\"text\" id=\"adhar\" (keyup.enter)=\"searchPatient(mobileAadhar, 'mobileAadhar')\" class=\"bg-dark-white-smoke txt-scarletgum\" [disabled]=\"(currentSubMenu == 'salesHistory') ? true :false\"\r\n            maxlength='12' [(ngModel)]=\"mobileAadhar\" />\r\n          <button id=\"glyphicon_search2\" class=\"btn-icon-search\"\r\n            [disabled]=\"(currentSubMenu == 'salesHistory' || !mobileAadhar)\" (click)=\"searchPatient(mobileAadhar, 'mobileAadhar')\">\r\n            <i class=\"fa fa-search\"></i>\r\n          </button>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"col-md-5 p-0\" *ngIf=\"menuType == 'suppliers'\">\r\n      <div class=\"col-md-12 p-t-10 p-b-10 border-right-search\">\r\n        <label class=\"txt-iris-blue text-uppercase\">{{ 'OPTICALSTORE.SUPPLIER_NAME_ID' | translate }}</label>\r\n        <div class=\"search-input-group optical-flex\">\r\n          <input type=\"text\" id=\"allsuplier\" class=\"bg-dark-white-smoke txt-scarletgum\" [(ngModel)]=\"supplierName\"\r\n            [disabled]=\"(currentSubMenu == 'allSuppliers') ? false :true \" />\r\n          <button id=\"glyphicon_search3\" class=\"btn-icon-search\"\r\n            (click)=\"vendorSearch(supplierName)\" [disabled]=\"(currentSubMenu == 'allSuppliers') ? false :true \">\r\n            <i class=\"fa fa-search\"></i>\r\n          </button>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"col-md-5 zero-padding\" *ngIf=\"menuType == 'inventory'\">\r\n      <div class=\"col-md-12 p-t-10 p-b-10 border-right-search\">\r\n        <label class=\"txt-iris-blue text-uppercase\">Brand Name</label>\r\n        <div class=\"search-input-group optical-flex\">\r\n          <input type=\"text\" id=\"brandname\" class=\"bg-dark-white-smoke txt-scarletgum\" (keyup.enter) = \"brandNameSearch(brandName)\" [(ngModel)]=\"brandName\" (click)=\"clickedSubMenu('allInventory')\"\r\n            [disabled]=\"(currentSubMenu == 'allInventory') ? false :true \" />\r\n          <button id=\"glyphicon_search4\" class=\"btn-icon-search\"\r\n            (click)=\"brandNameSearch(brandName)\" [disabled]=\"(currentSubMenu == 'allInventory') ? false :true \">\r\n            <i class=\"fa fa-search\"></i>\r\n          </button>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"col-md-5 zero-padding\" *ngIf=\"menuType == 'po'\">\r\n      <div class=\"col-md-12 p-t-10 p-b-10 border-right-search\">\r\n        <label class=\"txt-iris-blue text-uppercase\">{{ 'OPTICALSTORE.SUPPLIER_NAME_ID' | translate }}</label>\r\n        <div class=\"search-input-group optical-flex\">\r\n          <input type=\"text\" class=\"bg-dark-white-smoke txt-scarletgum\" [attr.disabled]=\"currentSubMenu !== 'allSuppliers'\" />\r\n          <button id=\"glyphicon_search5\" class=\"btn-icon-search\"\r\n            [attr.disabled]=\"true\">\r\n            <i class=\"fa fa-search\"></i>\r\n          </button>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-md-7 zero-padding\">\r\n      <div class=\"col-md-12 col-xs-12 zero-padding\">\r\n        <div class=\"menu-radio-group optical-menu col-sm-12 p-0 d-flex\">\r\n          <input type=\"radio\" name=\"pos\" id=\"pos\" value=\"pos\" [routerLink]=\"['optical-point-of-sale']\" [(ngModel)]=\"menuType\"\r\n            (click)=\"clickedSubMenu('productSale')\">\r\n          <label for=\"pos\" class=\"text-uppercase\">Product Sale</label>\r\n          <input type=\"radio\" name=\"suppliers\" id=\"suppliers\" value=\"suppliers\" [(ngModel)]=\"menuType\" [routerLink]=\"['optical-all-suppliers']\"\r\n            (click)=\"clickedSubMenu('allSuppliers')\">\r\n          <label for=\"suppliers\" class=\"text-uppercase\">Vendors</label>\r\n          <input type=\"radio\" name=\"po\" id=\"po\" value=\"po\" [(ngModel)]=\"menuType\" [routerLink]=\"['optical-new-invoice']\"\r\n            (click)=\"clickedSubMenu('vendorInvoice')\">\r\n          <label for=\"po\" class=\"text-uppercase\">Vendor Invoice</label>\r\n          <input type=\"radio\" name=\"invemtory\" id=\"inventory\" value=\"inventory\" [(ngModel)]=\"menuType\" [routerLink]=\"['optical-all-inventory']\"\r\n            (click)=\"clickedSubMenu('allInventory')\">\r\n          <label for=\"inventory\" class=\"text-uppercase\">Inventory</label>\r\n        </div>\r\n      </div>\r\n      <div class=\"optical-sub-menu\">\r\n        <ul class=\"optical-sub-menu-ul col-md-12 zero-padding\">\r\n          <div *ngIf=\"menuType == 'pos'\">\r\n            <li routerLinkActive=\"active-link\" id=\"pointOfSale\" [routerLink]=\"['optical-point-of-sale']\" [queryParams]=\"{type: 'sale'}\" (click)=\"clickedSubMenu('pointOfSale')\"\r\n              class=\"col-md-3\" [ngClass]=\"{'sale':isSaleActive}\">\r\n              <span class=arrow-down></span>\r\n              <a class=\"text-uppercase txt-scarletgum\">\r\n                Sale\r\n              </a>\r\n            </li>\r\n            <li routerLinkActive=\"active-link\" id=\"pointOfOrder\" [routerLink]=\"['optical-point-of-order']\" [queryParams]=\"{type: 'order'}\" (click)=\"clickedSubMenu('pointOfOrder')\"\r\n              class=\"col-md-3\">\r\n              <span class=arrow-down></span>\r\n              <a class=\"text-uppercase txt-scarletgum\">\r\n                Order\r\n              </a>\r\n            </li>\r\n            <li routerLinkActive=\"active-link\" id=\"pendingOrders\" class=\"col-md-3\" [routerLink]=\"['optical-pending-orders']\"  (click)=\"clickedSubMenu('pendingOrders')\" >\r\n            <span class=arrow-down></span>\r\n            <a class=\"text-uppercase txt-scarletgum\">\r\n                PENDING ORDERS\r\n            </a>\r\n          </li>\r\n            <li routerLinkActive=\"active-link\" id=\"saleshistory\" class=\"col-md-3\" [routerLink]=\"['optical-pos-invoice']\"\r\n              (click)=\"clickedSubMenu('salesHistory')\">\r\n              <span class=arrow-down></span>\r\n              <a class=\"text-uppercase txt-scarletgum\">Sales History</a>\r\n            </li>\r\n          </div>\r\n\r\n          <div *ngIf=\"menuType == 'suppliers'\">\r\n            <li routerLinkActive=\"active-link\" id=\"allventors\" [routerLink]=\"['optical-all-suppliers']\" class=\"col-md-6\"\r\n              (click)=\"clickedSubMenu('allSuppliers')\">\r\n              <span class=arrow-down></span>\r\n              <a class=\"text-uppercase txt-scarletgum\">All Vendors</a>\r\n            </li>\r\n            <li routerLinkActive=\"active-link\" id=\"addnewvendor\" [routerLink]=\"['optical-add-suppliers']\" class=\"col-md-6\"\r\n              (click)=\"clickedSubMenu('addSuppliers')\">\r\n              <span class=arrow-down></span>\r\n              <a class=\"text-uppercase txt-scarletgum\">Add New Vendor</a>\r\n            </li>\r\n          </div>\r\n\r\n          <div *ngIf=\"menuType == 'po'\">\r\n            <li routerLinkActive=\"active-link\" id=\"newinvoice\" [routerLink]=\"['optical-new-invoice']\" class=\"col-md-6\">\r\n              <span class=arrow-down></span>\r\n              <a class=\"text-uppercase txt-scarletgum\">New Invoice</a>\r\n            </li>\r\n            <li routerLinkActive=\"active-link\" id=\"invoicehistory\" [routerLink]=\"['optical-invoice-history']\" class=\"col-md-6\">\r\n              <span class=arrow-down></span>\r\n              <a class=\"text-uppercase txt-scarletgum\">Invoice History</a>\r\n            </li>\r\n          </div>\r\n\r\n          <div *ngIf=\"menuType == 'inventory'\">\r\n            <li routerLinkActive=\"active-link\" id=\"allinventoryitems\" [routerLink]=\"['optical-all-inventory']\" class=\"col-md-4\"\r\n              (click)=\"clickedSubMenu('allInventory')\">\r\n              <span class=arrow-down></span>\r\n              <a class=\"text-uppercase txt-scarletgum\">All Inventory Items</a>\r\n            </li>\r\n            <li routerLinkActive=\"active-link\" id=\"addnew\" [routerLink]=\"['optical-add-inventory']\" class=\"col-md-4\"\r\n              (click)=\"clickedSubMenu('addInventory')\">\r\n              <span class=arrow-down></span>\r\n              <a class=\"text-uppercase txt-scarletgum\">Add New Item</a>\r\n            </li>\r\n            <li routerLinkActive=\"active-link\" id=\"uploaditem\" class=\"col-md-4\">\r\n              <span class=arrow-down></span>\r\n              <a class=\"text-uppercase txt-scarletgum disabled\">Upload Item to Inventory</a>\r\n            </li>\r\n          </div>\r\n        </ul>\r\n        <!-- <p class=\"text-uppercase txt-scarletgum\" *ngIf=\"menuType === 'pos'\">View Sales History</p> -->\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n  <router-outlet></router-outlet>\r\n</div>\r\n","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport {\r\n  Router,\r\n  ActivatedRoute\r\n} from '@angular/router';\r\nimport { UserSession } from '@core/models/user-session';\r\nimport { OpticalStoreService } from '../../opticalStore.service';\r\nimport {\r\n  OpticalStoreApiService,\r\n  OpdApiService,\r\n  LoginApiService\r\n} from '@core/services';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Store } from '@ngrx/store';\r\nimport {\r\n  FetchPatient,\r\n  FetchOpticalItemTypes,\r\n  FetchPatientSuccess,\r\n  FetchOpticalVendorSuccess,\r\n  FetchOpticalInventorySuccess\r\n} from '@app/modules/optical-store/actions';\r\n\r\nimport { OsDialogComponent } from '@app/modules/optical-store/containers/os-dialog/os-dialog.component';\r\nimport { MatDialog } from '@angular/material';\r\nimport { UserService } from '@core/services/user.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { AutoUnsubscribe } from 'ngx-auto-unsubscribe';\r\n// @AutoUnsubscribe()\r\n@Component({\r\n  selector: 'app-optical-common',\r\n  templateUrl: './optical-common.component.html',\r\n  styleUrls: ['./optical-common.component.scss']\r\n})\r\nexport class OpticalCommonComponent implements OnInit , OnDestroy {\r\n  menuType = 'pos';\r\n  // private sessionData = userService.getUser();\r\n  private sessionData: UserSession;\r\n  honorificsList: any = [];\r\n  patientId: any;\r\n  mobileAadhar: any;\r\n  supplierName: any;\r\n  brandName: any;\r\n  currentSubMenu: any;\r\n  private subscription: Subscription;\r\n  isSaleActive = true;\r\n\r\n  constructor(\r\n    public router: Router,\r\n    private activatedRoute: ActivatedRoute,\r\n    private componentOpticalService: OpticalStoreService,\r\n    private opticalService: OpticalStoreApiService,\r\n    private toaster: ToastrService,\r\n    private opdService: OpdApiService,\r\n    private store: Store<any>,\r\n    private loginService: LoginApiService,\r\n    private dialog: MatDialog,\r\n    userService: UserService,\r\n    private opticalStoreService: OpticalStoreService\r\n  ) {\r\n    this.menuType = 'pos';\r\n    this.sessionData = userService.getUser();\r\n    // this.parseSessionData(\r\n    //   this.activatedRoute.snapshot.queryParamMap.get('data')\r\n    // );\r\n    this.router.navigate(['/opticalStore/optical-point-of-sale']);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getOpticalItems();\r\n    this.componentOpticalService.getOpticalItemTypes();\r\n  }\r\n\r\n  getOpticalItems() {\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId,\r\n      opticalType: 'Item Type'\r\n    };\r\n    this.store.dispatch(new FetchOpticalItemTypes(payload));\r\n  }\r\n\r\n  searchPatient(val, type) {\r\n    if (type === 'patientId') {\r\n      const payload = {\r\n        orgId: this.sessionData.orgId,\r\n        orgGrpId: this.sessionData.orgGroupId,\r\n        createdUsrId: this.sessionData.regId,\r\n        hosPatientId: val\r\n      };\r\n      this.store.dispatch(new FetchPatient(payload));\r\n    } else if (type === 'mobileAadhar') {\r\n      const payload = {\r\n        orgId: this.sessionData.orgId,\r\n        orgGrpId: this.sessionData.orgGroupId,\r\n        createdUsrId: this.sessionData.regId,\r\n        mobileNoOrAadhar: val\r\n      };\r\n      if (this.subscription) {\r\n        this.subscription.unsubscribe();\r\n      }\r\n      this.subscription = this.opticalService.fetchPatientOptical(payload)\r\n        .subscribe(\r\n          (response: any) => {\r\n            if (response.responseCode === 'E200') {\r\n              this.mobileAadhar = '';\r\n              this.patientId = '';\r\n\r\n              if (response.data.length > 1) {\r\n                const dialogRef = this.dialog.open(OsDialogComponent, {\r\n                  data: {\r\n                    type: 'patientList',\r\n                    patientList: response.data\r\n                  },\r\n                  disableClose: true\r\n                });\r\n\r\n                dialogRef.afterClosed().subscribe(result => {\r\n                  if (result) {\r\n                    this.store.dispatch(new FetchPatientSuccess([result]));\r\n                    this.componentOpticalService.patientData.next([result]);\r\n                    // const x = new FetchOpticalItemTypesSuccess(result);\r\n                  }\r\n                });\r\n              } else if (response.data.length === 1) {\r\n                this.store.dispatch(new FetchPatientSuccess(response.data));\r\n                this.componentOpticalService.patientData.next(response.data);\r\n              } else if (response.data.length === 0) {\r\n                this.toaster.warning('No Data Found');\r\n              }\r\n            } else if (response.response === 'E400') {\r\n              this.toaster.error('Failure!', response.responseMessage);\r\n            }\r\n          },\r\n          err => {\r\n            this.toaster.error('Failure!', 'Something went wrong');\r\n          }\r\n        );\r\n    }\r\n    this.patientId = '';\r\n  }\r\n\r\n  vendorSearch(vendorName) {\r\n    if (vendorName) {\r\n      const payload = {\r\n        orgId: this.sessionData.orgId,\r\n        orgGrpId: this.sessionData.orgGroupId,\r\n        createdUsrId: this.sessionData.regId,\r\n        vendorNm: vendorName,\r\n        isFullDetails: 'true'\r\n      };\r\n      this.opticalService.fetchVendorsList(payload).subscribe(\r\n        (response: any) => {\r\n          const respObj = {\r\n            clickedOnSearch: true,\r\n            data: response.data\r\n          };\r\n          this.store.dispatch(new FetchOpticalVendorSuccess(respObj));\r\n          this.supplierName = '';\r\n        },\r\n        err => {\r\n          this.toaster.error('Failure!', 'Something went wrong');\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  brandNameSearch(brand) {\r\n    if (brand) {\r\n      const payload = {\r\n        orgId: this.sessionData.orgId,\r\n        orgGrpId: this.sessionData.orgGroupId,\r\n        createdUsrId: this.sessionData.regId,\r\n        itemBrandNm: brand\r\n      };\r\n\r\n      this.opticalService.fetchInventoryList(payload).subscribe(\r\n        (response: any) => {\r\n          const respObj = {\r\n            clickedOnSearch: true,\r\n            data: response.data\r\n          };\r\n          this.store.dispatch(new FetchOpticalInventorySuccess(respObj));\r\n          this.brandName = null;\r\n        },\r\n        err => {\r\n          this.toaster.error('Failure!', 'Something went wrong');\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  clickedSubMenu(subMenuNm) {\r\n    this.currentSubMenu = subMenuNm;\r\n    if (subMenuNm !== 'productSale') {\r\n      this.patientId = '';\r\n      this.mobileAadhar = '';\r\n    }\r\n    if (subMenuNm !== 'allSuppliers') {\r\n      this.supplierName = '';\r\n    }\r\n    if (subMenuNm !== 'allInventory') {\r\n      this.brandName = '';\r\n    }\r\n    if (subMenuNm === 'pointOfSale' || subMenuNm === 'productSale') {\r\n      this.isSaleActive = true;\r\n    } else {\r\n      this.isSaleActive = false;\r\n    }\r\n    this.componentOpticalService.opticalCommonData.next(subMenuNm);\r\n  }\r\n  ngOnDestroy() {\r\n  }\r\n\r\n}\r\n","<div class=\"col-md-12 add-optical-inventory-section m-b-10 no-padding\">\r\n    <div class=\"menu-radio-group\">\r\n        <input type=\"radio\" name=\"toggle\" id=\"frames\" value=\"Frame\" [(ngModel)]=\"inventoryType\">\r\n        <label for=\"frames\">Frames</label>\r\n        <input type=\"radio\" name=\"toggle\" id=\"contactLenses\" value=\"Contact Lense\" [(ngModel)]=\"inventoryType\">\r\n        <label for=\"contactLenses\">contact Lens</label>\r\n        <input type=\"radio\" name=\"toggle\" id=\"lenses\" value=\"Lense\" [(ngModel)]=\"inventoryType\">\r\n        <label for=\"lenses\">lenses</label>\r\n        <!-- <input type=\"radio\" name=\"toggle\" id=\"accessories\" value=\"accessories\" [(ngModel)]=\"inventoryType\" [attr.disabled]=\"true\">\r\n        <label for=\"accessories\">Accessories</label> -->\r\n    </div>\r\n\r\n    <div class=\"inventories\">\r\n        <div *ngIf=\"inventoryType\">\r\n            <app-frames-inventory [menuType]=\"inventoryType\"></app-frames-inventory>\r\n        </div>\r\n        <!-- <div *ngIf=\"inventoryType == 'lenses'\">\r\n            <p>Lenses</p>\r\n        </div>\r\n        <div *ngIf=\"inventoryType == 'contactLenses'\">\r\n            <p>Contact Lenses</p>\r\n        </div>\r\n        <div *ngIf=\"inventoryType == 'accessories'\">\r\n            <p>Accessories</p>\r\n        </div> -->\r\n    </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-add-optical-inventory',\r\n  templateUrl: './add-optical-inventory.component.html',\r\n  styleUrls: ['./add-optical-inventory.component.scss']\r\n})\r\nexport class AddOpticalInventoryComponent implements OnInit {\r\n  public inventoryType = 'Frame';\r\n  menuType: any;\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n  ) {\r\n    this.activatedRoute.queryParams.subscribe(params => {\r\n      if (params['menuType']) {\r\n        this.inventoryType = params['menuType'];\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<div class=\"col-md-12 all-optical-inventory-section no-padding\">\r\n    <div class=\"menu-radio-group m-l-15\">\r\n        <input type=\"radio\" name=\"toggle\" id=\"frames\" value=\"Frame\" [(ngModel)]=\"inventoryType\">\r\n        <label for=\"frames\">Frames</label>\r\n        <input type=\"radio\" name=\"toggle\" id=\"contactLenses\" value=\"Contact Lense\" [(ngModel)]=\"inventoryType\">\r\n        <label for=\"contactLenses\">contact Lens</label>\r\n        <input type=\"radio\" name=\"toggle\" id=\"lenses\" value=\"Lense\" [(ngModel)]=\"inventoryType\">\r\n        <label for=\"lenses\">Lenses</label>\r\n        <!-- <input type=\"radio\" name=\"toggle\" id=\"accessories\" value=\"accessories\" [(ngModel)]=\"inventoryType\" [attr.disabled]=\"true\">\r\n        <label for=\"accessories\">Accessories</label> -->\r\n    </div>\r\n\r\n    <div class=\"col-sm-12 inventories clearfix m-b-10\">\r\n        <div *ngIf=\"inventoryType\">\r\n            <app-showing-optical-inventory [menuType]=\"inventoryType\"></app-showing-optical-inventory>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-all-optical-inventory',\r\n  templateUrl: './all-optical-inventory.component.html',\r\n  styleUrls: ['./all-optical-inventory.component.scss']\r\n})\r\nexport class AllOpticalInventoryComponent implements OnInit {\r\n  public inventoryType = 'Frame';\r\n  menuType: any;\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<div class=\"frames-add-inv row m-0\">\r\n  <div class=\"col-md-2 padding-left-zero\">\r\n    <div class=\"box-panel-form\">\r\n      <div class=\"select-image col-md-12\" [ngClass]=\"{ 'image-uploaded': url}\">\r\n        <div class=\"box-panel-form white-bg\">\r\n          <div class=\"select-image-text\">\r\n            <p>\r\n              <i class=\"fas fa-camera\"></i>\r\n          </div>\r\n        </div>\r\n        <div class=\"selected-img\">\r\n          <img [src]=\"url\" *ngIf=\"url\">\r\n        </div>\r\n        <input type=\"file\" (change)=\"onFileChanged($event.target.files)\" #fileInput>\r\n        <div class=\"profile-image-upload\">\r\n          <div class=\"button upload-img\" (click)=\"onFileChanged($event.target.files)\">\r\n            <a> Choose </a>\r\n          </div>\r\n          <br>\r\n          <div class=\"button remove-img\" *ngIf=\"url\" (click)=\"removeImage()\">\r\n            <a> Remove Image </a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-md-12 zero-padding\">\r\n      <label for=\"mname\">Scan Barcode</label>\r\n      <input type=\"text\" id=\"mname\" name=\"mname\" minlength=\"3\" maxlength=\"6\" pattern=\"/^[A-Z ]*$/\" [(ngModel)]=\"barcode\">\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"col-md-10 zero-padding bg-white border-radius-all-side border-all-side p-t-10 p-b-10\">\r\n    <form [formGroup]=\"addFramesForm\">\r\n      <div class=\"box-panel-form white-bg frame-details-form\">\r\n        <div class=\"row m-0\">\r\n          <div class=\"col-md-4 col-xs-12 m-t-10\">\r\n            <label class=\"label-contents\" for=\"mname\">Vendor Selection</label>\r\n            <span class=\"astrik-symbol\">\r\n              <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n            </span>\r\n            <ng-select id=\"vendorslist\" [items]=\"vendorsList\" bindLabel=\"vendorNm\" [hideSelected]=\"true\" (change)=\"onAddVendor($event)\"\r\n              formControlName=\"vendor\">\r\n            </ng-select>\r\n            <ng-container *ngIf=\"inventoryFormSubmitted\">\r\n              <div *ngFor=\"let validation of inventory_details_validation_messages.vendorName\" class=\"has-error popover-style\">\r\n                <div class=\"dynamic_popover\" *ngIf=\"addFramesForm.get('vendor').hasError(validation.type)\">{{validation.message}}\r\n                  <span class=\"doArrow\"></span>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n          <div class=\"col-md-4 col-xs-12 m-t-10 p-l-0\">\r\n            <label class=\"label-contents\" for=\"mname\">Manufacturer </label>\r\n            <span class=\"astrik-symbol\">\r\n              <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n            </span>\r\n            <ng-select id=\"manufacturersList\" [items]=\"manufacturersList\" bindLabel=\"manufacturerNm\" [hideSelected]=\"true\"\r\n              (change)=\"onAddManufacturer($event)\" formControlName=\"manufacturer\">\r\n            </ng-select>\r\n            <ng-container *ngIf=\"inventoryFormSubmitted\">\r\n              <div *ngFor=\"let validation of inventory_details_validation_messages.manufacturerName\" class=\"has-error popover-style\">\r\n                <div class=\"dynamic_popover\" *ngIf=\"addFramesForm.get('manufacturer').hasError(validation.type)\">{{validation.message}}\r\n                  <span class=\"doArrow\"></span>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n          <div class=\"col-md-4 col-xs-12 m-t-10 p-l-0\" *ngIf=\"menuType === 'Lense'\">\r\n            <label class=\"label-contents\"for=\"LensType\">Lens Type</label>\r\n            <span class=\"astrik-symbol\">\r\n              <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n            </span>\r\n            <ng-select id=\"lensTypeList\" bindValue=\"opticalCode\" [items]=\"lensTypeList$ | async\" [addTag]=\"true\" bindLabel=\"opticalCode\"\r\n              [hideSelected]=\"true\" [typeahead]=\"lensTypeListinput$\" formControlName=\"lensType\">\r\n            </ng-select>\r\n            <ng-container *ngIf=\"inventoryFormSubmitted\">\r\n              <div *ngFor=\"let validation of inventory_details_validation_messages.lensType\" class=\"has-error popover-style\">\r\n                <div class=\"dynamic_popover\" *ngIf=\"addFramesForm.get('lensType').hasError(validation.type)\">{{validation.message}}\r\n                  <span class=\"doArrow\"></span>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n\r\n          </div>\r\n          <div class=\"col-md-4 col-xs-12 m-t-10\" *ngIf=\"menuType === 'Lense'\">\r\n            <label class=\"label-contents\" for=\"GlassType\">Coating Type</label>\r\n            <span class=\"astrik-symbol\">\r\n              <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n            </span>\r\n            <ng-select id=\"coatingTypeList\" bindValue=\"opticalCode\" [items]=\"coatingTypeList$ | async\" bindLabel=\"opticalCode\" [addTag]=\"true\"\r\n              [hideSelected]=\"true\" [typeahead]=\"coatingTypeListinput$\" formControlName=\"coatingType\">\r\n            </ng-select>\r\n            <ng-container *ngIf=\"inventoryFormSubmitted\">\r\n              <div *ngFor=\"let validation of inventory_details_validation_messages.coatingType\" class=\"has-error popover-style\">\r\n                <div class=\"dynamic_popover\" *ngIf=\"addFramesForm.get('coatingType').hasError(validation.type)\">{{validation.message}}\r\n                  <span class=\"doArrow\"></span>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n          <div class=\"col-md-4 col-xs-12 m-t-10 p-l-0\" *ngIf=\"(menuType === 'Frame') ||(menuType ==='Contact Lense') \">\r\n            <label class=\"label-contents\" for=\"mname\">Brand Name </label>\r\n            <span class=\"astrik-symbol\">\r\n              <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n            </span>\r\n            <ng-select id=\"brandNameList\" [items]=\"brandNameList$ | async\" bindLabel=\"itemBrandNm\" [addTag]=\"true\"\r\n              [hideSelected]=\"true\" [typeahead]=\"brandNameListinput$\" (change)=\"onAddBrand($event)\" formControlName=\"brandName\">\r\n            </ng-select>\r\n            <ng-container *ngIf=\"inventoryFormSubmitted\">\r\n              <div *ngFor=\"let validation of inventory_details_validation_messages.brandName\" class=\"has-error popover-style\">\r\n                <div class=\"dynamic_popover\" *ngIf=\"addFramesForm.get('brandName').hasError(validation.type)\">{{validation.message}}\r\n                  <span class=\"doArrow\"></span>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n          <div class=\"col-md-4 col-xs-12 m-t-10 p-l-0\" *ngIf=\"menuType === 'Lense'\">\r\n            <label class=\"label-contents\" for=\"mname\">Brand Name </label>\r\n            <span class=\"astrik-symbol\">\r\n              <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n            </span>\r\n            <ng-select id=\"brandNameList\" [items]=\"lensbrandNameList$ | async\" bindLabel=\"itemBrandNm\" [addTag]=\"true\"\r\n              [hideSelected]=\"true\" [typeahead]=\"lensbrandNameListinput$\" (change)=\"onAddBrand($event)\" formControlName=\"brandName\">\r\n            </ng-select>\r\n            <ng-container *ngIf=\"inventoryFormSubmitted\">\r\n              <div *ngFor=\"let validation of inventory_details_validation_messages.brandName\" class=\"has-error popover-style\">\r\n                <div class=\"dynamic_popover\" *ngIf=\"addFramesForm.get('brandName').hasError(validation.type)\">{{validation.message}}\r\n                  <span class=\"doArrow\"></span>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n          <div class=\"col-md-4 col-xs-12 m-t-10 p-l-0\" *ngIf=\"menuType === 'Lense'\">\r\n            <label class=\"label-contents\" for=\"Index\">Index</label>\r\n            <span class=\"astrik-symbol\">\r\n              <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n            </span>\r\n            <ng-select id=\"frameIndexList\" bindValue=\"opticalCode\" [items]=\"indexList$ | async\" bindLabel=\"opticalCode\" [addTag]=\"true\"\r\n              [hideSelected]=\"true\" [typeahead]=\"indexListinput$\" formControlName=\"lensIndex\">\r\n            </ng-select>\r\n            <ng-container *ngIf=\"inventoryFormSubmitted\">\r\n              <div *ngFor=\"let validation of inventory_details_validation_messages.lensIndex\" class=\"has-error popover-style\">\r\n                <div class=\"dynamic_popover\" *ngIf=\"addFramesForm.get('lensIndex').hasError(validation.type)\">{{validation.message}}\r\n                  <span class=\"doArrow\"></span>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"row m-0 p-0\">\r\n          <div class=\"col-md-4  col-xs-12 m-t-10\" *ngIf=\"menuType === 'Lense'\">\r\n            <label class=\"label-contents\" for=\"coating\">Coating</label>\r\n            <span class=\"astrik-symbol\">\r\n              <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n            </span>\r\n            <ng-select id=\"coatingList\" [items]=\"coatingList$ | async\" bindLabel=\"opticalCode\" [hideSelected]=\"true\"\r\n              [addTag]=\"true\" bindValue=\"opticalCode\" [typeahead]=\"coatingListinput$\" formControlName=\"lensCoating\">\r\n            </ng-select>\r\n            <ng-container *ngIf=\"inventoryFormSubmitted\">\r\n              <div *ngFor=\"let validation of inventory_details_validation_messages.lensCoating\" class=\"has-error popover-style\">\r\n                <div class=\"dynamic_popover\" *ngIf=\"addFramesForm.get('lensCoating').hasError(validation.type)\">{{validation.message}}\r\n                  <span class=\"doArrow\"></span>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n\r\n          <div class=\"col-md-4  col-xs-12 m-t-10 p-l-0\" *ngIf=\"menuType === 'Lense'\">\r\n            <label class=\"label-contents\" for=\"receivedQty\">Received Quantity</label>\r\n            <span class=\"astrik-symbol\">\r\n\r\n              <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n            </span>\r\n            <input type=\"text\" onkeypress=\"return event.charCode >= 48 && event.charCode <=57\" maxlength=\"4\" id=\"receivedQty\"\r\n              name=\"receivedQty\" formControlName=\"receivedQty\">\r\n            <ng-container *ngIf=\"inventoryFormSubmitted\">\r\n              <div *ngFor=\"let validation of inventory_details_validation_messages.receivedQty\" class=\"has-error popover-style\">\r\n                <div class=\"dynamic_popover\" *ngIf=\"addFramesForm.get('receivedQty').hasError(validation.type)\">{{validation.message}}\r\n                  <span class=\"doArrow\"></span>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"row m-0\">\r\n          <div class=\"col-md-4  col-xs-12 m-t-10\" *ngIf=\"(menuType === 'Frame') ||(menuType ==='Contact Lense') \">\r\n            <label class=\"label-contents\" for=\"modelNo\">Model No </label>\r\n            <span class=\"astrik-symbol\">\r\n              <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n            </span>\r\n            <input type=\"text\" id=\"modelNo\" maxlength=\"15\" name=\"modelNo\" formControlName=\"modelNo\">\r\n            <ng-container *ngIf=\"inventoryFormSubmitted\">\r\n              <div *ngFor=\"let validation of inventory_details_validation_messages.modelNo\" class=\"has-error popover-style\">\r\n                <div class=\"dynamic_popover\" *ngIf=\"addFramesForm.get('modelNo').hasError(validation.type)\">{{validation.message}}\r\n                  <span class=\"doArrow\"></span>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n          <div class=\"col-md-4  col-xs-12 m-t-10 p-l-0\" *ngIf=\"(menuType === 'Frame') ||(menuType ==='Contact Lense') \">\r\n            <label class=\"label-contents\" for=\"serialNo\">Serial No </label>\r\n            <span class=\"astrik-symbol\">\r\n              <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n            </span>\r\n            <input type=\"text\" id=\"serialNo\" name=\"serialNo\" formControlName=\"serialNo\">\r\n            <ng-container *ngIf=\"inventoryFormSubmitted\">\r\n              <div *ngFor=\"let validation of inventory_details_validation_messages.serialNo\" class=\"has-error popover-style\">\r\n                <div class=\"dynamic_popover\" *ngIf=\"addFramesForm.get('serialNo').hasError(validation.type)\">{{validation.message}}\r\n                  <span class=\"doArrow\"></span>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n          <div class=\"col-md-4  col-xs-12 m-t-10 p-l-0\" *ngIf=\"menuType === 'Frame'\">\r\n            <label class=\"label-contents\" for=\"frameType\">Frame Type</label>\r\n            <ng-select id=\"frameTypeList\" [items]=\"frameTypeList$ | async\" bindLabel=\"opticalCode\" [hideSelected]=\"true\"\r\n              bindValue=\"opticalCode\" [addTag]=\"true\" [typeahead]=\"frameTypeListinput$\" formControlName=\"frameTypeNm\">\r\n            </ng-select>\r\n          </div>\r\n          <div class=\"col-sm-4 m-t-10 p-l-0\" *ngIf=\"menuType ==='Contact Lense'\">\r\n            <label for=\"frameColor\">Color</label>\r\n            <ng-select id=\"frameColorList\" [items]=\"frameColorList$ | async\" bindLabel=\"opticalCode\" [hideSelected]=\"true\"\r\n              [addTag]=\"true\" bindValue=\"opticalCode\" [typeahead]=\"frameColorListinput$\" formControlName=\"opticalColorNm\">\r\n            </ng-select>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"row m-0\">\r\n          <div class=\"col-md-4  col-xs-12 m-t-10\" *ngIf=\"menuType === 'Frame'\">\r\n            <label class=\"label-contents\" for=\"frameSize\">Frame Size</label>\r\n            <ng-select id=\"frameSizeList\" bindValue=\"opticalCode\" [items]=\"frameSizeList$ | async\" bindLabel=\"opticalCode\"\r\n              [hideSelected]=\"true\" [addTag]=\"true\" [typeahead]=\"frameSizeListinput$\" formControlName=\"frameSize\">\r\n            </ng-select>\r\n          </div>\r\n          <div class=\"col-md-4  col-xs-12 m-t-10 p-l-0\" *ngIf=\"menuType === 'Frame'\">\r\n            <label class=\"label-contents\" for=\"frameShape\">Frame Shape</label>\r\n            <ng-select id=\"frameShapeList\" bindValue=\"opticalCode\" [items]=\"frameShapeList$ | async\" bindLabel=\"opticalCode\"\r\n              [hideSelected]=\"true\" [addTag]=\"true\" [typeahead]=\"frameShapeListinput$\" formControlName=\"frameShape\">\r\n            </ng-select>\r\n          </div>\r\n          <div class=\"col-md-4  col-xs-12 m-t-10 p-l-0\" *ngIf=\"(menuType === 'Frame') \">\r\n            <label for=\"frameColor\" *ngIf=\"menuType === 'Frame'\">Frame Color</label>\r\n            <!-- <label for=\"frameColor\" *ngIf=\"menuType === 'Contact Lense'\">Color</label> ||(menuType ==='Contact Lense') -->\r\n            <ng-select id=\"frameColorList\" [items]=\"frameColorList$ | async\" bindLabel=\"opticalCode\" [hideSelected]=\"true\"\r\n              [addTag]=\"true\" bindValue=\"opticalCode\" [typeahead]=\"frameColorListinput$\" formControlName=\"opticalColorNm\">\r\n            </ng-select>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-4  col-xs-12 m-t-10\" *ngIf=\"menuType === 'Frame'\">\r\n          <label class=\"label-contents\" for=\"frameMaterial\">Frame Material</label>\r\n          <ng-select id=\"frameMaterialList\" [items]=\"frameMaterialList$ | async\" bindLabel=\"opticalCode\" [hideSelected]=\"true\"\r\n            bindValue=\"opticalCode\" [addTag]=\"true\" [typeahead]=\"frameMaterialListinput$\" formControlName=\"opticalMaterialNm\">\r\n          </ng-select>\r\n        </div>\r\n\r\n        <div class=\"row p-0 m-0 m-t-10 p-l-0\">\r\n          <div class=\"col-md-3 col-xs-12\" *ngIf=\"menuType === 'Frame'\">\r\n            <label class=\"label-contents\" for=\"gender\">Product For\r\n              <span class=\"astrik-symbol\">\r\n                <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n              </span>\r\n            </label>\r\n            <select id=\"gender\" name=\"gender\" formControlName=\"gender\">\r\n              <option value=\"\"></option>\r\n              <option value=\"Men\" class=\"md-primary\">Men</option>\r\n              <option value=\"Women\" class=\"md-primary\">Women</option>\r\n              <option value=\"Kids\" class=\"md-primary\">Kids</option>\r\n              <option value=\"Unisex\" class=\"md-primary\">Unisex</option>\r\n            </select>\r\n            <ng-container *ngIf=\"inventoryFormSubmitted\">\r\n              <div *ngFor=\"let validation of inventory_details_validation_messages.gender\" class=\"has-error popover-style\">\r\n                <div class=\"dynamic_popover\" *ngIf=\"addFramesForm.get('gender').hasError(validation.type)\">{{validation.message}}\r\n                  <span class=\"doArrow\"></span>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n          <div class=\"col-md-3\" *ngIf=\"(menuType === 'Frame') ||(menuType ==='Contact Lense') \">\r\n            <label class=\"label-contents\" for=\"manufactureDate\">Manufactured Date</label>\r\n            <p class=\"input-group m-b-0 \">\r\n              <input type=\"text\" class=\"form-control\" [matDatepicker]=\"manufacturedDate\" [max]=\"dateMax\" [min]=\"dateMin\"\r\n                formControlName=\"manufacturingDt\" (dateChange)=\"changeDateFunction()\" (click)=\"datePickerToggler(manufacturedDate)\">\r\n              <mat-datepicker #manufacturedDate></mat-datepicker>\r\n              <span class=\"input-group-btn\">\r\n                <button class=\"btn btn-default btn-padding\" type=\"button\" (click)=\"datePickerToggler(manufacturedDate)\">\r\n                  <i class=\"fa fa-calendar\"></i>\r\n                </button>\r\n              </span>\r\n            </p>\r\n          </div>\r\n          <div class=\"col-md-3  col-xs-12\" *ngIf=\"(menuType === 'Frame') ||(menuType ==='Contact Lense')\">\r\n            <label class=\"label-contents\" for=\"receivedQty\">Received Quantity</label>\r\n            <span class=\"astrik-symbol\">\r\n              <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n            </span>\r\n            <input type=\"text\" onkeypress=\"return event.charCode >= 48 && event.charCode <=57\" maxlength=\"4\" id=\"receivedQty\"\r\n              name=\"receivedQty\" formControlName=\"receivedQty\">\r\n            <ng-container *ngIf=\"inventoryFormSubmitted\">\r\n              <div *ngFor=\"let validation of inventory_details_validation_messages.receivedQty\" class=\"has-error popover-style\">\r\n                <div class=\"dynamic_popover\" *ngIf=\"addFramesForm.get('receivedQty').hasError(validation.type)\">{{validation.message}}\r\n                  <span class=\"doArrow\"></span>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n          <div class=\"col-md-3  col-xs-12\" *ngIf=\"(menuType === 'Frame') ||(menuType ==='Contact Lense') \">\r\n            <label>Received Date</label>\r\n            <p class=\"input-group m-b-0 \">\r\n              <input class=\"form-control\" type=\"text\" [matDatepicker]=\"receivedDate\" [max]=\"dateMax\" [min]=\"minDate\"\r\n                formControlName=\"receivedDt\" (click)=\"datePickerToggler(receivedDate)\">\r\n              <mat-datepicker #receivedDate></mat-datepicker>\r\n              <span class=\"input-group-btn\">\r\n                <button class=\"btn btn-default btn-padding\" type=\"button\" (click)=\"datePickerToggler(receivedDate)\">\r\n                  <i class=\"fa fa-calendar\"></i>\r\n                </button>\r\n              </span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"row m-0 p-0 m-t-10 p-l-0\">\r\n          <div class=\"col-md-2  col-xs-12\">\r\n            <label class=\"label-contents\" for=\"mrp\">Brand Mrp </label>\r\n            <span class=\"astrik-symbol\">\r\n              <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n            </span>\r\n            <input type=\"number\" id=\"mrp\" onkeypress=\"return event.charCode >= 48\" name=\"mrp\" formControlName=\"brandMrp\"\r\n              (blur)=\"calculateMarkUp()\">\r\n            <ng-container *ngIf=\"inventoryFormSubmitted\">\r\n              <div *ngFor=\"let validation of inventory_details_validation_messages.mrp\" class=\"has-error popover-style\">\r\n                <div class=\"dynamic_popover\" *ngIf=\"addFramesForm.get('brandMrp').hasError(validation.type)\">{{validation.message}}\r\n                  <span class=\"doArrow\"></span>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n          <div class=\"col-md-2  col-xs-12\">\r\n            <label class=\"label-contents\" for=\"costPrice\">Cost Price </label>\r\n            <span class=\"astrik-symbol\">\r\n              <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n            </span>\r\n            <input type=\"number\" onkeypress=\"return event.charCode >= 48\" id=\"costPrice\" name=\"costPrice\"\r\n              formControlName=\"costPrice\" (blur)=\"calculateMarkUp()\">\r\n            <ng-container *ngIf=\"inventoryFormSubmitted\">\r\n              <div *ngFor=\"let validation of inventory_details_validation_messages.costPrice\" class=\"has-error popover-style\">\r\n                <div class=\"dynamic_popover\" *ngIf=\"addFramesForm.get('costPrice').hasError(validation.type)\">{{validation.message}}\r\n                  <span class=\"doArrow\"></span>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n          <div class=\"col-md-2  col-xs-12\">\r\n            <label class=\"pb-0\" for=\"markUp\">Mark Up</label>\r\n            <input type=\"text\" id=\"markUp\" name=\"markUp\" formControlName=\"markUp\">\r\n          </div>\r\n          <div class=\"col-md-2  col-xs-12\">\r\n            <label class=\"label-contents\" for=\"hsn\">Hsn</label>\r\n            <span class=\"astrik-symbol\">\r\n              <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n            </span>\r\n            <input type=\"text\" id=\"hsn\" name=\"hsn\" formControlName=\"hsnCode\" (blur)=\"getHsnDetails()\">\r\n            <ng-container *ngIf=\"inventoryFormSubmitted\">\r\n              <div *ngFor=\"let validation of inventory_details_validation_messages.hsn\" class=\"has-error popover-style\">\r\n                <div class=\"dynamic_popover\" *ngIf=\"addFramesForm.get('hsnCode').hasError(validation.type)\">{{validation.message}}\r\n                  <span class=\"doArrow\"></span>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n          <div class=\"col-md-2  col-xs-12\">\r\n            <label class=\"label-contents\" for=\"tax\">Tax(%) </label>\r\n            <span class=\"astrik-symbol\">\r\n              <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n            </span>\r\n            <input type=\"number\" onkeypress=\"return event.charCode >= 48\" max=\"100\" (change)=\"taxValidate()\" maxlength=\"3\"\r\n              id=\"tax\" name=\"tax\" formControlName=\"tax\">\r\n            <ng-container *ngIf=\"inventoryFormSubmitted\">\r\n              <div *ngFor=\"let validation of inventory_details_validation_messages.tax\" class=\"has-error popover-style\">\r\n                <div class=\"dynamic_popover\" *ngIf=\"addFramesForm.get('tax').hasError(validation.type)\">{{validation.message}}\r\n                  <span class=\"doArrow\"></span>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n          <div class=\"col-md-2 col-xs-12 m-b-10\" *ngIf=\"(menuType === 'Frame') ||(menuType ==='Contact Lense') \">\r\n            <label for=\"shortCode\">Short Code</label>\r\n            <input type=\"text\" id=\"shortCode\" name=\"shortCode\" formControlName=\"shortCode\" maxlength=\"10\">\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n    <div class=\"box-panel-form white-bg lens-details-form \" *ngIf=\"menuType === 'Contact Lense'\">\r\n      <div class=\"p-l-10 p-r-10 m-t-10\">\r\n        <table class=\"table table-bordered lens-table\">\r\n          <tr class=\"lens-table-header\">\r\n            <th>Type</th>\r\n            <th>Sph</th>\r\n            <th>Cyl</th>\r\n            <th>Axis</th>\r\n            <th>VA</th>\r\n            <th>Add</th>\r\n            <th>Type</th>\r\n            <th>Sph</th>\r\n            <th>Cyl</th>\r\n            <th>Axis</th>\r\n            <th>VA</th>\r\n            <th>Add</th>\r\n          </tr>\r\n          <tr>\r\n            <th>Right Dist</th>\r\n            <td *ngFor=\"let rightDist of lensData.rightDist\" (click)=\"openValuesModal('distanceRight')\">\r\n              <span *ngFor=\"let value of objectKeys(rightDist)\">{{contactlensModal[value]}} </span>\r\n            </td>\r\n            <th>Left Dist</th>\r\n            <td *ngFor=\"let leftDist of lensData.leftDist\" (click)=\"openValuesModal('distanceLeft')\">\r\n              <span *ngFor=\"let value of objectKeys(leftDist)\">{{contactlensModal[value]}} </span>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <th>Right Near</th>\r\n            <td *ngFor=\"let rightNear of lensData.rightNear\" (click)=\"openValuesModal('nearRight')\">\r\n              <span *ngFor=\"let value of objectKeys(rightNear)\">{{contactlensModal[value]}}</span>\r\n            </td>\r\n            <th>Left Near</th>\r\n            <td *ngFor=\"let leftNear of lensData.leftNear\" (click)=\"openValuesModal('nearLeft')\">\r\n              <span *ngFor=\"let value of objectKeys(leftNear)\">{{contactlensModal[value]}}</span>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      </div>\r\n      <div class=\"col-md-12 no-padding m\">\r\n        <mat-checkbox [(ngModel)]=\"contactlensModal.arcGlass\" color=\"primary\">Arc</mat-checkbox>\r\n        <mat-checkbox [(ngModel)]=\"contactlensModal.bifocalGlass\" color=\"primary\">Bifocal</mat-checkbox>\r\n        <mat-checkbox [(ngModel)]=\"contactlensModal.constGlass\" color=\"primary\">Const</mat-checkbox>\r\n        <mat-checkbox [(ngModel)]=\"contactlensModal.photosunGlass\" color=\"primary\">Photosun</mat-checkbox>\r\n        <mat-checkbox [(ngModel)]=\"contactlensModal.progressiveGlass\" color=\"primary\">Progressive</mat-checkbox>\r\n        <mat-checkbox [(ngModel)]=\"contactlensModal.glass\" color=\"primary\">Glass</mat-checkbox>\r\n      </div>\r\n      <div class=\"row m-0 p-0\">\r\n        <div class=\"col-md-3\">\r\n          <label for=\"pupillaryDistance\">Pupilary Distance </label>\r\n          <input type=\"text\" id=\"pupillaryDistance\" name=\"pupillaryDistance\" [(ngModel)]=\"contactlensModal.pupillaryDistance\">\r\n        </div>\r\n        <div class=\"col-md-3 p-l-0\">\r\n          <label for=\"lbc\">Left Base Curve </label>\r\n          <input type=\"text\" id=\"lbc\" name=\"lbc\" [(ngModel)]=\"contactlensModal.leftBaseCurve\">\r\n        </div>\r\n        <div class=\"col-md-3 p-l-0\">\r\n          <label for=\"rbc\">Right Base Curve </label>\r\n          <input type=\"text\" id=\"rbc\" name=\"rbc\" [(ngModel)]=\"contactlensModal.rightBaseCurve\">\r\n        </div>\r\n        <div class=\"col-md-3\">\r\n          <label for=\"advice\">Glass Advice</label>\r\n          <input type=\"text\" id=\"advice\" name=\"advice\" [(ngModel)]=\"contactlensModal.glassTypeAdvice\">\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div\r\n    class=\"col-sm-12 m-t-b-15 form-button-group\">\r\n    <ul>\r\n      <li>\r\n        <button class=\"btn-app btn-save\" *ngIf=\"!editInventory\" (click)=\"submitInventoryForm(addFramesForm)\">\r\n        <i class=\"fas fa-save margin-right-5\" aria-hidden=\"true\"></i> Save</button>\r\n      </li>\r\n      <li>\r\n        <button class=\"btn-app btn-save\" (click)=\"submitInventoryForm(addFramesForm)\" *ngIf=\"editInventory\">\r\n        <i class=\"fas fa-save margin-right-5\" aria-hidden=\"true\"></i> Update</button>\r\n      </li>\r\n      <li>\r\n        <button type=\"button\" class=\"btn-app btn-delete\" (click)=\"cancel()\" *ngIf=\"editInventory\">\r\n        <i class=\"fas fa-times fa-btn-icon margin-right-5\" aria-hidden=\"true\"></i> Cancel</button>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n  </div>\r\n</div>\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  Input,\r\n  ChangeDetectorRef,\r\n  OnChanges,\r\n  SimpleChanges,\r\n  ViewChild,\r\n  ElementRef,\r\n  Inject,\r\n  OnDestroy\r\n} from '@angular/core';\r\nimport {\r\n  FormGroup,\r\n  FormBuilder,\r\n  Validators,\r\n  FormControl\r\n} from '@angular/forms';\r\nimport { MatDatepicker, MatDialog, MatDialogRef } from '@angular/material';\r\nimport { Observable, concat, of, Subject, from, Subscription } from 'rxjs';\r\nimport { OpticalStoreService } from '@app/modules/optical-store/opticalStore.service';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { DisableControlDirective } from '@shared/directives/disable-control.directive';\r\nimport { OpticalStoreApiService, UtilService, JSBARCODE } from '@core/services';\r\nimport {\r\n  debounceTime,\r\n  distinctUntilChanged,\r\n  filter,\r\n  switchMap,\r\n  map,\r\n  catchError,\r\n  tap,\r\n  multicast,\r\n  share\r\n} from 'rxjs/operators';\r\nimport { DatePipe } from '@angular/common';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { OsDialogComponent } from '@app/modules/optical-store/containers/os-dialog/os-dialog.component';\r\nimport * as S3 from 'aws-sdk/clients/s3';\r\nimport { OpdServiceService } from '@app/modules/opd/opd-service.service';\r\nimport { AutoUnsubscribe } from 'ngx-auto-unsubscribe';\r\nimport { UserSession } from '@core/models/user-session';\r\nimport { UserService } from '@core/services/user.service';\r\nimport { ConfirmationDialogComponent } from '@shared/components/confirmation-dialog/confirmation-dialog.component';\r\nimport { ProfileImageSelectorComponent } from '@core/components/profile-image/profile-image.component';\r\nimport { ProfileImageSelectorResult } from '@core/models/profile-image-selector';\r\n@AutoUnsubscribe()\r\n@Component({\r\n  selector: 'app-frames-inventory',\r\n  templateUrl: './frames-inventory.component.html',\r\n  styleUrls: ['./frames-inventory.component.scss']\r\n})\r\nexport class FramesInventoryComponent implements OnInit, OnChanges, OnDestroy {\r\n  dateMax = new Date();\r\n  dateMin: any;\r\n  minDate: any;\r\n  taxNumber: number;\r\n  manufacturingDt: any;\r\n  @Input()\r\n  menuType: any;\r\n  addFramesForm: FormGroup;\r\n  public objectKeys = Object.keys;\r\n  vendorsList: any[] = [];\r\n  manufacturersList: any[] = [];\r\n  brandNameList$: Observable<any>;\r\n  lensbrandNameList$: Observable<any>;\r\n  brandNameListinput$ = new Subject<string>();\r\n  lensbrandNameListinput$ = new Subject<string>();\r\n  lensTypeList$: Observable<any>;\r\n  lensTypeListinput$ = new Subject<string>();\r\n  coatingTypeList$: Observable<any>;\r\n  coatingTypeListinput$ = new Subject<string>();\r\n  coatingList$: Observable<any>;\r\n  coatingListinput$ = new Subject<string>();\r\n  indexList$: Observable<any>;\r\n  indexListinput$ = new Subject<string>();\r\n  frameSizeList$: Observable<any>;\r\n  frameSizeListinput$ = new Subject<string>();\r\n  frameTypeList$: Observable<any>;\r\n  frameTypeListinput$ = new Subject<string>();\r\n  frameShapeList$: Observable<any>;\r\n  frameShapeListinput$ = new Subject<string>();\r\n  frameColorList$: Observable<any>;\r\n  frameColorListinput$ = new Subject<string>();\r\n  frameMaterialList$: Observable<any>;\r\n  frameMaterialListinput$ = new Subject<string>();\r\n  brandNames: any[] = [];\r\n  barcode: any = '';\r\n  cpStatus: Boolean = false;\r\n  isTax: Boolean = false;\r\n  lensData = {\r\n    rightDist: [\r\n      { distanceRightSph: '' },\r\n      { distanceRightCyl: '' },\r\n      { distanceRightAxis: '' },\r\n      { distanceRightVa: '' },\r\n      { distanceRightAddSph: '' },\r\n    ],\r\n    leftDist: [\r\n      { distanceLeftSph: '' },\r\n      { distanceLeftCyl: '' },\r\n      { distanceLeftAxis: '' },\r\n      { distanceLeftVa: '' },\r\n      { distanceLeftAddSph: '' }\r\n    ],\r\n    rightNear: [\r\n      { nearRightSph: '' },\r\n      { nearRightCyl: '' },\r\n      { nearRightAxis: '' },\r\n      { nearRightVa: '' },\r\n      { nearRightAddSph: '' },\r\n    ],\r\n    leftNear: [\r\n      { nearLeftSph: '' },\r\n      { nearLeftCyl: '' },\r\n      { nearLeftAxis: '' },\r\n      { nearLeftVa: '' },\r\n      { nearLeftAddSph: '' },\r\n    ]\r\n  };\r\n  contactlensModal: any = {\r\n    arcGlass: false,\r\n    bifocalGlass: false,\r\n    constGlass: false,\r\n    photosunGlass: false,\r\n    progressiveGlass: false,\r\n    glass: false\r\n  };\r\n  opticalItemType: any;\r\n  public editInventory: Boolean;\r\n  public editInventoryData: any;\r\n  selectedManfacNm: string;\r\n  public bucket = new S3(this.componentOpdServiceService.getBucketsConfig());\r\n  // public bucket = new S3(this.componentOpticalService.getBucketsConfig());\r\n  acceptedMimeTypes = ['image/gif', 'image/jpeg', 'image/png'];\r\n  public imageUploadSubscription: Subscription;\r\n  @ViewChild('fileInput')\r\n  fileInput: ElementRef;\r\n  public url;\r\n  public imageFile;\r\n  inventory_details_validation_messages = {\r\n    vendorName: [\r\n      { type: 'required', message: '* Supplier Name is required' },\r\n      {\r\n        type: 'minlength',\r\n        message: '* Supplier Name must be at least 3 characters long'\r\n      },\r\n      {\r\n        type: 'maxlength',\r\n        message: '* Supplier Name cannot be more than 50 characters long'\r\n      }\r\n    ],\r\n    manufacturerName: [\r\n      { type: 'required', message: '* Manufacturer Name is required' },\r\n      {\r\n        type: 'minlength',\r\n        message: '* Manufacturer Name must be at least 3 characters long'\r\n      },\r\n      {\r\n        type: 'maxlength',\r\n        message: '* Manufacturer Name cannot be more than 50 characters long'\r\n      }\r\n    ],\r\n    brandName: [\r\n      { type: 'required', message: '* Brand Name is required' },\r\n      {\r\n        type: 'minlength',\r\n        message: '* Brand Name must be at least 3 characters long'\r\n      },\r\n      {\r\n        type: 'maxlength',\r\n        message: '* Brand Name cannot be more than 50 characters long'\r\n      }\r\n    ],\r\n    modelNo: [\r\n      { type: 'required', message: '* Model No is required' },\r\n      {\r\n        type: 'minlength',\r\n        message: '* Model No must be at least 3 characters long'\r\n      },\r\n      {\r\n        type: 'maxlength',\r\n        message: '* Model No cannot be more than 25 characters long'\r\n      }\r\n    ],\r\n    serialNo: [\r\n      { type: 'required', message: '* Serial No is required' },\r\n      {\r\n        type: 'minlength',\r\n        message: '* Serial No must be at least 3 characters long'\r\n      },\r\n      {\r\n        type: 'maxlength',\r\n        message: '* Serial No cannot be more than 50 characters long'\r\n      }\r\n    ],\r\n    receivedQty: [\r\n      { type: 'required', message: '* Received Quantity is required' },\r\n      {\r\n        type: 'minlength',\r\n        message: '* Received Quantity must be at least 1 characters long'\r\n      },\r\n      {\r\n        type: 'maxlength',\r\n        message: '* Received Quantity cannot be more than 5 characters long'\r\n      },\r\n      {\r\n        type: 'pattern',\r\n        message: 'Received Quantity must contain only Numbers'\r\n      }\r\n    ],\r\n    gender: [{ type: 'required', message: '* Gender is required' }],\r\n    mrp: [\r\n      { type: 'required', message: '* Brand MRP is required' },\r\n      {\r\n        type: 'minlength',\r\n        message: '* Brand MRP must be at least 1 characters long'\r\n      },\r\n      {\r\n        type: 'maxlength',\r\n        message: '* Brand MRP cannot be more than 10 characters long'\r\n      },\r\n      { type: 'pattern', message: 'Brand MRP must contain only Numbers' }\r\n    ],\r\n    costPrice: [\r\n      { type: 'required', message: '* Cost Price is required' },\r\n      {\r\n        type: 'minlength',\r\n        message: '* Cost Price must be at least 1 characters long'\r\n      },\r\n      {\r\n        type: 'maxlength',\r\n        message: '* Cost Price cannot be more than 10 characters long'\r\n      },\r\n      { type: 'pattern', message: 'Cost Price must contain only Numbers' }\r\n    ],\r\n    hsn: [\r\n      { type: 'required', message: '* HSN Code is required' },\r\n      {\r\n        type: 'minlength',\r\n        message: '* HSN Code must be at least 1 characters long'\r\n      },\r\n      {\r\n        type: 'maxlength',\r\n        message: '* HSN Code cannot be more than 10 characters long'\r\n      }\r\n    ],\r\n    tax: [\r\n      { type: 'required', message: '* tax is required' },\r\n      {\r\n        type: 'minlength',\r\n        message: '* tax must be at least 1 characters long'\r\n      },\r\n      {\r\n        type: 'maxlength',\r\n        message: '* tax cannot be more than 5 characters long'\r\n      },\r\n      { type: 'pattern', message: 'tax must contain only Numbers' }\r\n    ],\r\n    coatingType: [{ type: 'required', message: '* Coatingtype is required' }],\r\n    lensType: [{ type: 'required', message: '* lensType is required' }],\r\n    lensIndex: [{ type: 'required', message: '* lensIndex is required' }],\r\n    lensCoating: [{ type: 'required', message: '* lensCoating is required' }]\r\n  };\r\n  inventoryFormSubmitted = false;\r\n  private sessionData: UserSession;\r\n  constructor(\r\n    private formbuilder: FormBuilder,\r\n    private opticalService: OpticalStoreApiService,\r\n    private componentOpticalService: OpticalStoreService,\r\n    private toaster: ToastrService,\r\n    private datePipe: DatePipe,\r\n    private activatedRoute: ActivatedRoute,\r\n    private router: Router,\r\n    private dialog: MatDialog,\r\n    private changeDecRef: ChangeDetectorRef,\r\n    private utilService: UtilService,\r\n    private componentOpdServiceService: OpdServiceService,\r\n    userService: UserService,\r\n    @Inject(JSBARCODE) private jsbarcode\r\n  ) {\r\n    this.sessionData = userService.getUser();\r\n  }\r\n\r\n  ngOnInit() {\r\n    // this.initForm();\r\n    this.fetchVendorsList();\r\n    this.disableFields();\r\n    this.fetchBrandNames();\r\n    this.fetchlensBrandNames();\r\n\r\n    this.fetchLensTypes();\r\n    this.fetchFirstTenLensTypes();\r\n\r\n    this.fetchCoatingTypes();\r\n    this.fetchFirstTenCoatingTypes();\r\n\r\n    this.fetchIndexes();\r\n    this.fetchFirstTenIndexes();\r\n\r\n    this.fetchCoatings();\r\n    this.fetchFirstTenCoatings();\r\n\r\n    this.fetchFrameSizes();\r\n    this.fetchFirstTenFrameSizes();\r\n\r\n    this.fetchFrameTypes();\r\n    this.fetchFirstTenFrameTypes();\r\n\r\n    this.fetchFrameShapes();\r\n    this.fetchFirstTenFrameShapes();\r\n\r\n    this.fetchFrameColors();\r\n    this.fetchFirstTenFrameColors();\r\n\r\n    this.fetchFrameMaterial();\r\n    this.fetchFirstTenFrameMaterial();\r\n\r\n    this.getEditInventoryData();\r\n\r\n    this.opticalItemType = this.componentOpticalService.getCurrentOpticalItem(\r\n      this.menuType\r\n    );\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    this.inventoryFormSubmitted = false;\r\n    this.url = '';\r\n    this.barcode = null;\r\n    if (changes.menuType && changes.menuType.currentValue) {\r\n      this.initForm();\r\n      this.opticalItemType = this.componentOpticalService.getCurrentOpticalItem(\r\n        this.menuType\r\n      );\r\n    }\r\n  }\r\n\r\n  initForm() {\r\n    this.addFramesForm = this.formbuilder.group({\r\n      vendor: this.formbuilder.control(null, [\r\n        Validators.required,\r\n        Validators.minLength(3),\r\n        Validators.maxLength(50)\r\n      ]),\r\n      manufacturer: this.formbuilder.control(null, [\r\n        Validators.required,\r\n        Validators.minLength(3),\r\n        Validators.maxLength(50)\r\n      ]),\r\n      brandName: this.formbuilder.control(null, [\r\n        Validators.required,\r\n        Validators.minLength(3),\r\n        Validators.maxLength(50)\r\n      ]),\r\n      modelNo: this.formbuilder.control('', [\r\n        Validators.required,\r\n        Validators.minLength(3),\r\n        Validators.maxLength(25)\r\n      ]),\r\n      serialNo: this.formbuilder.control('', [\r\n        Validators.required,\r\n        Validators.minLength(3),\r\n        Validators.maxLength(30)\r\n      ]),\r\n      opticalColorNm: this.formbuilder.control(null),\r\n      receivedDt: this.formbuilder.control(''),\r\n      receivedQty: this.formbuilder.control('', [\r\n        Validators.required,\r\n        Validators.minLength(1),\r\n        Validators.maxLength(5),\r\n        Validators.pattern(/^\\d+$/)\r\n      ]),\r\n      // gender: this.formbuilder.control(''),\r\n      gender: this.formbuilder.control('', [Validators.required]),\r\n      manufacturingDt: this.formbuilder.control(''),\r\n      brandMrp: this.formbuilder.control('', [\r\n        Validators.required,\r\n        Validators.minLength(1),\r\n        Validators.maxLength(10),\r\n        Validators.pattern(/^\\d+$/)\r\n      ]),\r\n      costPrice: this.formbuilder.control('', [\r\n        Validators.required,\r\n        Validators.minLength(1),\r\n        Validators.maxLength(10),\r\n        Validators.pattern(/^\\d+$/)\r\n      ]),\r\n      markUp: this.formbuilder.control(\r\n        { value: '', disabled: true },\r\n        Validators.required\r\n      ),\r\n      hsnCode: this.formbuilder.control('', [\r\n        Validators.required,\r\n        Validators.minLength(1),\r\n        Validators.maxLength(10)\r\n      ]),\r\n      tax: this.formbuilder.control('', [\r\n        Validators.required,\r\n        Validators.minLength(1),\r\n        Validators.maxLength(5),\r\n        Validators.pattern(/^\\d+$/)\r\n      ]),\r\n      shortCode: this.formbuilder.control(''),\r\n      description: this.formbuilder.control('')\r\n    });\r\n\r\n    if (this.menuType === 'Frame') {\r\n      this.addFramesForm.addControl(\r\n        'frameTypeNm',\r\n        this.formbuilder.control(null)\r\n      );\r\n      this.addFramesForm.addControl(\r\n        'frameSize',\r\n        this.formbuilder.control(null)\r\n      );\r\n      this.addFramesForm.addControl(\r\n        'frameShape',\r\n        this.formbuilder.control(null)\r\n      );\r\n      this.addFramesForm.addControl('gender', this.formbuilder.control(''));\r\n      this.addFramesForm.addControl(\r\n        'opticalMaterialNm',\r\n        this.formbuilder.control(null)\r\n      );\r\n    } else if (this.menuType === 'Lense') {\r\n      this.addFramesForm.removeControl('frameTypeNm');\r\n      this.addFramesForm.removeControl('frameSize');\r\n      this.addFramesForm.removeControl('frameShape');\r\n      this.addFramesForm.removeControl('gender');\r\n      this.addFramesForm.removeControl('opticalMaterialNm');\r\n      this.addFramesForm.removeControl('modelNo');\r\n      this.addFramesForm.removeControl('serialNo');\r\n      this.addFramesForm.addControl(\r\n        'coatingType',\r\n        this.formbuilder.control(null, [Validators.required])\r\n      );\r\n      this.addFramesForm.addControl(\r\n        'lensType',\r\n        this.formbuilder.control(null, [Validators.required])\r\n      );\r\n      this.addFramesForm.addControl(\r\n        'lensIndex',\r\n        this.formbuilder.control(null, [Validators.required])\r\n      );\r\n      this.addFramesForm.addControl(\r\n        'lensCoating',\r\n        this.formbuilder.control(null, [Validators.required])\r\n      );\r\n    } else if (this.menuType === 'Contact Lense') {\r\n      this.addFramesForm.removeControl('frameTypeNm');\r\n      this.addFramesForm.removeControl('frameSize');\r\n      this.addFramesForm.removeControl('frameShape');\r\n      this.addFramesForm.removeControl('gender');\r\n      this.addFramesForm.removeControl('opticalMaterialNm');\r\n      this.addFramesForm.removeControl('coatingType');\r\n      this.addFramesForm.removeControl('lensType');\r\n      this.addFramesForm.removeControl('lensIndex');\r\n      this.addFramesForm.removeControl('lensCoating');\r\n    }\r\n\r\n    this.changeDecRef.detectChanges();\r\n    // this.addFramesForm.addControl('modelNo', this.formbuilder.control('', Validators.required));\r\n    // this.addFramesForm.removeControl('modelNo');\r\n  }\r\n\r\n  getEditInventoryData() {\r\n    this.editInventoryData = this.componentOpticalService.inventoryData;\r\n    if (this.editInventoryData) {\r\n      this.activatedRoute.queryParams.subscribe(params => {\r\n        if (params['isEditable']) {\r\n          this.addFramesForm.patchValue(this.editInventoryData);\r\n          this.editInventory = true;\r\n          this.url =\r\n            this.editInventoryData.imagePath &&\r\n            this.editInventoryData.imagePath[0];\r\n          this.barcode = this.editInventoryData.barcode && this.editInventoryData.barcode;\r\n\r\n          //   if (this.menuType === 'Frame' || this.menuType === 'Contact Lense') {\r\n          // this.barcode =\r\n          //   this.editInventoryData.barCode && this.editInventoryData.barCode;\r\n          //   } else if (this.menuType === 'Lense') {\r\n          // this.barcode = this.editInventoryData.barcode && this.editInventoryData.barcode;\r\n\r\n          //   }\r\n          // const brand$ = this.fetchBrands(this.editInventoryData.itemBrandNm).pipe(share());\r\n          // this.brandNameList$ = brand$;\r\n\r\n          // this.brandNameList$.subscribe((data) => {\r\n          //   this.addFramesForm.patchValue({\r\n          //     brandName: data[0]\r\n          //   });\r\n          //   this.onAddBrand(data[0]);\r\n          // });\r\n\r\n          this.addFramesForm.patchValue({\r\n            vendor: {\r\n              vendorId: this.editInventoryData.vendorId,\r\n              vendorNm: this.editInventoryData.vendorNm\r\n            }\r\n          });\r\n          this.addFramesForm.patchValue({\r\n            manufacturer: {\r\n              manufacturerNm: this.editInventoryData.manufacturerNm\r\n            }\r\n          });\r\n          this.addFramesForm.patchValue({\r\n            brandName: { itemBrandNm: this.editInventoryData.itemBrandNm }\r\n          });\r\n          // this.addFramesForm.get('vendor').disable();\r\n          // this.addFramesForm.get('brandName').disable();\r\n          // this.addFramesForm.get('manufacturer').disable();\r\n          // this.addFramesForm.get('modelNo').disable();\r\n          if (this.editInventoryData.hsnCode) {\r\n            this.getHsnDetails();\r\n          }\r\n\r\n          if (this.menuType === 'Contact Lense') {\r\n            this.contactlensModal = this.editInventoryData.insertContactLensSaleOrOrder;\r\n          }\r\n        } else {\r\n          this.componentOpticalService.removeinventoryData();\r\n          this.editInventory = false;\r\n        }\r\n      });\r\n    } else {\r\n      this.editInventory = false;\r\n    }\r\n  }\r\n  taxValidate() {\r\n    this.taxNumber = this.addFramesForm.get('tax').value;\r\n    if (this.taxNumber > 100) {\r\n      this.toaster.error('Failure!', 'Tax should not be greater than 100');\r\n      this.addFramesForm.get('tax').patchValue('');\r\n    }\r\n  }\r\n\r\n  disableFields() {\r\n    // this.addFramesForm.controls.manufacturer.disable();\r\n    // this.addFramesForm.controls.brandName.disable();\r\n    // this.addFramesForm.controls.tax.disable();\r\n  }\r\n\r\n  onAddVendor(selectedVendor) {\r\n    this.manufacturersList = selectedVendor.manufacturerList;\r\n    // this.addFramesForm.controls.manufacturer.enable();\r\n    if (this.editInventory) {\r\n      this.addFramesForm.patchValue({\r\n        manufacturer: { manufacturerNm: this.editInventoryData.manufacturerNm }\r\n      });\r\n    }\r\n  }\r\n\r\n  onAddManufacturer(selectedManufacturer) {\r\n    const tempFormData = Object.assign({}, { ...this.addFramesForm.value });\r\n    this.selectedManfacNm = selectedManufacturer.manufacturerNm;\r\n    this.addFramesForm.reset();\r\n    this.addFramesForm.patchValue({\r\n      vendor: {\r\n        vendorId: tempFormData.vendor.vendorId,\r\n        vendorNm: tempFormData.vendor.vendorNm\r\n      }\r\n    });\r\n    this.addFramesForm.patchValue({\r\n      manufacturer: {\r\n        manufacturerNm: selectedManufacturer.manufacturerNm,\r\n        manufacturerId: selectedManufacturer.manufacturerId\r\n      }\r\n    });\r\n    // this.addFramesForm.controls.brandName.enable();\r\n  }\r\n\r\n  onAddBrand(brand) {\r\n    // this.addFramesForm.patchValue(brand);\r\n    if (brand.hsnCode) {\r\n      this.getHsnDetails();\r\n    }\r\n  }\r\n\r\n  datePickerToggler(datePicker: MatDatepicker<Date>) {\r\n    datePicker[datePicker.opened ? 'close' : 'open']();\r\n  }\r\n\r\n  changeDateFunction() {\r\n    this.manufacturingDt = this.addFramesForm.value.manufacturingDt;\r\n    // this.receivedDt = this.addFramesForm.value.receivedDt;\r\n    this.minDate = this.manufacturingDt;\r\n    return this.manufacturingDt;\r\n  }\r\n\r\n  fetchVendorsList() {\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId\r\n    };\r\n    this.opticalService.fetchVendorsList(payload).subscribe(\r\n      (response: any) => {\r\n        if (response.responseCode === 'E200') {\r\n          this.vendorsList = response.data;\r\n          if (this.editInventory) {\r\n            const tempVendor = this.addFramesForm.get('vendor').value;\r\n            this.vendorsList.forEach(vendorData => {\r\n              if (vendorData.vendorId === tempVendor.vendorId) {\r\n                this.onAddVendor(vendorData);\r\n                // return;\r\n              }\r\n            });\r\n          }\r\n        } else if (response.response === 'E400') {\r\n          this.toaster.error('Failure!', 'Something went wrong');\r\n        }\r\n      },\r\n      err => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n\r\n  allowManufacturer() {\r\n    if (this.addFramesForm.get('vendor').value) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  allowToView() {\r\n    if (\r\n      this.addFramesForm.get('vendor').value &&\r\n      this.addFramesForm.get('manufacturer').value &&\r\n      this.addFramesForm.get('brandName').value\r\n    ) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  fetchBrandNames() {\r\n    this.brandNameList$ = concat(\r\n      of([]), // default items\r\n      this.brandNameListinput$.pipe(\r\n        debounceTime(200),\r\n        distinctUntilChanged(),\r\n        tap(console.log),\r\n        filter(checkStringCount => {\r\n          if (checkStringCount && checkStringCount.length > 1) {\r\n            return true;\r\n          }\r\n        }),\r\n        //  tap(() => this.people3Loading = true),\r\n        switchMap(this.fetchBrands.bind(this))\r\n      )\r\n    );\r\n  }\r\n\r\n  fetchBrands(brandString) {\r\n    const payload = {\r\n      createdUsrId: this.sessionData.regId,\r\n      itemTypeId: this.opticalItemType.opticalTypeId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      orgId: this.sessionData.orgId,\r\n      itemBrandNm: brandString,\r\n      manufacturerNm: this.selectedManfacNm\r\n    };\r\n    return this.opticalService.fetchBrandsOpticalPos(payload).pipe(\r\n      map((response: any) => {\r\n        if (response.responseCode === 'E200') {\r\n          return response.data;\r\n        } else if (response.response === 'E400') {\r\n          // return (this.manufacturersList = []);\r\n        }\r\n      }),\r\n      catchError(error => {\r\n        return of([]);\r\n      })\r\n    );\r\n  }\r\n  // api for fetching lens brand names\r\n  fetchlensBrandNames() {\r\n    this.lensbrandNameList$ = concat(\r\n      of([]), // default items\r\n      this.lensbrandNameListinput$.pipe(\r\n        debounceTime(200),\r\n        distinctUntilChanged(),\r\n        tap(console.log),\r\n        filter(checkStringCount => {\r\n          if (checkStringCount && checkStringCount.length > 1) {\r\n            return true;\r\n          }\r\n        }),\r\n        //  tap(() => this.people3Loading = true),\r\n        switchMap(this.fetchlensBrands.bind(this))\r\n      )\r\n    );\r\n  }\r\n\r\n  fetchlensBrands(brandString) {\r\n    const payload = {\r\n      createdUsrId: this.sessionData.regId,\r\n      itemTypeId: this.opticalItemType.opticalTypeId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      orgId: this.sessionData.orgId,\r\n      itemBrandNm: brandString,\r\n      manufacturerNm: this.selectedManfacNm\r\n    };\r\n    return this.opticalService.fetchOpticalInventoryLensForPOS(payload).pipe(\r\n      map((response: any) => {\r\n        if (response.responseCode === 'E200') {\r\n          return response.data;\r\n        } else if (response.response === 'E400') {\r\n          // return (this.manufacturersList = []);\r\n        }\r\n      }),\r\n      catchError(error => {\r\n        return of([]);\r\n      })\r\n    );\r\n  }\r\n\r\n\r\n  fetchFirstTenLensTypes() {\r\n    this.lensTypeList$ = this.fetchFrameData('Lens Type');\r\n  }\r\n  fetchFirstTenCoatingTypes() {\r\n    this.coatingTypeList$ = this.fetchFrameData('Coating Type');\r\n  }\r\n  fetchFirstTenCoatings() {\r\n    this.coatingList$ = this.fetchFrameData('Coating');\r\n  }\r\n  fetchFirstTenIndexes() {\r\n    this.indexList$ = this.fetchFrameData('Index');\r\n  }\r\n\r\n  fetchFirstTenFrameSizes() {\r\n    this.frameSizeList$ = this.fetchFrameData('Frame Size');\r\n  }\r\n  fetchFirstTenFrameTypes() {\r\n    this.frameTypeList$ = this.fetchFrameData('Frame Type');\r\n  }\r\n  fetchFirstTenFrameShapes() {\r\n    this.frameShapeList$ = this.fetchFrameData('Frame Shape');\r\n  }\r\n  fetchFirstTenFrameColors() {\r\n    this.frameColorList$ = this.fetchFrameData('Frame Color');\r\n  }\r\n  fetchFirstTenFrameMaterial() {\r\n    this.frameMaterialList$ = this.fetchFrameData('Frame Material');\r\n  }\r\n\r\n  // function for getting frame sizes\r\n  fetchFrameSizes() {\r\n    this.frameSizeList$ = concat(\r\n      of([]), // default items\r\n      this.frameSizeListinput$.pipe(\r\n        debounceTime(200),\r\n        distinctUntilChanged(),\r\n        tap(console.log),\r\n        filter(checkStringCount => {\r\n          if (checkStringCount && checkStringCount.length > 1) {\r\n            return true;\r\n          }\r\n        }),\r\n        //  tap(() => this.people3Loading = true),\r\n        switchMap(opticalCode => this.fetchFrameData('Frame Size', opticalCode))\r\n      )\r\n    );\r\n  }\r\n  // function for getting frame types\r\n  fetchFrameTypes() {\r\n    this.frameTypeList$ = concat(\r\n      of([]), // default items\r\n      this.frameTypeListinput$.pipe(\r\n        debounceTime(200),\r\n        distinctUntilChanged(),\r\n        tap(console.log),\r\n        filter(checkStringCount => {\r\n          if (checkStringCount && checkStringCount.length > 1) {\r\n            return true;\r\n          }\r\n        }),\r\n        //  tap(() => this.people3Loading = true),\r\n        switchMap(opticalCode => this.fetchFrameData('Frame Type', opticalCode))\r\n      )\r\n    );\r\n  }\r\n\r\n  // function for getting frame Shape\r\n\r\n  fetchFrameShapes() {\r\n    this.frameShapeList$ = concat(\r\n      of([]), // default items\r\n      this.frameShapeListinput$.pipe(\r\n        debounceTime(200),\r\n        distinctUntilChanged(),\r\n        tap(console.log),\r\n        filter(checkStringCount => {\r\n          if (checkStringCount && checkStringCount.length > 1) {\r\n            return true;\r\n          }\r\n        }),\r\n        //  tap(() => this.people3Loading = true),\r\n        switchMap(opticalCode =>\r\n          this.fetchFrameData('Frame Shape', opticalCode)\r\n        )\r\n      )\r\n    );\r\n  }\r\n\r\n  // function for getting frame colors\r\n\r\n  fetchFrameColors() {\r\n    this.frameColorList$ = concat(\r\n      of([]), // default items\r\n      this.frameColorListinput$.pipe(\r\n        debounceTime(200),\r\n        distinctUntilChanged(),\r\n        tap(console.log),\r\n        filter(checkStringCount => {\r\n          if (checkStringCount && checkStringCount.length > 1) {\r\n            return true;\r\n          }\r\n        }),\r\n        //  tap(() => this.people3Loading = true),\r\n        switchMap(opticalCode =>\r\n          this.fetchFrameData('Frame Color', opticalCode)\r\n        )\r\n      )\r\n    );\r\n  }\r\n\r\n  // function for getting frame material\r\n\r\n  fetchFrameMaterial() {\r\n    this.frameMaterialList$ = concat(\r\n      of([]), // default items\r\n      this.frameMaterialListinput$.pipe(\r\n        debounceTime(200),\r\n        distinctUntilChanged(),\r\n        tap(console.log),\r\n        filter(checkStringCount => {\r\n          if (checkStringCount && checkStringCount.length > 1) {\r\n            return true;\r\n          }\r\n        }),\r\n        //  tap(() => this.people3Loading = true),\r\n        switchMap(opticalCode =>\r\n          this.fetchFrameData('Frame Material', opticalCode)\r\n        )\r\n      )\r\n    );\r\n  }\r\n\r\n  // function for getting lens type data\r\n\r\n  fetchLensTypes() {\r\n    this.lensTypeList$ = concat(\r\n      of([]), // default items\r\n      this.lensTypeListinput$.pipe(\r\n        debounceTime(200),\r\n        distinctUntilChanged(),\r\n        tap(console.log),\r\n        filter(checkStringCount => {\r\n          if (checkStringCount && checkStringCount.length > 1) {\r\n            return true;\r\n          }\r\n        }),\r\n        //  tap(() => this.people3Loading = true),\r\n        switchMap(opticalCode => this.fetchFrameData('Lens Type', opticalCode))\r\n      )\r\n    );\r\n  }\r\n\r\n  // function for getting coating type data\r\n\r\n  fetchCoatingTypes() {\r\n    this.coatingTypeList$ = concat(\r\n      of([]), // default items\r\n      this.coatingTypeListinput$.pipe(\r\n        debounceTime(200),\r\n        distinctUntilChanged(),\r\n        tap(console.log),\r\n        filter(checkStringCount => {\r\n          if (checkStringCount && checkStringCount.length > 1) {\r\n            return true;\r\n          }\r\n        }),\r\n        //  tap(() => this.people3Loading = true),\r\n        switchMap(opticalCode =>\r\n          this.fetchFrameData('Coating Type', opticalCode)\r\n        )\r\n      )\r\n    );\r\n  }\r\n\r\n  // function for getting Indexes\r\n\r\n  fetchIndexes() {\r\n    this.indexList$ = concat(\r\n      of([]), // default items\r\n      this.indexListinput$.pipe(\r\n        debounceTime(200),\r\n        distinctUntilChanged(),\r\n        tap(console.log),\r\n        filter(checkStringCount => {\r\n          if (checkStringCount && checkStringCount.length > 1) {\r\n            return true;\r\n          }\r\n        }),\r\n        //  tap(() => this.people3Loading = true),\r\n        switchMap(opticalCode => this.fetchFrameData('Index', opticalCode))\r\n      )\r\n    );\r\n  }\r\n\r\n  // function for getting coatings\r\n\r\n  fetchCoatings() {\r\n    this.coatingList$ = concat(\r\n      of([]), // default items\r\n      this.coatingListinput$.pipe(\r\n        debounceTime(200),\r\n        distinctUntilChanged(),\r\n        tap(console.log),\r\n        filter(checkStringCount => {\r\n          if (checkStringCount && checkStringCount.length > 1) {\r\n            return true;\r\n          }\r\n        }),\r\n        //  tap(() => this.people3Loading = true),\r\n        switchMap(opticalCode => this.fetchFrameData('Coating', opticalCode))\r\n      )\r\n    );\r\n  }\r\n\r\n  fetchFrameData<T>(\r\n    opticalType:\r\n      | 'Frame Size'\r\n      | 'Frame Type'\r\n      | 'Frame Color'\r\n      | 'Frame Shape'\r\n      | 'Frame Material'\r\n      | 'Coating Type'\r\n      | 'Coating'\r\n      | 'Index'\r\n      | 'Lens Type',\r\n    opticalCode?: string\r\n  ) {\r\n    const payload = {\r\n      createdUsrId: this.sessionData.regId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      orgId: this.sessionData.orgId,\r\n      opticalType,\r\n      opticalCode\r\n    };\r\n    return this.opticalService.opticalMasterData<T>(payload).pipe(\r\n      map(response => {\r\n        if (response.responseCode === 'E200') {\r\n          return response.data;\r\n        } else if (response.responseCode === 'E400') {\r\n          return of([]);\r\n        }\r\n      }),\r\n      catchError(() => {\r\n        return of([]);\r\n      })\r\n    );\r\n  }\r\n\r\n  getHsnDetails() {\r\n    if (!this.addFramesForm.get('hsnCode').value) {\r\n      return;\r\n    }\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId,\r\n      hsnCode: this.addFramesForm.get('hsnCode').value\r\n    };\r\n    this.opticalService.hsnDetails(payload).subscribe(\r\n      (response: any) => {\r\n        if (response.responseCode === 'E200') {\r\n          if (response.data && response.data.cgstTaxPercntg) {\r\n            this.addFramesForm\r\n              .get('tax')\r\n              .patchValue(\r\n                response.data.cgstTaxPercntg + response.data.sgstTaxPercntg\r\n              );\r\n            this.addFramesForm.controls.tax.disable();\r\n            this.isTax = true;\r\n          } else {\r\n            this.isTax = false;\r\n            this.addFramesForm.controls.tax.enable();\r\n          }\r\n        } else if (response.response === 'E400') {\r\n          this.toaster.error('Failure!', 'Something went wrong');\r\n        }\r\n      },\r\n      err => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n\r\n  calculateMarkUp() {\r\n    if (\r\n      this.addFramesForm.get('brandMrp').value &&\r\n      this.addFramesForm.get('costPrice').value\r\n    ) {\r\n      const mrp = this.addFramesForm.get('brandMrp').value;\r\n      const cp = this.addFramesForm.get('costPrice').value;\r\n      if (cp > mrp) {\r\n        this.toaster.error(\r\n          'Failure!',\r\n          'COST PRICE should not be greater than BRAND MRP'\r\n        );\r\n        this.cpStatus = true;\r\n        this.addFramesForm.get('markUp').patchValue('');\r\n        this.addFramesForm.get('costPrice').patchValue('');\r\n      } else {\r\n        const markupVal = Number(mrp) - Number(cp);\r\n        this.addFramesForm.get('markUp').patchValue(markupVal);\r\n      }\r\n    }\r\n  }\r\n  openValuesModal(type: String): void {\r\n    const dialogRef = this.dialog.open(OsDialogComponent, {\r\n      data: type,\r\n      disableClose: true\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      this.contactlensModal = { ...this.contactlensModal, ...result };\r\n      // const index = this.spectaclesValuesTable.findIndex(element => element.eye === result.eye);\r\n      // this.spectaclesValuesTable[index] = result;\r\n      this.changeDecRef.detectChanges();\r\n    });\r\n  }\r\n\r\n  cancel() {\r\n    if (this.editInventory) {\r\n      this.router.navigate(['/opticalStore/optical-all-inventory']);\r\n    }\r\n  }\r\n\r\n  onFileChanged($event) {\r\n    const dialogRef: MatDialogRef<\r\n      ProfileImageSelectorComponent,\r\n      ProfileImageSelectorResult\r\n    > = this.dialog.open(ProfileImageSelectorComponent, {\r\n      height: '80vh',\r\n      width: '60vw',\r\n      panelClass: 'user-image-selector-popup'\r\n    });\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      if (result) {\r\n        this.imageFile = result.profileImage;\r\n        // will contain cropper image in blob\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(this.imageFile);\r\n        reader.onload = () => {\r\n          this.url = reader.result;\r\n        };\r\n        // return result.profileImage;\r\n      }\r\n    });\r\n    // const file = this.fileInput.nativeElement.files[0];\r\n    // this.imageFile = this.fileInput.nativeElement.files[0];\r\n    // if (file && this.validateFile(file)) {\r\n    //   const reader = new FileReader();\r\n    //   reader.readAsDataURL(this.fileInput.nativeElement.files[0]);\r\n    //   reader.onload = () => {\r\n    //     this.url = reader.result;\r\n    //     this.changeDecRef.detectChanges();\r\n    //   };\r\n    // } else {\r\n    //   this.toaster.warning(\r\n    //     'Failure!',\r\n    //     'File must be jpg, png, or gif and cannot be exceed 3 MB in size'\r\n    //   );\r\n    // }\r\n  }\r\n\r\n  validateFile(file) {\r\n    return this.acceptedMimeTypes.includes(file.type) && file.size < 3000000;\r\n  }\r\n\r\n  removeImage() {\r\n    this.url = null;\r\n  }\r\n\r\n  submitInventoryForm(value) {\r\n    this.inventoryFormSubmitted = true;\r\n    if (this.addFramesForm.valid) {\r\n      if (this.editInventory) {\r\n        const dialogRef = this.dialog.open(ConfirmationDialogComponent, {\r\n          data: {\r\n            title:\r\n              'If you update, all the Information of the brand will changes'\r\n          },\r\n          disableClose: true\r\n        });\r\n\r\n        dialogRef.afterClosed().subscribe(result => {\r\n          this.checkImage();\r\n          // this.router.navigate(['/opticalStore/optical-all-inventory']);\r\n        });\r\n      } else {\r\n        this.checkImage();\r\n      }\r\n    }\r\n  }\r\n\r\n  checkImage() {\r\n    if (this.imageFile) {\r\n      const bucketDetails = this.componentOpticalService.getBucketName();\r\n      if (this.editInventory && this.editInventoryData.imagePath) {\r\n        const params = {\r\n          Bucket: bucketDetails.bucketURL,\r\n          Key: this.editInventoryData.imagePath[0].split('/')[4]\r\n        };\r\n        this.bucket.deleteObject(params, (error, data) => {\r\n          if (data) {\r\n            this.uploadImage();\r\n          } else {\r\n            this.toaster.error('Failure!', 'Something went wrong');\r\n          }\r\n        });\r\n      } else {\r\n        this.uploadImage();\r\n      }\r\n    } else {\r\n      if (this.menuType === 'Lense') {\r\n        this.insertLensInventoryForm();\r\n      } else {\r\n      if (this.menuType === 'Frame' || this.menuType === 'Contact Lense') {\r\n          this.insertInventoryForm();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  uploadImage() {\r\n    const bucketDetails = this.componentOpdServiceService.getBucketName();\r\n    const key = this.utilService.generateUniqueId() + '-' + this.imageFile.type;\r\n    const params = {\r\n      Bucket: bucketDetails.bucketURL,\r\n      Key: key,\r\n      Body: this.imageFile\r\n    };\r\n    const awsImgUpload = this.bucket.putObject(params).promise();\r\n    this.imageUploadSubscription = from(awsImgUpload).subscribe(() => {\r\n      const imgUrl = bucketDetails.url + key;\r\n      if (this.menuType === 'Lense') {\r\n        this.insertLensInventoryForm(imgUrl);\r\n      } else {\r\n        if (this.menuType === 'Frame' || this.menuType === 'Contact Lense') {\r\n          this.insertInventoryForm(imgUrl);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  insertInventoryForm(img?: string) {\r\n    let url = 'opticalInsertInventory';\r\n    let payload;\r\n    const insertPayload = [];\r\n    const framesPayload = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId,\r\n      ...this.addFramesForm.value,\r\n      receivedDt: this.datePipe.transform(\r\n        this.addFramesForm.value.receivedDt,\r\n        'yyyy-MM-dd'\r\n      ),\r\n      manufacturingDt: this.datePipe.transform(\r\n        this.addFramesForm.value.manufacturingDt,\r\n        'yyyy-MM-dd'\r\n      ),\r\n      markUp: this.addFramesForm.get('markUp').value,\r\n      itemBrandNm:\r\n        this.addFramesForm.value.brandName.itemBrandNm ||\r\n        this.addFramesForm.value.brandName,\r\n      vendorId: this.addFramesForm.value.vendor.vendorId,\r\n      vendorNm: this.addFramesForm.value.vendor.vendorNm,\r\n      manufacturerNm: this.addFramesForm.value.manufacturer.manufacturerNm,\r\n      manufacturerId: this.addFramesForm.value.manufacturer.manufacturerId,\r\n      itemTypeId: this.opticalItemType.opticalTypeId,\r\n      itemTypeNm: this.opticalItemType.opticalCode,\r\n      barcode: this.barcode\r\n    };\r\n    if (this.editInventory) {\r\n      framesPayload.opticalItemId = this.editInventoryData.opticalItemId;\r\n    } else if (this.addFramesForm.value.brandName.opticalItemId) {\r\n      framesPayload.opticalItemId = this.addFramesForm.value.brandName.opticalItemId;\r\n    }\r\n    // if (!this.editInventory) {\r\n    //   framesPayload.itemBrandNm = this.addFramesForm.value.brandName.itemBrandNm;\r\n    //   framesPayload.vendorId = this.addFramesForm.value.vendor.vendorId;\r\n    //   framesPayload.vendorNm = this.addFramesForm.value.vendor.vendorNm;\r\n    //   framesPayload.manufacturerNm = this.addFramesForm.value.manufacturer.manufacturerNm;\r\n    //   framesPayload.manufacturerId = this.addFramesForm.value.manufacturer.manufacturerId;\r\n    // }\r\n    if (this.isTax === false) {\r\n      framesPayload.tax = this.addFramesForm.get('tax').value;\r\n    } else {\r\n      delete framesPayload.tax;\r\n    }\r\n    delete framesPayload.manufacturer;\r\n    delete framesPayload.vendor;\r\n    delete framesPayload.brandName;\r\n\r\n    if (this.menuType === 'Contact Lense') {\r\n      framesPayload.insertContactLensSaleOrOrder  = this.contactlensModal;\r\n    }\r\n    if (img) {\r\n      framesPayload.imagePath = [img];\r\n    } else if (this.editInventory && this.editInventoryData.imagePath) {\r\n      framesPayload.imagePath = this.editInventoryData.imagePath;\r\n    }\r\n    insertPayload.push(framesPayload);\r\n    if (this.editInventory) {\r\n      url = 'updateOpticalInventory';\r\n      payload = framesPayload;\r\n      payload.opticalInventoryId = this.editInventoryData.opticalInventoryId;\r\n    } else {\r\n      payload = insertPayload;\r\n    }\r\n    this.opticalService[url](payload).subscribe(\r\n      response => {\r\n        if (response.responseCode === 'E200') {\r\n          if (!this.editInventory) {\r\n            this.addFramesForm.reset();\r\n            this.url = '';\r\n            this.barcode = '';\r\n            this.inventoryFormSubmitted = false;\r\n            if (this.menuType === 'Contact Lense') {\r\n              this.contactlensModal = {};\r\n            }\r\n            //  this.router.navigate(['/opticalStore/optical-all-inventory']);\r\n          }\r\n          this.toaster.success('Success!', response.responseMessage);\r\n          if (this.editInventory) {\r\n            this.router.navigate(['/opticalStore/optical-all-inventory']);\r\n          }\r\n        } else if (response.responseCode === 'E400') {\r\n          this.toaster.error('Failure!', response.responseMessage);\r\n        }\r\n      },\r\n      err => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n\r\n  // API  for inserting lens data\r\n\r\n  insertLensInventoryForm(img?: string) {\r\n    let url = 'insertLensInInventory';\r\n    let payload;\r\n    const insertPayload = [];\r\n    const lensPayload = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId,\r\n      ...this.addFramesForm.value,\r\n      markUp: this.addFramesForm.get('markUp').value,\r\n      itemBrandNm:\r\n        this.addFramesForm.value.brandName.itemBrandNm ||\r\n        this.addFramesForm.value.brandName,\r\n      vendorId: this.addFramesForm.value.vendor.vendorId,\r\n      vendorNm: this.addFramesForm.value.vendor.vendorNm,\r\n      manufacturerNm: this.addFramesForm.value.manufacturer.manufacturerNm,\r\n      manufacturerId: this.addFramesForm.value.manufacturer.manufacturerId,\r\n      barcode: this.barcode\r\n    };\r\n    if (this.editInventory) {\r\n      lensPayload.opticalItemId = this.editInventoryData.opticalItemId;\r\n    } else if (this.addFramesForm.value.brandName.opticalItemId) {\r\n      lensPayload.opticalItemId = this.addFramesForm.value.brandName.opticalItemId;\r\n    }\r\n    if (this.isTax === false) {\r\n      lensPayload.tax = this.addFramesForm.get('tax').value;\r\n    } else {\r\n      delete lensPayload.tax;\r\n    }\r\n    delete lensPayload.manufacturer;\r\n    delete lensPayload.vendor;\r\n    delete lensPayload.brandName;\r\n    if (img) {\r\n      lensPayload.imagePath = [img];\r\n    } else if (this.editInventory && this.editInventoryData.imagePath) {\r\n      lensPayload.imagePath = this.editInventoryData.imagePath;\r\n    }\r\n\r\n    if (this.editInventory) {\r\n      url = 'updateOpticalInventoryLens';\r\n      payload = lensPayload;\r\n      payload.opticalLensInventoryId = this.editInventoryData.opticalLensInventoryId;\r\n      payload.availableQty = this.editInventoryData.availableQty;\r\n    } else {\r\n      payload = lensPayload;\r\n    }\r\n    this.opticalService[url](payload).subscribe(\r\n      response => {\r\n        if (response.responseCode === 'E200') {\r\n          if (!this.editInventory) {\r\n            this.addFramesForm.reset();\r\n            this.url = '';\r\n            this.barcode = '';\r\n            this.inventoryFormSubmitted = false;\r\n            }\r\n          this.toaster.success('Success!', response.responseMessage);\r\n          if (this.editInventory) {\r\n            this.router.navigate(['/opticalStore/optical-all-inventory']);\r\n          }\r\n        } else if (response.responseCode === 'E400') {\r\n          this.toaster.error('Failure!', response.responseMessage);\r\n        }\r\n      },\r\n      err => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n  ngOnDestroy() {\r\n  }\r\n}\r\n","<div class=\"all-optical-inventory-items col-sm-12 no-padding\">\r\n  <div class=\"col-sm-4 no-padding  form-button-group pull-right m-nt-40\" >\r\n  <ul>\r\n    <li>\r\n        <button  type=\"button\" class=\"btn-app btn-save\" id=\"barcodesettings\" (click)=\"barcodeSettings()\">Barcode Settings</button>\r\n    </li>\r\n    <li>\r\n    <button type=\"button\" [disabled]='!barcodeList.length' class=\"btn-app btn-save\" id=\"barcodeId\" (click)=\"barcodeGenerate()\">Generate Barcode</button>\r\n\r\n    </li>\r\n     </ul>\r\n</div>\r\n  <div *ngIf=\"barcodeSettingsFlag\">\r\n    <div class=\"box-panel-form bg-white border-all-side border-radius-all-side white-bg-border\">\r\n      <div class=\"form-header\">\r\n        <p class=\"text-uppercase txt-scarletgum\">Settings</p>\r\n        <i class=\"far fa-arrow-alt-circle-left pull-right back_arrow_icon ft_20\" (click)=\"cancelOrgGroupForm()\"></i>\r\n        <!-- <button type=\"button\" class=\"close\" (click)=\"cancelOrgGroupForm()\">&times;</button> -->\r\n      </div>\r\n      <form [formGroup]=\"settingBarcodeForm\">\r\n        <div class=\"col-md-12 no-padding m-t-10\">\r\n          <div class=\"col-md-6\">\r\n            <fieldset class=\"page-field-set\">\r\n              <legend class=\"page-legend\">Setting Name </legend>\r\n              <div class='col-md-6'>\r\n                <label for=\"Name\">Name</label>\r\n                <span class=\"astrik-symbol\">\r\n                  <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n                </span>\r\n                <ng-select id=\"brandNameListSubject\" [items]=\"brandNameListSubject | async\" bindLabel=\"labelTypeNm\" [addTag]=\"true\" [hideSelected]=\"true\" [typeahead]=\"brandNameListinput$\"\r\n                  (change)=\"onAddBrand($event)\" formControlName=\"labelTypeNm\">\r\n                </ng-select>\r\n              </div>\r\n            </fieldset>\r\n          </div>\r\n          <div class=\"col-md-6\">\r\n            <fieldset class=\"page-field-set\">\r\n              <legend class=\"page-legend\">Label</legend>\r\n              <div class='col-md-3'>\r\n                <label for=\"LabelWidth\">Width</label>\r\n                <input id=\"Label_Width\" type=\"text\" maxlength=\"2\" formControlName=\"labelWidth\">\r\n              </div>\r\n              <div class='col-md-3'>\r\n                <label for=\"LabelHeight\">Height</label>\r\n                <input id=\"LabelHeight\" type=\"number\" formControlName=\"labelHeight\">\r\n              </div>\r\n            </fieldset>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-12 no-padding\">\r\n          <div class=\"col-md-8\">\r\n            <fieldset class=\"page-field-set\">\r\n              <legend class=\"page-legend\">Margins</legend>\r\n              <div class='col-md-2'>\r\n                <label for=\"MarginWidth\">Left</label>\r\n                <input id=\"labelLeftMargin\" type=\"number\" maxlength=\"5\" formControlName=\"labelLeftMargin\">\r\n              </div>\r\n              <div class='col-md-2'>\r\n                <label for=\"MarginTop\">Top</label>\r\n                <input id=\"labelTopMargin\" type=\"number\" maxlength=\"2\" formControlName=\"labelTopMargin\">\r\n              </div>\r\n              <div class='col-md-2'>\r\n                <label for=\"MarginHeight\">Right</label>\r\n                <input id=\"Margin_Height\" type=\"number\" maxlength=\"5\" formControlName=\"labelRightMargin\">\r\n              </div>\r\n              <div class='col-md-2'>\r\n                <label for=\"MarginBottom\">Bottom</label>\r\n                <input id=\"labelBottomMargin\" type=\"number\" maxlength=\"5\" formControlName=\"labelBottomMargin\">\r\n              </div>\r\n            </fieldset>\r\n          </div>\r\n          <div class=\"col-md-4\">\r\n            <fieldset class=\"page-field-set\">\r\n              <legend class=\"page-legend\">Template</legend>\r\n              <div class='col-md-2'>\r\n                <label for=\"TemplateWidth\">Width</label>\r\n                <input id=\"TemplateWidth\" type=\"number\" [value]=\"104\" [disabled]=true>\r\n              </div>\r\n            </fieldset>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-sm-2 p-l-r-5 m-t-b-15 form-button-group pull-right\">\r\n          <ul>\r\n            <li>\r\n              <button id=\"saveBarcode_Setting\" type=\"button\" class=\"btn-app btn-save m-l-20\" (click)=\"saveBarcodeSetting()\">\r\n                <i class=\"fas fa-save margin-right-5\" aria-hidden=\"true\"></i> Save</button>\r\n            </li>\r\n           </ul>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n  <div *ngIf=\"!barcodeSettingsFlag\" class = \"col-md-12 no-padding\">\r\n    <div class=\"col-md-12 padding-left-zero bg-white border-radius-all-side border-all-side no-padding\"\r\n      [ngClass]=\"{'col-md-9': showingDetails, 'col-md-12': !showingDetails}\">\r\n\r\n      <div class=\"box-panel-form white-bg white-bg-border\">\r\n        <div class=\"form-header\">\r\n          <p class=\"text-uppercase txt-scarletgum\">INVENTORY ITEMS LIST</p>\r\n          <div class=\"pull-right filter-icon top-corner-icons\" *ngIf=\"(menuType === 'Frame') || (menuType === 'Contact Lense')\">\r\n            <a class=\"text-uppercase close-search\" *ngIf=\"backToAll && inventoryList.length > 0\" (click)=\"backToAllInventory()\">Show All</a>\r\n          </div>\r\n          <div class=\"pull-right filter-icon top-corner-icons\" *ngIf=\"menuType === 'Lense'\" >\r\n            <a class=\"text-uppercase close-search\" *ngIf=\"backToAll && lensInventoryList.length > 0\" (click)=\"backToAllInventory()\">Show All</a>\r\n          </div>\r\n        </div>\r\n        <!--Below inventory table data for frames and contactlenses-->\r\n        <div class=\"box-panel-form white-bg table-scroll\" *ngIf=\"(menuType === 'Frame') || (menuType === 'Contact Lense')\" >\r\n          <table class=\"emr-table-view inventory-table\" *ngIf=\"inventoryList.length > 0\">\r\n            <thead>\r\n              <tr>\r\n                <th>\r\n                  <!-- <input type=\"checkbox\"> -->\r\n                </th>\r\n                <th>Barcode</th>\r\n                <th>Brand Name</th>\r\n                <th>Serial No</th>\r\n                <th>MANUFACTURER</th>\r\n                <th *ngIf=\"menuType === 'frame'\">Frame Type</th>\r\n                <th>COLOR</th>\r\n                <th>ON HAND</th>\r\n                <th>DEFAULT RETAIL PRICE</th>\r\n                <th>ACTIONS</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <!-- *ngFor=\"let inventory of inventoryList; index as i\" -->\r\n\r\n              <tr *ngFor=\"let inventory of inventoryList; index as i\">\r\n                <td>\r\n                  <mat-checkbox color=\"primary\" (change)=\"barcodeBtnDis()\" [(ngModel)]=\"inventory.selected\"></mat-checkbox>\r\n                </td>\r\n                <td>{{inventory.barcode}}</td>\r\n                <td>{{inventory.itemBrandNm}}</td>\r\n                <td>{{inventory.serialNo}}</td>\r\n                <td>{{inventory.manufacturerNm}}</td>\r\n                <td *ngIf=\"menuType === 'frame'\">{{inventory.frameTypeNm}}</td>\r\n                <td>{{inventory.opticalColorNm}}</td>\r\n                <td>{{inventory.availableQty}}</td>\r\n                <td>{{inventory.brandMrp}}</td>\r\n                <td>\r\n                  <div class=\"table-actions\">\r\n                    <div class=\"top-corner-icons edit-icon\" (click)=\"editInventory(inventory)\">\r\n                      <i class=\"fas fa-pencil-alt\"></i>\r\n                    </div>\r\n                    <div class=\"top-corner-icons delete-icon\" (click)=\"deleteInventory(inventory, i)\">\r\n                      <i class=\"fas fa-times-circle\"></i>\r\n                    </div>\r\n                    <p class=\"emr-table_curserPointer\" (click)=\"showInfo(inventory, i)\">View Details</p>\r\n                  </div>\r\n\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n\r\n          <div class=\"col-md-12\" *ngIf=\"!inventoryList || inventoryList.length == 0\" >\r\n            <div class=\"grid-msg-text-branch margin-top-40\" role=\"alert\">{{ 'COMMONLABELS.NO_DATA_TEXT' | translate }}</div>\r\n            <div *ngIf=\"backToAll\" class='show-all-btn'>\r\n              <button id=\"backToAllInventory\" class=\"btn-app btn-save\" (click)=\"backToAllInventory()\">Show All</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!--below inventory table data for lens-->\r\n        <div class=\"box-panel-form white-bg table-scroll \" *ngIf=\"menuType === 'Lense'\">\r\n          <table class=\"emr-table-view inventory-table\" *ngIf=\"lensInventoryList.length > 0\">\r\n            <thead>\r\n              <tr>\r\n                <th>\r\n                  <!-- <input type=\"checkbox\"> -->\r\n                </th>\r\n                <th>BARCODE</th>\r\n                <th>BRAND NAME</th>\r\n                <th>MANUFACTURER</th>\r\n                <th>LENS TYPE</th>\r\n                <th>ON HAND</th>\r\n                <th>DEFAULT RETAIL PRICE</th>\r\n                <th>ACTIONS</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <!-- *ngFor=\"let inventory of inventoryList; index as i\" -->\r\n\r\n              <tr *ngFor=\"let inventory of lensInventoryList; index as i\">\r\n                <td>\r\n                  <mat-checkbox color=\"primary\" (change)=\"barcodeBtnDis()\" [(ngModel)]=\"inventory.selected\"></mat-checkbox>\r\n                </td>\r\n                <td>{{inventory.barcode}}</td>\r\n                <td>{{inventory.itemBrandNm}}</td>\r\n                <td>{{inventory.manufacturerNm}}</td>\r\n                <td>{{inventory.lensType}}</td>\r\n                <td>{{inventory.availableQty}}</td>\r\n                <td>{{inventory.brandMrp}}</td>\r\n                <td>\r\n                  <div class=\"table-actions\">\r\n                    <div class=\"top-corner-icons edit-icon\" (click)=\"editInventory(inventory)\">\r\n                      <i class=\"fas fa-pencil-alt\"></i>\r\n                    </div>\r\n                    <div class=\"top-corner-icons delete-icon\" (click)=\"deleteLensInventory(inventory, i)\">\r\n                      <i class=\"fas fa-times-circle\"></i>\r\n                    </div>\r\n                    <p class=\"emr-table_curserPointer\" (click)=\"showInfo(inventory, i)\">View Details</p>\r\n                  </div>\r\n\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n\r\n          <div class=\"col-md-12\" *ngIf=\"!lensInventoryList || lensInventoryList.length == 0\" >\r\n            <div class=\"grid-msg-text-branch margin-top-40\" role=\"alert\">{{ 'COMMONLABELS.NO_DATA_TEXT' | translate }}</div>\r\n            <div *ngIf=\"backToAll\" class='show-all-btn'>\r\n              <button id=\"backToAllInventory\" class=\"btn-app btn-save\" (click)=\"backToAllInventory()\">Show All</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!--end of lens data-->\r\n      </div>\r\n    </div>\r\n    <div class=\"col-md-3 padding-left-zero float-right\" *ngIf=\"showingDetails\">\r\n      <div class=\"box-panel-form bg-white white-bg-border m-l-10 border-radius-all-side border-all-side clearfix suppliers-details\">\r\n        <!-- <ul>\r\n            <li>\r\n              <div class=\"col-md-3 zero-padding\">\r\n                  <i class=\"fa fa-chevron-circle-left\" aria-hidden=\"true\"></i>\r\n              </div>\r\n              <div class=\"col-md-6 zero-padding\">\r\n                <img src=\"https://s3.ap-south-1.amazonaws.com/dru.assets/images/app/d-icon-lg.png\"\r\n                />\r\n              </div>\r\n              <div class=\"col-md-3 zero-padding\">\r\n                  <i class=\"fa fa-chevron-circle-right\" aria-hidden=\"true\"></i>\r\n              </div>\r\n            </li>\r\n          </ul> -->\r\n        <div class=\"top-corner-icons delete-icon-size pull-right m-r-10 m-t-10\" >\r\n          <i class=\"fas fa-times-circle\" (click)=\"hideViewDetailsDiv()\"></i>\r\n        </div>\r\n        <div class=\"col-md-12 suppliers-details zero-padding p-l-10 p-r-10\">\r\n          <div *ngIf=\"currentInventory.imagePath\" class=\"supplier-img\">\r\n            <img [src]=\"currentInventory.imagePath[0]\">\r\n          </div>\r\n          <ul>\r\n            <li *ngFor=\"let details of detailsArray\" class = \"col-md-12\">\r\n              <!-- <div class=\"col-md-6 zero-padding text-right\">\r\n                <label>{{details.name}} : </label>\r\n              </div> -->\r\n              <!-- <div class=\"col-md-6 zero-padding text-left\">\r\n                <p>{{currentInventory[details.model]}}</p>\r\n              </div> -->\r\n              <span class = \"p-l-20 p-r-10 col-st\">{{details.name}} :</span>\r\n              <span>{{currentInventory[details.model]}}</span>\r\n\r\n            </li>\r\n          </ul>\r\n          <div class=\"p-l-10 p-r-10 p-b-10\">\r\n            <table class=\"table table-bordered lens-price-table m-b-10\" *ngIf=\"menuType === 'Contact Lense'\">\r\n              <tr>\r\n                <th>Type</th>\r\n                <th>Sph</th>\r\n                <th>Cyl</th>\r\n                <th>Axis</th>\r\n                <th>VA</th>\r\n                <th>Add</th>\r\n              </tr>\r\n              <tr>\r\n                <th>Right Dist</th>\r\n                <td *ngFor=\"let rightDist of lensData.rightDist\">\r\n                  <span *ngFor=\"let value of objectKeys(rightDist)\">{{currentInventory.insertContactLensSaleOrOrder[value]}} </span>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <th>Right Near</th>\r\n                <td *ngFor=\"let rightNear of lensData.rightNear\">\r\n                  <span *ngFor=\"let value of objectKeys(rightNear)\">{{currentInventory.insertContactLensSaleOrOrder[value]}}</span>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <th>Left Dist</th>\r\n                <td *ngFor=\"let leftDist of lensData.leftDist\">\r\n                  <span *ngFor=\"let value of objectKeys(leftDist)\">{{currentInventory.insertContactLensSaleOrOrder[value]}} </span>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n\r\n                <th>Left Near</th>\r\n                <td *ngFor=\"let leftNear of lensData.leftNear\">\r\n                  <span *ngFor=\"let value of objectKeys(leftNear)\">{{currentInventory.insertContactLensSaleOrOrder[value]}}</span>\r\n                </td>\r\n              </tr>\r\n            </table>\r\n            <table class=\"table table-bordered lens-price-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Retail Price</th>\r\n                  <th>Cost Price</th>\r\n                  <th>Profit</th>\r\n                  <!-- <th>Group Cost</th> -->\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr>\r\n                  <td>{{currentInventory.brandMrp}}</td>\r\n                  <td>{{currentInventory.costPrice}}</td>\r\n                  <td>{{currentInventory.markUp}}</td>\r\n                  <!-- <td>5400</td> -->\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <!-- <ul>\r\n              <li>\r\n                <div class=\"col-md-5 zero-padding text-right\">\r\n                  <label>INSTRUCTION:</label>\r\n                </div>\r\n                <div class=\"col-md-7 zero-padding text-left\">\r\n                  <p>Add a caption text for each image slide with the w3-display-* classes (topleft, topmiddle, topright, bottomleft,\r\n                    bottommiddle, bottomright or middle).</p>\r\n                </div>\r\n              </li>\r\n            </ul> -->\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <!-- </div> -->\r\n</div>\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  Input,\r\n  OnChanges,\r\n  SimpleChanges,\r\n  Inject,\r\n  OnDestroy\r\n} from '@angular/core';\r\nimport { OpticalStoreService } from '@app/modules/optical-store/opticalStore.service';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { NavigationExtras, Router } from '@angular/router';\r\nimport { MatDialog } from '@angular/material';\r\nimport { ConfirmationDialogComponent } from '@shared/components/confirmation-dialog/confirmation-dialog.component';\r\nimport { CommentsDialogComponent } from '@shared/components/comments-dialog/comments-dialog.component';\r\nimport { OpticalStoreApiService, JSBARCODE } from '@core/services';\r\nimport { Bool } from 'aws-sdk/clients/inspector';\r\nimport { Observable, Subscription, concat, of, Subject } from 'rxjs';\r\nimport {\r\n  debounceTime,\r\n  distinctUntilChanged,\r\n  filter,\r\n  switchMap,\r\n  map,\r\n  catchError\r\n} from 'rxjs/operators';\r\nimport { Store, select } from '@ngrx/store';\r\nimport { getOpticalInventory } from '@app/modules/optical-store/reducers';\r\nimport { UserService } from '@core/services/user.service';\r\nimport { UserSession } from '@core/models/user-session';\r\nimport { FetchOpticalInventorySuccess } from '@app/modules/optical-store/actions';\r\nimport {\r\n  FormGroup,\r\n  FormBuilder,\r\n  FormControl,\r\n  Validators\r\n} from '@angular/forms';\r\nimport { AutoUnsubscribe } from 'ngx-auto-unsubscribe';\r\n// @AutoUnsubscribe()\r\n@Component({\r\n  selector: 'app-showing-optical-inventory',\r\n  templateUrl: './showing-optical-inventory.component.html',\r\n  styleUrls: ['./showing-optical-inventory.component.scss']\r\n})\r\nexport class ShowingOpticalInventoryComponent implements OnInit, OnChanges, OnDestroy {\r\n  settingBarcodeForm: FormGroup;\r\n  @Input()\r\n  menuType: any;\r\n  public objectKeys = Object.keys;\r\n  inventoryList: any[] = [];\r\n  lensInventoryList: any[] = [];\r\n  barcodeList: any[] = [];\r\n  barcodeImg: any[] = [];\r\n  barcodeSettingsData: Boolean = false;\r\n  clickedEdit: Boolean;\r\n  currentInventory: any;\r\n  opticalItemType: any;\r\n  barcodeSettingsFlag: Boolean = false;\r\n  showingDetails: Boolean = false;\r\n  fetchedSettingData: Boolean = false;\r\n  settingObj: any;\r\n  detailsArray = [];\r\n  lensData = {\r\n    rightDist: [\r\n      { distanceRightSph: '' },\r\n      { distanceRightCyl: '' },\r\n      { distanceRightAxis: '' },\r\n      { distanceRightVa: '' },\r\n      { distanceRightAddSph: '' }\r\n    ],\r\n    leftDist: [\r\n      { distanceLeftSph: '' },\r\n      { distanceLeftCyl: '' },\r\n      { distanceLeftAxis: '' },\r\n      { distanceLeftVa: '' },\r\n      { distanceLeftAddSph: '' }\r\n    ],\r\n    rightNear: [\r\n      { nearRightSph: '' },\r\n      { nearRightCyl: '' },\r\n      { nearRightAxis: '' },\r\n      { nearRightVa: '' },\r\n      { nearRightAddSph: '' }\r\n    ],\r\n    leftNear: [\r\n      { nearLeftSph: '' },\r\n      { nearLeftCyl: '' },\r\n      { nearLeftAxis: '' },\r\n      { nearLeftVa: '' },\r\n      { nearLeftAddSph: '' }\r\n    ]\r\n  };\r\n  brandNameList$: Observable<any>;\r\n  brandNameListinput$ = new Subject<string>();\r\n  public brandNameListSubject: Subject<any>;\r\n  public inventoryList$: Observable<any>;\r\n  public inventoryListSubscription: Subscription;\r\n  public backToAll = false;\r\n  private changes: any;\r\n  public tempInventoryList;\r\n  public tempLensInventoryList;\r\n  private sessionData: UserSession;\r\n  constructor(\r\n    private formbuilder: FormBuilder,\r\n    private fb: FormBuilder,\r\n    private opticalService: OpticalStoreApiService,\r\n    private componentOpticalStoreService: OpticalStoreService,\r\n    private toaster: ToastrService,\r\n    private router: Router,\r\n    private dialog: MatDialog,\r\n    private store: Store<any>,\r\n    userService: UserService,\r\n    @Inject(JSBARCODE) private jsbarcode\r\n  ) {\r\n    this.inventoryList$ = this.store.pipe(select(getOpticalInventory));\r\n    this.sessionData = userService.getUser();\r\n  }\r\n\r\n  ngOnInit() {\r\n    // this.settingObj = {\r\n    //   // labelBottomMargin: 0,\r\n    //   // labelLeftMargin: 4.5,\r\n    //   // labelRightMargin: 0,\r\n    //   // labelTopMargin: 2.6,\r\n    //   // labelWidth: 73,\r\n    //   // labelHeight: 22.5197,\r\n    //   // labelTypeNm: 'Default'\r\n    // };\r\n    this.fetchBrandNames();\r\n\r\n    this.settingBarcodeForm = this.formbuilder.group({\r\n      labelTypeNm: this.formbuilder.control('', Validators.required),\r\n      labelWidth: this.formbuilder.control('', [\r\n        Validators.required,\r\n        Validators.minLength(70),\r\n        Validators.maxLength(73)\r\n      ]),\r\n      labelHeight: this.formbuilder.control('', Validators.required),\r\n      labelLeftMargin: this.formbuilder.control('', Validators.required),\r\n      labelRightMargin: this.formbuilder.control('', Validators.required),\r\n      labelTopMargin: this.formbuilder.control('', Validators.required),\r\n      labelBottomMargin: this.formbuilder.control('', Validators.required)\r\n    });\r\n\r\n    // this.fetchInventoryList();\r\n    this.store.dispatch(\r\n      new FetchOpticalInventorySuccess({ clickedOnSearch: false, data: [] })\r\n    );\r\n    this.inventoryListSubscription = this.inventoryList$.subscribe(\r\n      inventoryListData => {\r\n        this.backToAll = inventoryListData.data.clickedOnSearch ? true : false;\r\n        if (inventoryListData.data.data.length > 0) {\r\n          this.inventoryList = inventoryListData.data.data.filter(val => {\r\n            return val.itemTypeId === this.opticalItemType.opticalTypeId;\r\n          });\r\n        } else {\r\n          this.inventoryList = inventoryListData.data.data;\r\n        }\r\n      }\r\n    );\r\n    this.fetchSettingNames();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    this.changes = changes.menuType.currentValue;\r\n    if (changes.menuType && changes.menuType.currentValue) {\r\n      this.opticalItemType = this.componentOpticalStoreService.getCurrentOpticalItem(\r\n        this.menuType\r\n      );\r\n      this.store.dispatch(\r\n        new FetchOpticalInventorySuccess({ clickedOnSearch: false, data: [] })\r\n      );\r\n      this.fetchInventoryList();\r\n      this.fetchLensInventoryList();\r\n      this.showingDetails = false;\r\n      this.backToAll = false;\r\n    }\r\n  }\r\n\r\n  fetchSettingNames() {\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId,\r\n      labelTypeNm: 'recommended'\r\n    };\r\n    this.opticalService.fetchBarCodeDetails(payload).subscribe(\r\n      (response: any) => {\r\n        if (response.responseCode === 'E200') {\r\n          this.settingObj = response.data[0];\r\n          this.settingBarcodeForm.patchValue(this.settingObj);\r\n          // this.brandNameListSubject.next(response.data);\r\n        } else if (response.response === 'E400') {\r\n          this.toaster.error('Failure!', response.responseMessage);\r\n        }\r\n      },\r\n      err => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n\r\n  fetchInventoryList() {\r\n    const payload: any = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId\r\n    };\r\n    if (this.opticalItemType.opticalTypeId) {\r\n      payload.itemTypeId = this.opticalItemType.opticalTypeId;\r\n    } else {\r\n      payload.itemTypeId = this.changes;\r\n    }\r\n    this.opticalService.fetchInventoryList<any>(payload).subscribe(\r\n      (response) => {\r\n        if (response.responseCode === 'E200') {\r\n          this.inventoryList = response.data;\r\n          this.tempInventoryList = response.data;\r\n        } else if (response.responseCode === 'E400') {\r\n          this.toaster.error('Failure!', 'Something went wrong');\r\n        }\r\n      },\r\n      err => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n\r\n  // fetch api for lens data\r\n\r\n  fetchLensInventoryList() {\r\n    const payload: any = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId\r\n\r\n    };\r\n    // if (this.opticalItemType.opticalTypeId) {\r\n    //   payload.itemTypeId = this.opticalItemType.opticalTypeId;\r\n    // } else {\r\n    //   payload.itemTypeId = this.changes;\r\n    // }\r\n    this.opticalService.fetchOpticalInventoryLens<any>(payload).subscribe(\r\n      (response) => {\r\n        if (response.responseCode === 'E200') {\r\n          this.lensInventoryList = response.data;\r\n          this.tempLensInventoryList = response.data;\r\n        } else if (response.responseCode === 'E400') {\r\n          this.toaster.error('Failure!', 'Something went wrong');\r\n        }\r\n      },\r\n      err => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n\r\n  editInventory(inventory) {\r\n    this.componentOpticalStoreService.inventoryData = inventory;\r\n    const navigationExtras: NavigationExtras = {\r\n      queryParams: {\r\n        isEditable: true,\r\n        menuType: this.menuType\r\n      }\r\n    };\r\n    this.router.navigate(\r\n      ['/opticalStore/optical-add-inventory'],\r\n      navigationExtras\r\n    );\r\n  }\r\n\r\n  deleteInventory(inventory, index) {\r\n    const dialogRef = this.dialog.open(CommentsDialogComponent, {\r\n      data: {\r\n        title: 'Delete Inventory',\r\n        data: 'Reason for Deleting Inventory'\r\n      },\r\n      disableClose: true\r\n    });\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      if (result) {\r\n        const deletePayload = {\r\n          orgId: this.sessionData.orgId,\r\n          orgGrpId: this.sessionData.orgGroupId,\r\n          createdUsrId: this.sessionData.regId,\r\n          opticalInventoryId: inventory.opticalInventoryId,\r\n          deleteReason: result\r\n        };\r\n        this.opticalService.deleteOpticalInventory(deletePayload).subscribe(\r\n          (response: any) => {\r\n            if (response.responseCode === 'E200') {\r\n              this.inventoryList.splice(index, 1);\r\n              this.toaster.success('Success!', response.responseMessage);\r\n            } else if (response.response === 'E400') {\r\n              this.toaster.error('Failure!', response.responseMessage);\r\n            }\r\n          },\r\n          err => {\r\n            this.toaster.error('Failure!', 'Something went wrong');\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  // delete api for lens inventory data\r\n  deleteLensInventory(inventory, index) {\r\n    const dialogRef = this.dialog.open(CommentsDialogComponent, {\r\n      data: {\r\n        title: 'Delete Inventory',\r\n        data: 'Reason for Deleting Inventory'\r\n      },\r\n      disableClose: true\r\n    });\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      if (result) {\r\n        const deletePayload = {\r\n          orgId: this.sessionData.orgId,\r\n          orgGrpId: this.sessionData.orgGroupId,\r\n          createdUsrId: this.sessionData.regId,\r\n          opticalLensInventoryId: inventory.opticalLensInventoryId,\r\n          deleteReason: result\r\n        };\r\n        this.opticalService.deleteOpticalInventoryLens(deletePayload).subscribe(\r\n          (response: any) => {\r\n            if (response.responseCode === 'E200') {\r\n              this.lensInventoryList.splice(index, 1);\r\n              this.toaster.success('Success!', response.responseMessage);\r\n            } else if (response.response === 'E400') {\r\n              this.toaster.error('Failure!', response.responseMessage);\r\n            }\r\n          },\r\n          err => {\r\n            this.toaster.error('Failure!', 'Something went wrong');\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  barcodeBtnDis() {\r\n    if (this.menuType === 'Frame' || this.menuType === 'Contact Lense') {\r\n    this.barcodeList = this.inventoryList.filter((val, index) => {\r\n      if (val.barcode) {\r\n        return val.selected;\r\n      }\r\n    });\r\n  } else if (this.menuType === 'Lense') {\r\n    this.barcodeList = this.lensInventoryList.filter((val, index) => {\r\n      if (val.barcode) {\r\n        return val.selected;\r\n      }\r\n    });\r\n  }\r\n  }\r\n  showInfo(item, pos) {\r\n    this.currentInventory = item;\r\n      if (this.menuType === 'Lense') {\r\n      this.lensInventoryList.forEach((val, index) => {\r\n           if (item.opticalLensInventoryId === val.opticalLensInventoryId) {\r\n             val.selected = false;\r\n             this.showingDetails = true;\r\n           }\r\n          });\r\n    } else {\r\n      this.inventoryList.forEach((val, index) => {\r\n            if (item.opticalInventoryId === val.opticalInventoryId) {\r\n              val.selected = false;\r\n              this.showingDetails = true;\r\n            }\r\n          });\r\n    }\r\n    if (this.menuType === 'Frame') {\r\n      this.detailsArray = [\r\n        { name: 'Barcode', model: 'barcode' },\r\n        { name: 'Manufacturer', model: 'manufacturerNm' },\r\n        { name: 'Brand Name', model: 'itemBrandNm' },\r\n        { name: 'Serial No', model: 'serialNo'},\r\n        { name: 'Model No', model: 'modelNo'},\r\n        { name: 'On Hand', model: 'availableQty' },\r\n        { name: 'Shape', model: 'frameShape' },\r\n        { name: 'Size', model: 'frameSize' },\r\n        { name: 'Material', model: 'opticalMaterialNm' },\r\n        { name: 'Color', model: 'frameColor' },\r\n        { name: 'Type', model: 'frameTypeNm' },\r\n        { name: 'Gender', model: 'gender' },\r\n        { name: 'Short Code', model: 'shortCode' },\r\n        // { name: 'Description', model: 'description' }\r\n      ];\r\n    } else if (this.menuType === 'Contact Lense') {\r\n      this.detailsArray = [\r\n        { name: 'Barcode', model: 'barcode' },\r\n        { name: 'Manufacturer', model: 'manufacturerNm' },\r\n        { name: 'Brand Name', model: 'itemBrandNm' },\r\n        { name: 'On Hand', model: 'availableQty' },\r\n        { name: 'Color', model: 'frameColor' },\r\n        { name: 'Short Code', model: 'shortCode' },\r\n        // { name: 'Description', model: 'description' }\r\n      ];\r\n    } else if (this.menuType === 'Lense') {\r\n      this.detailsArray = [\r\n        { name: 'Barcode', model: 'barcode'},\r\n        { name: 'Manufacturer', model: 'manufacturerNm'},\r\n        { name: 'Brand Name', model: 'itemBrandNm'},\r\n        { name: 'Lens Type', model: 'lensType'},\r\n        { name: 'Coating Type', model: 'coatingType'},\r\n        { name: 'Index', model: 'lensIndex'},\r\n        { name: 'Coating', model: 'lensCoating'}\r\n        ];\r\n    }\r\n    // } else {\r\n    //   //this.showingDetails = false;\r\n    // }\r\n  }\r\n\r\n  hideViewDetailsDiv() {\r\n    this.showingDetails = false;\r\n  }\r\n\r\n  backToAllInventory() {\r\n    this.inventoryList = this.tempInventoryList;\r\n    this.lensInventoryList = this.tempLensInventoryList;\r\n    this.backToAll = false;\r\n  }\r\n\r\n  barcodeGenerate() {\r\n    let totalcostPrice = [];\r\n    this.barcodeImg = [];\r\n    totalcostPrice = this.barcodeList.reduce((acc, val) => {\r\n      return [\r\n        ...acc,\r\n        ...Array.from(new Array(val.availableQty)).map(() => val)\r\n      ];\r\n    }, []);\r\n\r\n    for (let i = 0; i < totalcostPrice.length; i++) {\r\n      const barcodeObj: any = {\r\n        ...this.settingObj\r\n      };\r\n      const canvas = document.createElement('canvas');\r\n     this.jsbarcode(canvas, totalcostPrice[i].barcode, {\r\n        format: 'code39',\r\n        height: 1000,\r\n        displayValue: false\r\n      });\r\n      barcodeObj.barcode = totalcostPrice[i].barcode.toUpperCase();\r\n      barcodeObj.imageObj = canvas.toDataURL('image/jpeg', 1);\r\n      barcodeObj.itemBrandNm = totalcostPrice[i].itemBrandNm;\r\n      barcodeObj.brandMrp = totalcostPrice[i].brandMrp;\r\n      barcodeObj.frameShape = totalcostPrice[i].frameShape;\r\n      barcodeObj.frameColor = totalcostPrice[i].frameColor;\r\n      barcodeObj.manufacturerNm = totalcostPrice[i].manufacturerNm;\r\n      barcodeObj.modalNo = totalcostPrice[i].modelNo;\r\n\r\n      this.barcodeImg.push(barcodeObj);\r\n    }\r\n    this.componentOpticalStoreService.getBarcodePrints(this.barcodeImg);\r\n    this.barcodeList = [];\r\n    if (this.menuType === 'Frame' || this.menuType === 'Contact Lense') {\r\n    this.inventoryList.forEach(val => {\r\n      return (val.selected = false);\r\n    });\r\n  } else if (this.menuType === 'Lense') {\r\n    this.lensInventoryList.forEach(val => {\r\n      return (val.selected = false);\r\n    });\r\n  }\r\n  }\r\n\r\n  // settingsBreak() {\r\n\r\n  // }\r\n  barcodeSettings() {\r\n    this.barcodeSettingsFlag = true;\r\n  }\r\n  cancelOrgGroupForm() {\r\n    this.barcodeSettingsFlag = false;\r\n  }\r\n\r\n  onAddBrand(brand) {\r\n    this.settingBarcodeForm.patchValue(brand);\r\n    if (brand.barCodeSettingsId) {\r\n      this.fetchedSettingData = true;\r\n    } else {\r\n      this.settingObj = {};\r\n      this.fetchedSettingData = false;\r\n    }\r\n  }\r\n\r\n  fetchBrandNames() {\r\n    this.brandNameListSubject = new Subject();\r\n    this.brandNameList$ = concat(\r\n      of([]), // default items\r\n      this.brandNameListinput$.pipe(\r\n        debounceTime(200),\r\n        distinctUntilChanged(),\r\n        filter(checkStringCount => {\r\n          if (checkStringCount.length > 1) {\r\n            return true;\r\n          }\r\n        }),\r\n        //  tap(() => this.people3Loading = true),\r\n        switchMap((term: string) => {\r\n          const payload = {\r\n            createdUsrId: this.sessionData.regId,\r\n            orgGrpId: this.sessionData.orgGroupId,\r\n            orgId: this.sessionData.orgId,\r\n            labelTypeNm: term\r\n          };\r\n          return this.opticalService.fetchBarCodeDetails(payload).pipe(\r\n            map((response: any) => {\r\n              if (response.responseCode === 'E200') {\r\n                return response.data;\r\n              } else if (response.response === 'E400') {\r\n                // return (this.manufacturersList = []);\r\n              }\r\n            }),\r\n            catchError(error => {\r\n              return of([]);\r\n            })\r\n          );\r\n        })\r\n      )\r\n    );\r\n    this.brandNameList$.subscribe(this.brandNameListSubject);\r\n  }\r\n\r\n  saveBarcodeSetting() {\r\n    if (this.fetchedSettingData || this.settingObj.barCodeSettingsId) {\r\n      this.settingObj = this.settingBarcodeForm.value;\r\n      this.toaster.success('Success!', 'Successfully changed your settings');\r\n      return;\r\n    }\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId,\r\n      noOfRollColumns: 1,\r\n      ...this.settingBarcodeForm.value\r\n    };\r\n    this.settingObj = this.settingBarcodeForm.value;\r\n    this.opticalService.insertOrUpdateBarCodeDetails(payload).subscribe(\r\n      (response: any) => {\r\n        if (response.responseCode === 'E200') {\r\n          this.barcodeSettingsData = response.data;\r\n          this.toaster.success('Success!', response.responseMessage);\r\n        } else if (response.response === 'E400') {\r\n          this.toaster.error('Failure!', response.responseMessage);\r\n        }\r\n      },\r\n      err => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n  ngOnDestroy() {\r\n  }\r\n\r\n}\r\n","<div class=\"optical-pending-orders\">\r\n  <form [formGroup]=\"opticalPendingOrdersForm\">\r\n    <div class=\"col-md-12 box-panel-form bg-white no-padding optical-point-of-sale-form border-all-side \">\r\n      <div class=\"col-md-3 optical-point-of-sale-patient-details-form zero-padding\">\r\n        <div class=\"form-header\">\r\n          <h3 class=\"text-uppercase txt-scarletgum\">\r\n            {{ 'OPTICALSTORE.PENDING_ORDERS' | translate }}\r\n          </h3>\r\n        </div>\r\n      </div>\r\n      <div class=\"row m-0 border\">\r\n        <div class=\"col-md-3 col-xs-3 m-t-5 text-uppercase\">\r\n          <div class=\"d-flex\">\r\n            <label>{{ 'OPTICALSTORE.FROM_DATE' | translate }}</label>\r\n            <span class=\"astrik-symbol\">\r\n              <i class=\"fa fa-asterisk sym p-l-3\" aria-hidden=\"true\"></i>\r\n            </span>\r\n          </div>\r\n          <p class=\"input-group m-t-5\">\r\n            <input type=\"text\" id=\"fromDt\" [matDatepicker]=\"fromDt\" [max]=\"dateMax\" class=\"b-r-0 border-right-0 form-control\"\r\n              formControlName=\"fromDt\" />\r\n            <mat-datepicker #fromDt></mat-datepicker>\r\n            <span class=\"input-group-btn\">\r\n              <button class=\"btn btn-default btn-padding calendar\" id=\"toggle-fromDt\" type=\"button\" (click)=\"datePickerToggler(fromDt)\">\r\n                <i class=\"fa fa-calendar icon\"></i>\r\n              </button>\r\n            </span>\r\n          </p>\r\n        </div>\r\n        <div class=\"col-md-3 col-xs-3 m-t-5 text-uppercase\">\r\n          <div class=\"d-flex\">\r\n            <label>{{ 'OPTICALSTORE.TO_DATE' | translate }}</label>\r\n            <span class=\"astrik-symbol \">\r\n              <i class=\"fa fa-asterisk p-l-3\" aria-hidden=\"true\"></i>\r\n            </span>\r\n          </div>\r\n          <p class=\"input-group m-t-5 \">\r\n            <input type=\"text\" id=\"toDt\" [matDatepicker]=\"toDt\" [max]=\"dateMax\" [min]=\"maxDate\" class=\"b-r-0 border-right-0 form-control\"\r\n              formControlName=\"toDt\" />\r\n            <mat-datepicker #toDt></mat-datepicker>\r\n            <span class=\"input-group-btn  \">\r\n              <button class=\"btn btn-default calendar btn-padding not-allowed\" id=\"toggle-toDt\" type=\"button\" (click)=\"datePickerToggler(toDt)\">\r\n                <i class=\"fa fa-calendar icon \"></i>\r\n              </button>\r\n            </span>\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-md-12 col-xs-12 col-sm-12 text-uppercase m-t-10 m-b-10 m-r-30\" *ngIf=\"!pendingOrdersList\">\r\n        <div class=\"col-md-4\"></div>\r\n        <div class=\"col-md-8 noMessage\">\r\n          PLEASE SELECT DATE FOR THE PENDING ORDERS LIST\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"col-xs-12 col-sm-12 text-uppercase m-t-10 m-b-10 m-r-30\" *ngIf=\"isFetchingData\">\r\n        <div class=\"col-md-4\"></div>\r\n        <div class=\"col-md-8 noMessage\">NO DATA TO DISPLAY</div>\r\n      </div>\r\n      <div class=\"col-md-12 table-width clearfix zero-padding\" *ngIf=\"pendingOrdersList && !isFetchingData\">\r\n        <table class=\"table fixed_header\">\r\n          <thead>\r\n            <tr>\r\n              <th class = \"sno\">S.NO</th>\r\n              <th class = \"orderdate\">ORDER DATE</th>\r\n              <th class = \"orderid\">ORDER ID</th>\r\n              <th class = \"patientname\">PATIENT NAME</th>\r\n              <th class = \"patientmobile\">PATIENT MOBILE</th>\r\n              <th class = \"orderstatus\">ORDER STATUS</th>\r\n              <th class = \"estimatedtime\">ESTIMATED DELIVERY</th>\r\n              <th class = \"actions\">ACTIONS</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody class=\"content fixed_header tbody\">\r\n            <tr class=\"sessionAlign\" *ngFor=\"let list of pendingOrdersList; index as i\">\r\n              <td class = \"sno\">{{ i + 1 }}</td>\r\n              <td class = \"orderdate\">{{ list.orderDt | dateFormat }}</td>\r\n              <td class = \"orderid mouseover  under_line fontstyle\" title = \"Order Details\" (click)=\"order(list)\" onmouseover=\"\">\r\n                {{ list.opticalOrderNo }}\r\n              </td>\r\n              <td class = \"patientname\" >{{list.patientNm}}</td>\r\n              <td class = \"patientmobile\" >{{ list.mobileNo }}</td>\r\n              <td class = \"orderstatus\" >{{ list.orderStatus }}</td>\r\n              <td class = \"estimatedtime\" >{{ list.expectedDt | dateFormat }}</td>\r\n              <td class = \"action-items\" >\r\n                <ul>\r\n                  <li class = \"inventory-image\"  *ngIf=\"(list.insufficientStock  === true)\">\r\n                <img src = \"https://s3.ap-south-1.amazonaws.com/dru.assets/images/app/icons/inventory/add-to-inventory.svg\" alt = \"add-to-inventory\" width = \"100%\" title=\"AddToInventory\" (click) = \"openLensDetails(list)\">\r\n\r\n                  </li>\r\n                  <li *ngIf=\"(list.orderStatus === 'ORDERED')\">\r\n                      <i title=\"edit\" class=\"fas fa-pencil-alt\" (click)=\"edit(list)\" aria-hidden=\"true\"\r\n                      ></i>\r\n                    </li>\r\n                    <li  *ngIf=\"(list.orderStatus === 'ORDERED') \">\r\n                <i title=\"Print\" class=\"mdi mdi-printer\" aria-hidden=\"true\" (click)=\"printPendingOrders(list)\" ></i>\r\n\r\n                      </li>\r\n                      <li *ngIf=\"(list.orderStatus === 'ORDERED') \">\r\n                <i title=\"Message\" class=\"fa fa-envelope\" aria-hidden=\"true\" (click)=\"smsOrders(list)\"  ></i>\r\n\r\n                        </li>\r\n                        <li *ngIf=\"(list.orderStatus === 'ORDERED')\">\r\n                <i title=\"Delete\" class=\"fas fa-trash\" aria-hidden=\"true\" (click)=\"deleteOrders(list,i)\"  ></i>\r\n\r\n                        </li>\r\n                </ul>\r\n\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </form>\r\n</div>\r\n<mat-sidenav-container>\r\n  <mat-sidenav #sidenav position=\"end\">\r\n    <app-orderdetails [sideNavRef]=\"sidenav\"> </app-orderdetails>\r\n  </mat-sidenav>\r\n</mat-sidenav-container>\r\n\r\n<mat-sidenav-container>\r\n    <mat-sidenav #lensnav position=\"end\">\r\n      <app-lens-add-to-inventory [sideNavRef]=\"lensnav\"> </app-lens-add-to-inventory>\r\n    </mat-sidenav>\r\n  </mat-sidenav-container>\r\n","import { Component, OnInit, ViewChild, OnDestroy } from '@angular/core';\r\nimport { MatDatepicker, MatSidenav, MatDialog } from '@angular/material';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { OpticalStoreApiService, UserService } from '@core/services';\r\nimport { OpticalStoreService } from '../../opticalStore.service';\r\nimport { UserSession } from '@core/models/user-session';\r\nimport { DatePipe } from '@angular/common';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { ConfirmationDialogComponent } from '@shared/components/confirmation-dialog/confirmation-dialog.component';\r\nimport { CommentsDialogComponent } from '@shared/components/comments-dialog/comments-dialog.component';\r\nimport { ReportsService } from '@core/services/reports-api.service';\r\nimport { AutoUnsubscribe } from 'ngx-auto-unsubscribe';\r\n// @AutoUnsubscribe()\r\n@Component({\r\n  selector: 'app-optical-pending-orders',\r\n  templateUrl: './optical-pending-orders.component.html',\r\n  styleUrls: ['./optical-pending-orders.component.scss']\r\n})\r\nexport class OpticalPendingOrdersComponent implements OnInit, OnDestroy {\r\n  dateMax = new Date();\r\n  dateMin;\r\n  @ViewChild('sidenav')\r\n  sidenav: MatSidenav;\r\n\r\n  @ViewChild('lensnav')\r\n  lensnav: MatSidenav;\r\n\r\n  opticalPendingOrdersForm: FormGroup;\r\n  insufficientStockKey;\r\n  editKey;\r\n  orderKey: string;\r\n  fromDt: any;\r\n  toDt: any;\r\n  defaultDate = new Date();\r\n  private sessionData: UserSession;\r\n  maxDate: any;\r\n  pendingOrdersList: any;\r\n  isFetchingData = false;\r\n  mobileNumber: any;\r\n  opticalItemOrderIdNo: any;\r\n  itemStatus: void;\r\n  framesList: any = [];\r\n  contactLens: any = [];\r\n  lensList: any = [];\r\n  fetchOpticalDetailsList: any = [''];\r\n  patientNm: string;\r\n  // isClickable = true;\r\n\r\n  constructor(\r\n    private opticalPendingOrdersFormBuilder: FormBuilder,\r\n    private componentOpticalService: OpticalStoreService,\r\n    private opticalService: OpticalStoreApiService,\r\n    private userService: UserService,\r\n    private datePipe: DatePipe,\r\n    private toaster: ToastrService,\r\n    private dialog: MatDialog,\r\n    private reportsService: ReportsService,\r\n  ) {\r\n    this.sessionData = userService.getUser();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.fromDt = this.datePipe.transform(this.defaultDate, 'yyyy-MM-dd');\r\n    this.toDt = this.datePipe.transform(this.defaultDate, 'yyyy-MM-dd');\r\n    this.componentOpticalService.insufficientStockKey.subscribe(data => {\r\n      if (data === true) {\r\n      this.pendingOrders();\r\n      }\r\n    });\r\n    this.pendingOrders();\r\n    this.initForm();\r\n  }\r\n  initForm() {\r\n    this.opticalPendingOrdersForm = this.opticalPendingOrdersFormBuilder.group({\r\n      fromDt: this.fromDt,\r\n      toDt: this.toDt\r\n    });\r\n    this.opticalPendingOrdersForm.get('fromDt').valueChanges.subscribe(data => {\r\n      this.maxDate = data;\r\n      this.fromDt = this.datePipe.transform(data, 'yyyy-MM-dd');\r\n    });\r\n    this.opticalPendingOrdersForm.get('toDt').valueChanges.subscribe(data => {\r\n      this.toDt = this.datePipe.transform(data, 'yyyy-MM-dd');\r\n      if (data) {\r\n        if (this.fromDt && this.toDt) {\r\n          this.pendingOrders();\r\n        }\r\n      }\r\n    });\r\n  }\r\n  datePickerToggler(datePicker: MatDatepicker<Date>) {\r\n    datePicker[datePicker.opened ? 'close' : 'open']();\r\n  }\r\n\r\n  order(list) {\r\n\r\n    if (list.orderStatus === 'ORDERED') {\r\n      this.editKey = 'order';\r\n    this.componentOpticalService.editKey.next(this.editKey);\r\n    this.orderSideNav();\r\n    this.componentOpticalService.editData.next(list);\r\n    }\r\n  }\r\n  edit(list) {\r\n    this.orderKey = 'edit';\r\n    this.componentOpticalService.orderKey.next(this.orderKey);\r\n    this.orderSideNav();\r\n    this.componentOpticalService.editData.next(list);\r\n  }\r\n\r\n  orderSideNav() {\r\n    this.sidenav.open();\r\n  }\r\n  /**\r\n   * @description This method is used to fetch pending orders list\r\n   */\r\n  pendingOrders() {\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId,\r\n      fromDate: this.fromDt,\r\n      toDate: this.toDt\r\n    };\r\n    this.opticalService.fetchPendingOrders(payload).subscribe(\r\n      response => {\r\n        if (response.responseCode === 'E200') {\r\n          this.pendingOrdersList = response.data;\r\n          if (this.pendingOrdersList.length) {\r\n            this.isFetchingData = false;\r\n          } else {\r\n            this.isFetchingData = true;\r\n          }\r\n        } else if (response.responseCode === 'E400') {\r\n          this.toaster.error('Failure!', response.responseMessage);\r\n        }\r\n      },\r\n      () => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n  /**\r\n   * @description This method is used to send print for a particular order\r\n   */\r\n  printPendingOrders(list) {\r\n    const queryparams = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId,\r\n      opticalItemOrderId: list.opticalItemOrderId\r\n    };\r\n    this.reportsService.fetchOpticalOrderSaleReport(queryparams).subscribe(\r\n      response => {\r\n        if (response instanceof ArrayBuffer) {\r\n          const orderRePrint = new Blob([response], {\r\n            type: 'application/pdf'\r\n          });\r\n          const reportURL = URL.createObjectURL(orderRePrint);\r\n          const win = window.open('', '_blank');\r\n          win.location.href = reportURL;\r\n          setTimeout(() => {\r\n            win.print();\r\n          }, 1000);\r\n        } else if (response.responseCode) {\r\n          this.toaster.error('Failure!', response.responseMessage);\r\n        }\r\n      },\r\n      () => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n  editOrder(list) {\r\n\r\n  }\r\n\r\n  /**\r\n   * @description This method is used to send sms for a particular order\r\n   */\r\n  smsOrders(list) {\r\n    this.mobileNumber = list.mobileNo;\r\n    this.opticalItemOrderIdNo = list.opticalItemOrderIdNo;\r\n    this.itemStatus = list.itemStatus;\r\n    this.patientNm = list.patientNm;\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      orgNm: this.sessionData.orgList[0].orgName,\r\n      createdUsrId: this.sessionData.regId,\r\n      mobileNo: list.mobileNo,\r\n      itemStatus: this.itemStatus,\r\n      patientNm: this.patientNm,\r\n      opticalItemOrderIdNo: this.opticalItemOrderIdNo,\r\n      orderNo: list.opticalOrderNo\r\n\r\n    };\r\n    this.opticalService.sendOrderDetailsSmsToUser(payload).subscribe(\r\n      response => {\r\n        if (response.responseCode === 'E200') {\r\n          this.toaster.success('success', response.responseMessage);\r\n        } else if (response.responseCode === 'E400') {\r\n          this.toaster.error('Failure!', response.responseMessage);\r\n        }\r\n      },\r\n      () => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n  /**\r\n   * @description This method is used to send sms for a particular order\r\n   */\r\n  deleteOrders(list, i) {\r\n    this.fetchOpticalDetailsList = list;\r\n    this.framesList = this.fetchOpticalDetailsList.insertOpticalOrdersFrameAndContactLensItemsReqAndRes;\r\n    this.lensList = this.fetchOpticalDetailsList.opticalContactLensItemsReqAndRes;\r\n    const dialogRef = this.dialog.open(CommentsDialogComponent, {\r\n      data: {\r\n        title: 'Are You Sure Want To Delete ? ',\r\n        data: 'Reason'\r\n      },\r\n      disableClose: true\r\n    });\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      if (result) {\r\n        const payload = {\r\n          orgId: this.sessionData.orgId,\r\n          orgGrpId: this.sessionData.orgGroupId,\r\n          createdUsrId: this.sessionData.regId,\r\n          cancelReason: result,\r\n          cancelUsrId: this.sessionData.regId,\r\n          hosPatientId: list.hosPatientId,\r\n          opticalInventoryId: this.fetchOpticalDetailsList.insertOpticalOrdersFrameAndContactLensItemsReqAndRes[0].opticalInventoryId || 0,\r\n          opticalItemOrderIdNo: this.fetchOpticalDetailsList.opticalItemOrderIdNo,\r\n          opticalItemOrderId: this.fetchOpticalDetailsList.opticalItemOrderId,\r\n          opticalOrderNo: list.opticalOrderNo,\r\n          orderQty: this.fetchOpticalDetailsList.insertOpticalOrdersFrameAndContactLensItemsReqAndRes[0].orderQty,\r\n          patientId: list.patientId,\r\n          totalPaidAmt: list.paidAmt\r\n        };\r\n        this.opticalService.deleteOrders(payload).subscribe(\r\n          response => {\r\n            if (response.responseCode === 'E200') {\r\n              this.pendingOrdersList.splice(i, 1);\r\n              this.toaster.success('success', response.responseMessage);\r\n            } else if (response.responseCode === 'E400') {\r\n              this.toaster.error('Failure!', response.responseMessage);\r\n            }\r\n          },\r\n          () => {\r\n            this.toaster.error('Failure!', 'Something went wrong');\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @description This method is used to opening the lens details page\r\n   */\r\n  openLensDetails(list) {\r\n    this.lensSideNav();\r\n    this.componentOpticalService.lensInvData.next(list);\r\n\r\n  }\r\n\r\n  lensSideNav() {\r\n    this.lensnav.open();\r\n  }\r\n  ngOnDestroy() {\r\n  }\r\n}\r\n","<div class=\"col-md-12 p-0\">\r\n  <table class=\"table optical-billing-cart-table border-bottom-1\" *ngIf=\"amountList && amountList.length\">\r\n    <thead>\r\n      <tr>\r\n        <th class=\"text-uppercase txt-scarletgum\">S.NO</th>\r\n        <th class=\"text-uppercase txt-scarletgum\">ORDER LIST</th>\r\n        <th class=\"text-uppercase txt-scarletgum\">UNITS</th>\r\n        <th class=\"text-uppercase txt-scarletgum\">UNIT COST</th>\r\n        <th class=\"text-uppercase txt-scarletgum\">Tax</th>\r\n        <th class=\"text-uppercase txt-scarletgum\">DISCOUNT(<i class=\"fas fa-rupee-sign\"></i> - %)</th>\r\n        <th class=\"text-uppercase txt-scarletgum\">NET AMOUNT</th>\r\n        <th></th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr class=\"frames-hrader\" *ngIf=\"showFrames\">\r\n        <th colspan=\"10\">Frames</th>\r\n      </tr>\r\n      <tr *ngFor=\"let frames of amountList; index as i\">\r\n        <ng-container *ngIf=\"frames.type == 'Frame'\">\r\n          <td class=\"td-50\">{{i+1}} .</td>\r\n          <td>{{frames.itemBrandNm}}</td>\r\n          <td class=\"td-100\" *ngIf=\"!isShowOrderInfo\">{{frames.quantity}}</td>\r\n          <td class=\"td-100\" *ngIf=\"isShowOrderInfo\">{{frames.orderQty}}</td>\r\n          <td class=\"td-100\"><i class=\"fas fa-rupee-sign\"></i>&nbsp; {{frames.pieceAmt}}</td>\r\n          <td class=\"td-100\">{{frames.taxPercntg}}</td>\r\n          <td class=\"discount-td\">\r\n            <div class=\"discount-inputs\">\r\n              <input id=\"rupeesdisc1\" type=\"text\" class=\"rupees-disc\" [disabled]=\"currentPaymentModesList.length > 0\"\r\n                [(ngModel)]=\"frames.discountAmt\" (ngModelChange)=\"getDiscountPercentage(i)\">\r\n              <input id=\"percentdisc1\" type=\"text\" class=\"percent-disc\" [disabled]=\"currentPaymentModesList.length > 0\"\r\n                [(ngModel)]=\"frames.discountPercntg\" (ngModelChange)=\"getDiscountAmount(i)\">\r\n            </div>\r\n\r\n          </td>\r\n          <td class=\"td-100\"><i class=\"fas fa-rupee-sign\"></i> {{frames.serviceAmt | number:'.2'}}</td>\r\n          <td class=\"td-100\">\r\n            <div class=\"top-corner-icons delete-icon\" (click)=\"deleteService(i)\">\r\n              <i class=\"fas fa-trash-alt\"></i>\r\n            </div>\r\n          </td>\r\n        </ng-container>\r\n\r\n      </tr>\r\n      <tr class=\"frames-hrader\" *ngIf=\"showContactLens\">\r\n        <th colspan=\"10\">ContactLenses</th>\r\n      </tr>\r\n      <tr *ngFor=\"let frames of amountList; index as i\">\r\n        <ng-container *ngIf=\"frames.type == 'Contact Lense'\">\r\n          <td class=\"td-50\">{{i+1}} .</td>\r\n          <td>{{frames.itemBrandNm}}</td>\r\n          <td class=\"td-100\" *ngIf=\"!isShowOrderInfo\">{{frames.quantity}}</td>\r\n          <td class=\"td-100\" *ngIf=\"isShowOrderInfo\">{{frames.orderQty}}</td>\r\n          <td class=\"td-100\"><i class=\"fas fa-rupee-sign\"></i> {{frames.pieceAmt}}</td>\r\n          <td class=\"td-100\">{{frames.taxPercntg}}</td>\r\n          <td class=\"discount-td\">\r\n            <div class=\"discount-inputs\">\r\n              <input id=\"rupeesdisc2\" type=\"text\" class=\"rupees-disc\" [disabled]=\"currentPaymentModesList.length > 0\"\r\n                [(ngModel)]=\"frames.discountAmt\" (ngModelChange)=\"getDiscountPercentage(i)\">\r\n              <input id=\"percent_disc2\" type=\"text\" class=\"percent-disc\" [disabled]=\"currentPaymentModesList.length > 0\"\r\n                [(ngModel)]=\"frames.discountPercntg\" (ngModelChange)=\"getDiscountAmount(i)\">\r\n            </div>\r\n\r\n          </td>\r\n          <td class=\"td-100\"><i class=\"fas fa-rupee-sign\"></i> {{frames.serviceAmt | number:'.2'}}</td>\r\n          <td class=\"td-100\">\r\n            <div class=\"top-corner-icons delete-icon\" (click)=\"deleteService(i)\">\r\n              <i class=\"fas fa-trash-alt\"></i>\r\n            </div>\r\n          </td>\r\n        </ng-container>\r\n\r\n      </tr>\r\n      <tr class=\"frames-hrader\" *ngIf=\"showLens\">\r\n        <th colspan=\"10\">Lenses</th>\r\n      </tr>\r\n      <tr *ngFor=\"let lense of amountList; index as i\">\r\n        <ng-container *ngIf=\"lense.type == 'Lense'\">\r\n          <td class=\"td-50\">{{i+1}} .</td>\r\n          <td>{{lense.itemBrandNm}}</td>\r\n          <td class=\"td-100\" *ngIf=\"!isShowOrderInfo\">{{lense.quantity}}</td>\r\n          <td class=\"td-100\" *ngIf=\"isShowOrderInfo\">{{lense.orderQty}}</td>\r\n          <td class=\"td-100\"><i class=\"fas fa-rupee-sign\"></i> {{lense.pieceAmt}}</td>\r\n          <td class=\"td-100\">{{lense.taxPercntg}}</td>\r\n          <td class=\"discount-td\">\r\n            <div class=\"discount-inputs\">\r\n              <input id=\"rupeesdisc2\" type=\"text\" class=\"rupees-disc\" [disabled]=\"currentPaymentModesList.length > 0\"\r\n                [(ngModel)]=\"lense.discountAmt\" (ngModelChange)=\"getDiscountPercentage(i)\">\r\n              <input id=\"percent_disc2\" type=\"text\" class=\"percent-disc\" [disabled]=\"currentPaymentModesList.length > 0\"\r\n                [(ngModel)]=\"lense.discountPercntg\" (ngModelChange)=\"getDiscountAmount(i)\">\r\n            </div>\r\n\r\n          </td>\r\n          <td class=\"td-100\"><i class=\"fas fa-rupee-sign\"></i> {{lense.serviceAmt | number:'.2'}}</td>\r\n          <td class=\"td-100\">\r\n            <div class=\"top-corner-icons delete-icon\" (click)=\"deleteService(i)\">\r\n              <i class=\"fas fa-trash-alt\"></i>\r\n            </div>\r\n          </td>\r\n        </ng-container>\r\n\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n\r\n  <div class=\"row m-0 m-l-r-5\" *ngIf=\"amountList.length > 0\">\r\n    <div class=\"total-amount-words col-md-9\">\r\n      <div class=\"d-flex\">\r\n        <label>Total Amount In Words : </label> &nbsp; {{totalAMountInWords}}\r\n      </div>\r\n      <div>\r\n        <label>Global Discount(<i class=\"fas fa-rupee-sign\"></i> - %)</label>\r\n      </div>\r\n\r\n      <div class=\"discount-inputs global-disc-inputs\">\r\n        <input id=\"rupeesdisc3\" type=\"text\" class=\"rupees-disc\" [disabled]=\"currentPaymentModesList.length > 0\"\r\n          [(ngModel)]=\"globalDiscAmt\" (ngModelChange)=\"getTotalDiscountPercentage()\">\r\n        <input id=\"percentdisc3\" type=\"text\" class=\"percent-disc\" [disabled]=\"currentPaymentModesList.length > 0\"\r\n          [(ngModel)]=\"globalDiscPercent\" (ngModelChange)=\"getTotalDiscountAmount()\">\r\n      </div>\r\n\r\n      <div *ngIf=\"totalInvoiceDiscountAmount > 0\" class=\"col-md-6 zero-padding\">\r\n        <label for=\"amount\">Discount Remark\r\n          <span class=\"required-field-star-color\">*</span>\r\n        </label>\r\n        <textarea type=\"text\" name=\"discountRemark\" [(ngModel)]=\"discountRemark\"></textarea>\r\n      </div>\r\n    </div>\r\n    <div class=\"total-amount-words col-md-3\">\r\n\r\n      <div class=\"final-amounts\">\r\n\r\n        <div class=\"d-flex\">\r\n          <label>Total Amount:</label><span class=\"ml-2\"><i class=\"fas fa-rupee-sign\"></i>\r\n            {{totalInvoiceServiceAmount | number:'.2'}}</span>\r\n        </div>\r\n        <div class=\"d-flex\">\r\n          <label>Total CGST: </label><span class=\"ml-27\"><i class=\"fas fa-rupee-sign\"></i>\r\n            {{totalCgstTaxAmount | number:'.2'}}</span>\r\n        </div>\r\n        <div class=\"d-flex\">\r\n          <label>Total SGST: </label><span class=\"ml-27\"><i class=\"fas fa-rupee-sign\"></i> {{totalSgstTaxAmount | number:'.2'}}</span>\r\n        </div>\r\n\r\n        <div class=\"d-flex\">\r\n          <label>Final Amount: </label><span class=\"ml-2\"><i class=\"fas fa-rupee-sign\"></i>\r\n            {{totalInvoiceAmount | number:'.2'}}</span>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"form-header border-bottom-1 border-top-1 col-md-12\" *ngIf=\"amountList.length > 0\">\r\n    <p class=\"text-uppercase txt-scarletgum\" *ngIf=\"!isShowOrderInfo\">Payment Mode</p>\r\n    <p class=\"text-uppercase txt-scarletgum\" *ngIf=\"isShowOrderInfo\">Payment Mode( ADVANCE )</p>\r\n  </div>\r\n  <div class=\"col-md-12 p-0 payment-inputs\" *ngIf=\"amountList.length > 0\">\r\n    <table class=\"table optical-billing-cart-table border-bottom-1\">\r\n      <thead class=\"optical-billing\">\r\n        <tr [formGroup]=\"paymentModesForm\">\r\n          <th class=\"optical-billing__sno\"></th>\r\n          <th class=\"text-uppercase txt-scarletgum optical-billing__payment pl-0\">\r\n            <label for=\"paymentName\">Payment Mode\r\n              <span class=\"required-field-star-color\">*</span>\r\n            </label>\r\n            <div>\r\n              <select class=\"\" name=\"paymentMode\" id=\"paymntMode\" formControlName=\"paymentMode\"\r\n                (change)=\"onChangePaymentMode()\">\r\n                <option></option>\r\n                <option [ngValue]=\"mode.attributeCode\" *ngFor=\"let mode of paymentModesList\">{{mode.attributeCode}}\r\n                </option>\r\n              </select>\r\n            </div>\r\n          </th>\r\n          <th class=\"text-uppercase txt-scarletgum optical-billing__bank pl-0\">\r\n            <label for=\"bankName\">Bank\r\n              <span class=\"required-field-star-color\">*</span>\r\n            </label>\r\n            <input type=\"text\" name=\"bankName\" id=\"bankName\" onkeypress=\"return (event.charCode > 64 &&\r\n                            event.charCode < 91) || (event.charCode > 96 && event.charCode < 123)\"\r\n              formControlName=\"issuedBank\">\r\n          </th>\r\n          <th class=\"text-uppercase txt-scarletgum optical-billing__check pl-0\">\r\n            <label for=\"accuntNumber\">Cheque Number\r\n              <span class=\"required-field-star-color\">*</span>\r\n            </label>\r\n            <input id=\"checkNumber\" onkeypress=\"return event.charCode >= 48\" type=\"number\" maxlength=\"6\"\r\n              name=\"checkNumber\" formControlName=\"chequeDdNo\">\r\n          </th>\r\n          <th class=\"text-uppercase txt-scarletgum optical-billing__payment-date pl-0\">\r\n            <label>Payment Date\r\n              <span class=\"required-field-star-color\">*</span>\r\n            </label>\r\n            <p class=\"input-group m-b-0 \">\r\n              <input id=\"paymentDt\" type=\"text\" [matDatepicker]=\"paymentDt\" formControlName=\"paymentDt\"\r\n                class=\"in-width input_data\" (click)=\"datePickerToggler(paymentDt)\" readonly>\r\n              <mat-datepicker #paymentDt></mat-datepicker>\r\n              <span class=\"input-group-btn w-10 calendar_height\">\r\n                <button id=\"datePickerToggle\" class=\"btn btn-default btn-padding calendar_height\" type=\"button\"\r\n                  (click)=\"datePickerToggler(paymentDt)\">\r\n                  <i class=\"fa fa-calendar\"></i>\r\n                </button>\r\n              </span>\r\n            </p>\r\n          </th>\r\n          <th class=\"text-uppercase txt-scarletgum optical-billing__amount pl-0\">\r\n            <label for=\"amount\">Amount\r\n              <span class=\"required-field-star-color\">*</span>\r\n            </label>\r\n            <div>\r\n              <input id=\"paidAmount\" type=\"number\" min=0 name=\"amount\" id=\"amount\" formControlName=\"paidAmountByMode\"\r\n                (change)=\"OnKeyUpPayingAmount($event)\" class=\"\" onkeypress=\"return event.charCode >= 48\" />\r\n              <!-- <div ng-if=\"vm.isAmount[$index]\" class=\"my-messages\">* This field is required</div> -->\r\n            </div>\r\n          </th>\r\n          <th class=\"optical-billing__add pl-0\">\r\n            <button id=\"addPaymentModes\" type=\"button\" (click)=\"addPaymentModes()\"\r\n              [disabled]=\"!paymentModesForm.valid || disabledButn\" class=\"btn-app payment-mode-add-btn min-wid\">\r\n              <i class=\"fas fa-plus\"></i>\r\n            </button>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <ng-container *ngIf=\"currentPaymentModesList.length > 0\">\r\n          <tr *ngFor=\"let modes of currentPaymentModesList; index as i\">\r\n            <td class=\"optical-billing__sno\">{{i+1}}</td>\r\n            <td class=\"optical-billing__payment\">{{modes.paymentMode}}</td>\r\n            <td class=\"optical-billing__bank\">{{modes.issuedBank}}</td>\r\n            <td class=\"optical-billing__check\">{{modes.chequeDdNo}}</td>\r\n            <td class=\"optical-billing__payment-date\">{{modes.displayDt}}</td>\r\n            <td class=\"optical-billing__amount\">{{modes.paidAmountByMode}}</td>\r\n            <td class=\"optical-billing__add\">\r\n              <div class=\"top-corner-icons delete-icon\" (click)=\"removePaymentMode(i, modes)\">\r\n                <i class=\"fas fa-trash-alt\"></i>\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        </ng-container>\r\n      </tbody>\r\n    </table>\r\n\r\n\r\n  </div>\r\n\r\n  <div class=\"row m-0\" *ngIf=\"amountList.length > 0\">\r\n    <div class=\"total-amount-words col-md-9\">\r\n    </div>\r\n\r\n    <div class=\"total-amount-words col-md-3\">\r\n      <div class=\"final-amounts d-flex\">\r\n        <label>Balance Amount </label>&nbsp; <span><i class=\"fas fa-rupee-sign\"></i>\r\n            {{totalDueAmount || 0 | number:'.2'}}</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <ng-template #noData *ngIf=\"!showBillingFromPending\">\r\n    <div class=\"col-md-12\">\r\n      <div class=\"grid-msg-text-branch margin-top-40\" role=\"alert\">{{ 'COMMONLABELS.NO_DATA_TEXT' | translate }}</div>\r\n    </div>\r\n\r\n  </ng-template>\r\n  <div class=\"col-sm-12 m-t-b-15 form-button-group\" *ngIf=\"amountList.length > 0\">\r\n    <ul>\r\n      <li>\r\n        <button id=\"InvoiceDiscount\" type=\"submit\" class=\"btn-app btn-save\"\r\n          [disabled]=\"(totalInvoiceDiscountAmount >0 && !discountRemark)\" (click)=\"requestInvoice()\">\r\n          <i class=\"fas fa-print margin-right-5\"></i> Pay and Print</button>\r\n      </li>\r\n      <li>\r\n        <button id=\"btncancel\" type=\"button\" class=\"btn-app btn-delete\" (click)=\"cancel()\">\r\n          <i class=\"fa fa-times fa-btn-icon margin-right-5\" aria-hidden=\"true\"></i> Cancel</button>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n\r\n</div>\r\n\r\n<div class=\"col-md-12 \" *ngIf=\"(showBillingFromPending && pendingData.length) || paymentData\">\r\n  <form [formGroup]=\"pendindBillingForm\"></form>\r\n  <table class=\"table optical-billing-cart-table border-bottom-1\">\r\n    <thead>\r\n      <tr>\r\n        <th class=\"text-uppercase txt-scarletgum\">ORDER LIST</th>\r\n        <th class=\"text-uppercase txt-scarletgum\">UNITS</th>\r\n        <th class=\"text-uppercase txt-scarletgum\">UNIT COST</th>\r\n        <th class=\"text-uppercase txt-scarletgum\">Tax</th>\r\n        <th class=\"text-uppercase txt-scarletgum\">NET AMOUNT</th>\r\n        <th></th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr class=\"frames-hrader\" *ngIf=\"frames && frames.length\">\r\n        <th colspan=\"10\">Frames</th>\r\n      </tr>\r\n      <tr *ngFor=\"let pendingframesdetails of pendingData; index as i\">\r\n        <ng-container *ngIf=\"pendingframesdetails.itemTypeId === 234 \">\r\n          <td>{{pendingframesdetails.itemBrandNm}}</td>\r\n          <td class=\"td-100\">{{pendingframesdetails.orderQty}}</td>\r\n          <td class=\"td-100\"><i class=\"fas fa-rupee-sign\"></i> {{ getPieceAmt(pendingframesdetails) }}</td>\r\n          <td class=\"td-100\">{{pendingframesdetails.taxPercntg}}</td>\r\n          <td class=\"td-100\"><i class=\"fas fa-rupee-sign\"></i> {{ getTotalAmountWithDiscount(pendingframesdetails) |\r\n            number:'.2'}}</td>\r\n        </ng-container>\r\n      </tr>\r\n      <tr class=\"frames-hrader\" *ngIf=\"contactlens && contactlens.length\">\r\n        <th colspan=\"10\">Contact Lens</th>\r\n      </tr>\r\n      <tr *ngFor=\"let pendingContactlensdetails of pendingData; index as i\">\r\n        <ng-container *ngIf=\"pendingContactlensdetails.itemTypeId === 235\">\r\n          <td>{{pendingContactlensdetails.itemBrandNm}}</td>\r\n          <td class=\"td-100\">{{pendingContactlensdetails.orderQty}}</td>\r\n          <td class=\"td-100\"><i class=\"fas fa-rupee-sign\"></i> {{ getPieceAmt(pendingContactlensdetails) }}</td>\r\n          <td class=\"td-100\">{{pendingContactlensdetails.taxPercntg}}</td>\r\n          <td class=\"td-100\"><i class=\"fas fa-rupee-sign\"></i> {{\r\n            getTotalAmountWithDiscount(pendingContactlensdetails) | number:'.2' }}</td>\r\n        </ng-container>\r\n      </tr>\r\n\r\n      <tr class=\"frames-hrader\" *ngIf=\"pendingLensData && pendingLensData.length\">\r\n        <th colspan=\"10\">Lens</th>\r\n      </tr>\r\n      <tr *ngFor=\"let pendinglensdetails of pendingLensData; index as i\">\r\n        <ng-container *ngIf=\"pendinglensdetails.itemTypeId === 101 \">\r\n          <td>{{pendinglensdetails.itemBrandNm}}</td>\r\n          <td class=\"td-100\">{{pendinglensdetails.orderQty}}</td>\r\n          <td class=\"td-100\"><i class=\"fas fa-rupee-sign\"></i> {{ getPieceAmt(pendinglensdetails) }}</td>\r\n          <td class=\"td-100\">{{pendinglensdetails.taxPercntg}}</td>\r\n          <td class=\"td-100\"><i class=\"fas fa-rupee-sign\"></i> {{ getTotalAmountWithDiscount(pendinglensdetails) |\r\n            number:'.2' }}</td>\r\n        </ng-container>\r\n      </tr>\r\n\r\n\r\n    </tbody>\r\n  </table>\r\n  <div class=\"row m-0 m-l-r-5\" *ngIf=\"(showBillingFromPending && pendingData.length) || paymentData\">\r\n    <div class=\"total-amount-words col-md-9\">\r\n      <div class=\"d-flex\">\r\n        <label>Total Amount In Words : </label> {{totalAMountInWords}}\r\n      </div>\r\n\r\n      <div *ngIf=\"totalInvoiceDiscountAmount > 0\" class=\"col-md-6 zero-padding\">\r\n        <label for=\"amount\">Discount Remark\r\n          <span class=\"required-field-star-color\">*</span>\r\n        </label>\r\n        <textarea type=\"text\" name=\"discountRemark\" [(ngModel)]=\"discountRemark\"></textarea>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"total-amount-words col-md-3\">\r\n      <div class=\"final-amounts\">\r\n        <p class=\"border-bottom-1\"><label>Total AMount:</label><span><i class=\"fas fa-rupee-sign\"></i>\r\n            {{totAmtWithDiscount | number:'.2'}}</span></p>\r\n        <p><label>Total CGST: </label><span><i class=\"fas fa-rupee-sign\"></i> {{totalCgstAmount | number:'.2'}}</span>\r\n        </p>\r\n        <p><label>Total SGST: </label><span><i class=\"fas fa-rupee-sign\"></i> {{totalSgstAmount | number:'.2'}}</span>\r\n        </p>\r\n        <p><label>Final Amount: </label><span><i class=\"fas fa-rupee-sign\"></i>\r\n            {{pendingFinalAmount | number:'1.0-0'}}</span></p>\r\n        <p><label>Refund Amount: </label><span><i class=\"fas fa-rupee-sign\"></i> {{refundAmt | number:'.2'}}</span></p>\r\n        <p><label>Advance Amount: </label><span><i class=\"fas fa-rupee-sign\"></i> {{advanceAmount | number:'.2'}}</span>\r\n        </p>\r\n        <p><label>Due Amount: </label><span><i class=\"fas fa-rupee-sign\"></i>\r\n            {{pendingDueAmount || 0 | number:'.2'}}</span></p>\r\n        <p><label>Final Payable Amt: </label><span><i class=\"fas fa-rupee-sign\"></i> {{finalPayableAmount\r\n             }}</span></p>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"form-header border-bottom-1 border-top-1 col-md-12\"\r\n    *ngIf=\"(showBillingFromPending && pendingData.length) || paymentData\">\r\n    <p class=\"text-uppercase txt-scarletgum\">Payment Mode</p>\r\n  </div>\r\n  <div class=\"col-md-12 payment-inputs\" *ngIf=\"(showBillingFromPending && pendingData.length) || paymentData\">\r\n    <table class=\"table optical-billing-cart-table border-bottom-1\">\r\n      <thead class=\"optical-billing\">\r\n        <tr [formGroup]=\"paymentModesForm\">\r\n            <th class=\"optical-billing__sno\"></th>\r\n          <th class=\"text-uppercase txt-scarletgum optical-billing__payment pl-0\">\r\n            <label for=\"paymentName\">Payment Mode\r\n              <span class=\"required-field-star-color\">*</span>\r\n            </label>\r\n            <div>\r\n              <select class=\"\" name=\"paymentMode\" id=\"paymntMode\" formControlName=\"paymentMode\"\r\n                (change)=\"onChangePaymentMode()\">\r\n                <option></option>\r\n                <option [ngValue]=\"mode.attributeCode\" *ngFor=\"let mode of paymentModesList\">{{mode.attributeCode}}\r\n                </option>\r\n              </select>\r\n            </div>\r\n          </th>\r\n          <th class=\"text-uppercase txt-scarletgum optical-billing__bank pl-0\">\r\n            <label for=\"bankName\">Bank\r\n              <span class=\"required-field-star-color\">*</span>\r\n            </label>\r\n            <input type=\"text\" name=\"bankName\" id=\"bankName\" onkeypress=\"return (event.charCode > 64 &&\r\n                      event.charCode < 91) || (event.charCode > 96 && event.charCode < 123)\"\r\n              formControlName=\"issuedBank\">\r\n          </th>\r\n          <th class=\"text-uppercase txt-scarletgum optical-billing__check pl-0\">\r\n            <label for=\"accuntNumber\">Cheque Number\r\n              <span class=\"required-field-star-color\">*</span>\r\n            </label>\r\n            <input id=\"checkNumber\" onkeypress=\"return event.charCode >= 48\" type=\"number\" maxlength=\"6\"\r\n              name=\"checkNumber\" formControlName=\"chequeDdNo\">\r\n          </th>\r\n          <th class=\"text-uppercase txt-scarletgum optical-billing__payment-date pl-0\">\r\n            <label>Payment Date\r\n              <span class=\"required-field-star-color\">*</span>\r\n            </label>\r\n            <p class=\"input-group m-b-0 \">\r\n              <input id=\"paymentDt\" type=\"text\" [matDatepicker]=\"paymentDt\" formControlName=\"paymentDt\"\r\n                class=\"in-width input_data\">\r\n              <mat-datepicker #paymentDt></mat-datepicker>\r\n              <span class=\"input-group-btn w-10 calendar_height\">\r\n                <button id=\"datePickerToggle\" class=\"btn btn-default btn-padding\" type=\"button\"\r\n                  (click)=\"datePickerToggler(paymentDt)\">\r\n                  <i class=\"fa fa-calendar\"></i>\r\n                </button>\r\n              </span>\r\n            </p>\r\n          </th>\r\n          <th class=\"text-uppercase txt-scarletgum optical-billing__amount pl-0\">\r\n            <label for=\"amount\">Amount\r\n              <span class=\"required-field-star-color\">*</span>\r\n            </label>\r\n            <div>\r\n              <input id=\"paidAmount\" type=\"number\" min=0 name=\"amount\" id=\"amount\" formControlName=\"paidAmountByMode\"\r\n                (change)=\"OnKeyUpPayingAmount($event)\" class=\"\" onkeypress=\"return event.charCode >= 48\" />\r\n\r\n            </div>\r\n          </th>\r\n          <th class=\"optical-billing__add pl-0\">\r\n            <button id=\"addPaymentModes\" type=\"button\" (click)=\"addPaymentModes()\"\r\n              [disabled]=\"!paymentModesForm.valid || disabledButn\" class=\"btn-app payment-mode-add-btn min-wid\">\r\n              <i class=\"fas fa-plus\"></i>\r\n            </button>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <ng-container *ngIf=\"currentPaymentModesList.length > 0\">\r\n          <tr *ngFor=\"let modes of currentPaymentModesList; index as i\">\r\n            <td class=\"optical-billing__sno\">{{i+1}}</td>\r\n            <td class=\"optical-billing__payment\">{{modes.paymentMode}}</td>\r\n            <td class=\"optical-billing__bank\">{{modes.issuedBank}}</td>\r\n            <td class=\"optical-billing__check\">{{modes.chequeDdNo}}</td>\r\n            <td class=\"optical-billing__payment-date\">{{modes.displayDt}}</td>\r\n            <td class=\"optical-billing__amount\">{{modes.paidAmountByMode}}</td>\r\n            <td class=\"optical-billing__add\">\r\n              <div class=\"top-corner-icons delete-icon\" (click)=\"removePaymentMode(i, modes)\">\r\n                <i class=\"fas fa-trash-alt\"></i>\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        </ng-container>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n  <div class=\"row m-0\" *ngIf=\"(showBillingFromPending && pendingData.length) || paymentData\">\r\n    <div class=\"total-amount-words col-md-9\">\r\n    </div>\r\n\r\n    <div class=\"total-amount-words col-md-3\">\r\n      <div class=\"final-amounts\">\r\n        <p class=\"d-flex\"><label>Balance Amount </label>&nbsp; <span><i class=\"fas fa-rupee-sign\"></i>\r\n            {{totalDueAmount | number:'.2'}}</span></p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <ng-template #noData>\r\n    <div class=\"col-md-12\">\r\n      <div class=\"grid-msg-text-branch margin-top-40\" role=\"alert\">{{ 'COMMONLABELS.NO_DATA_TEXT' | translate }}</div>\r\n    </div>\r\n\r\n  </ng-template>\r\n  <div class=\"col-sm-12 m-t-b-15 form-button-group\"\r\n    *ngIf=\"(showBillingFromPending && pendingData.length) || paymentData\">\r\n    <ul>\r\n      <li>\r\n        <button id=\"InvoiceDiscount\" type=\"submit\" class=\"btn-app btn-save\"\r\n          [disabled]=\"(totalInvoiceDiscountAmount >0 && !discountRemark)\" (click)=\"requestInvoice()\">\r\n          <i class=\"fas fa-print margin-right-5\"></i> Pay and Print</button>\r\n      </li>\r\n      <li>\r\n        <button id=\"btncancel\" type=\"button\" class=\"btn-app btn-delete\" (click)=\"cancel()\">\r\n          <i class=\"fa fa-times fa-btn-icon margin-right-5\" aria-hidden=\"true\"></i> Cancel</button>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</div>\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  Input,\r\n  ChangeDetectorRef,\r\n  Output,\r\n  EventEmitter,\r\n  Inject,\r\n  OnDestroy\r\n} from '@angular/core';\r\nimport { NumberToWordsPipe } from '@shared/pipes/numberTowords';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { MatDatepicker } from '@angular/material';\r\nimport {\r\n  LoginApiService,\r\n  OpticalStoreApiService,\r\n  JSBARCODE\r\n} from '@core/services';\r\nimport { OpticalStoreService } from '@app/modules/optical-store/opticalStore.service';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { DatePipe } from '@angular/common';\r\nimport { MatDialog } from '@angular/material';\r\nimport { ConfirmationDialogComponent } from '@shared/components/confirmation-dialog/confirmation-dialog.component';\r\nimport { CommentsDialogComponent } from '@shared/components/comments-dialog/comments-dialog.component';\r\nimport { LocalStorageService } from 'ngx-webstorage';\r\nimport { UtilService } from '@core/services/utils.service';\r\nimport { UserSession } from '@core/models/user-session';\r\nimport { UserService } from '@core/services/user.service';\r\nimport { ActivatedRoute, Params, Router } from '@angular/router';\r\nimport { Subscription, Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { ReportsService } from '@core/services/reports-api.service';\r\nimport { OPTICAL_STORE_CONSTANTS_TOKEN, IOpticalStoreConstants } from '@app/modules/optical-store/optical-store.constants';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\nimport { AutoUnsubscribe } from 'ngx-auto-unsubscribe';\r\n// @AutoUnsubscribe()\r\n@Component({\r\n  selector: 'app-optical-billing',\r\n  templateUrl: './optical-billing.component.html',\r\n  styleUrls: ['./optical-billing.component.scss']\r\n})\r\nexport class OpticalBillingComponent implements OnInit, OnDestroy {\r\n  @Input() selectedItems: any[];\r\n  @Input() patientDetails: any;\r\n  @Output() cancelBilling = new EventEmitter();\r\n  public framesList = [];\r\n  public amountList = [];\r\n  public lensList = [];\r\n  public orderType;\r\n  totalInvoiceAmount: number;\r\n  totalInvoiceDiscountAmount: any = 0;\r\n  totalInvoiceServiceAmount: any = 0;\r\n  totalInvoicetotalAmount: any = 0;\r\n  totalSgstTaxAmount: any = 0;\r\n  totalCgstTaxAmount: any = 0;\r\n  totalTaxAmount: any = 0;\r\n  totalAMountInWords: string;\r\n  globalDiscAmt;\r\n  globalDiscPercent;\r\n  paymentMode: any;\r\n  totalDueAmount;\r\n  private sessionData: UserSession;\r\n  paymentModesList = [];\r\n  currentPaymentModesList = [];\r\n  currentPendingPaymentModesList = [];\r\n  pendingPaymentModesList = [];\r\n  paymentModesForm: FormGroup;\r\n  pendindBillingForm: FormGroup;\r\n  disabledButn: Boolean = false;\r\n  disablePayBtn: Boolean = false;\r\n  // count = 0;\r\n  storeValue = 0;\r\n  tempServicesAmt = 0;\r\n  discountRemark: string;\r\n  showFrames: Boolean = false;\r\n  showContactLens: Boolean = false;\r\n  showLens: Boolean = false;\r\n  isShowOrderInfo: Boolean = false;\r\n  showPendingFrames: Boolean = false;\r\n  showPendingContactLens: Boolean = false;\r\n  showPendingLens: Boolean = false;\r\n  public showBillingFromPending: any;\r\n  paymentData: any;\r\n  pendingData = [];\r\n  pendingLensData = [];\r\n  totAmtWithDiscount: any;\r\n  itmId: any;\r\n  pendingNetAmount: any;\r\n  totalCgstAmount: any;\r\n  totalSgstAmount: any;\r\n  advanceAmount: any;\r\n  pendingFinalAmount: any;\r\n  currentPayAmt: any;\r\n  pendingFinalPayableAmount: any;\r\n  pendingDueAmount: any;\r\n  frames = [];\r\n  contactlens = [];\r\n  lens = [];\r\n  orderIdpendingData: any;\r\n  refundAmt: any;\r\n  advance: any;\r\n  refund: any;\r\n  totalPaidAmntInAdv: any;\r\n  private subscription: Subscription;\r\n  private showBillingSubscription: Subscription;\r\n  patientData;\r\n  readonly FRAMES_ID;\r\n  readonly LENS_ID;\r\n  readonly CONTACT_LENS_ID;\r\n  componentDesctructionNotifier: Subject<Boolean> = new Subject();\r\n  opticalItemOrderId: any;\r\n  billDue: any;\r\n  finalPayableAmount: number;\r\n  constructor(\r\n    private toaster: ToastrService,\r\n    private loginService: LoginApiService,\r\n    private opticalService: OpticalStoreApiService,\r\n    private componentOpticalStoreService: OpticalStoreService,\r\n    private activatedRoute: ActivatedRoute,\r\n    private formbuilder: FormBuilder,\r\n    private pendindBillingFormBuilder: FormBuilder,\r\n    private datePipe: DatePipe,\r\n    private dialog: MatDialog,\r\n    private utilService: UtilService,\r\n    userService: UserService,\r\n    private opticalStoreService: OpticalStoreService,\r\n    private reportsService: ReportsService,\r\n    @Inject(JSBARCODE) private jsbarcode,\r\n    @Inject(OPTICAL_STORE_CONSTANTS_TOKEN) private opticalStoreConstants: IOpticalStoreConstants,\r\n    public router: Router\r\n  ) {\r\n    const { CONTACT_LENS_ID, FRAMES_ID, LENS_ID } = this.opticalStoreConstants;\r\n    this.CONTACT_LENS_ID = CONTACT_LENS_ID;\r\n    this.FRAMES_ID = FRAMES_ID;\r\n    this.LENS_ID = LENS_ID;\r\n    this.sessionData = userService.getUser();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.componentOpticalStoreService.paymentData.subscribe(arg => {\r\n      if (arg) {\r\n        this.paymentData = arg;\r\n        this.showBillingFromPending = true;\r\n        this.pendingLensData = [\r\n          ...this.pendingLensData,\r\n          ...this.paymentData.insertOpticalOrdersLensItemReqAndRes\r\n        ];\r\n        this.pendingData = [...this.pendingData, ...this.paymentData.insertOpticalOrdersFrameAndContactLensItemsReqAndRes];\r\n        this.pendingData.forEach((obj) => {\r\n          if (obj.itemTypeId === this.FRAMES_ID) {\r\n            this.frames.push(obj);\r\n          }\r\n          if (obj.itemTypeId === this.CONTACT_LENS_ID) {\r\n            this.contactlens.push(obj);\r\n          }\r\n        });\r\n        // this.pendingLensData.forEach((obj) => {\r\n        //   if (obj.itemTypeId === this.LENS_ID) {\r\n        //     this.lens.push(obj);\r\n        //   }\r\n        // });\r\n        this.fnToCalculateAmount();\r\n      }\r\n    });\r\n    this.showBillingSubscription = this.componentOpticalStoreService.showsBilling.subscribe(\r\n      val => {\r\n        if (val) {\r\n          this.showBillingFromPending = val;\r\n        }\r\n      }\r\n    );\r\n\r\n    this.activatedRoute.queryParams\r\n      .pipe(takeUntil(this.componentDesctructionNotifier))\r\n      .subscribe((params: Params) => {\r\n        this.orderType = params.type;\r\n        if (this.showBillingFromPending === 'pointofsale') {\r\n          this.prepareItems();\r\n        }\r\n      });\r\n    if (this.orderType === 'order') {\r\n      this.isShowOrderInfo = true;\r\n    }\r\n    this.fetchPaymentModes();\r\n    this.initForm();\r\n    this.paymentModesForm\r\n      .get('paidAmountByMode')\r\n      .valueChanges.subscribe(val => {\r\n        this.OnKeyUpPayingAmount(Number(val));\r\n      });\r\n    this.patientData = this.opticalStoreService.getPatientData();\r\n    this.opticalStoreService.setPatientData(null);\r\n  }\r\n  getTotalPaidAmtIncAdv(curPaymentObj) {\r\n    curPaymentObj.forEach(val => {\r\n      this.totalPaidAmntInAdv = Math.round(val.paidAmountByMode) + this.paymentData.paidAmt;\r\n    });\r\n  }\r\n  getTotalAmountWithDiscount(obj) {\r\n    return (this.getPieceAmt(obj) * (obj.orderQty || 0) - (obj.discountAmt || 0));\r\n  }\r\n  fnToCalculateAmount() {\r\n    this.totAmtWithDiscount = null;\r\n    this.totalCgstAmount = null;\r\n    const calculateTotAmtWithDiscount = (obj) => {\r\n      this.totAmtWithDiscount += this.getTotalAmountWithDiscount(obj);\r\n    };\r\n\r\n    this.pendingData.forEach(calculateTotAmtWithDiscount);\r\n    this.pendingLensData.forEach(calculateTotAmtWithDiscount);\r\n\r\n    this.totalCgstAmount = this.paymentData.totalCgstTaxAmt;\r\n    this.totalSgstAmount = this.paymentData.totalSgstTaxAmt;\r\n    this.pendingFinalAmount =\r\n      this.totAmtWithDiscount + this.totalCgstAmount + this.totalSgstAmount;\r\n    this.advanceAmount = this.paymentData.paidAmt;\r\n    if (this.pendingFinalAmount < this.advanceAmount) {\r\n      this.refundAmt = this.advanceAmount - this.pendingFinalAmount;\r\n    } else {\r\n      this.refundAmt = 0;\r\n    }\r\n    if (this.refundAmt > 0) {\r\n      this.pendingDueAmount = 0;\r\n      this.pendingFinalPayableAmount = 0;\r\n      this.totalDueAmount = 0;\r\n\r\n    } else {\r\n      this.pendingDueAmount = (this.pendingFinalAmount - this.advanceAmount).toFixed(2);\r\n      this.pendingFinalPayableAmount = this.pendingDueAmount || 0;\r\n      this.finalPayableAmount = Math.round(this.pendingFinalPayableAmount);\r\n      this.totalDueAmount = this.pendingFinalAmount - this.advanceAmount;\r\n    }\r\n    this.totalAMountInWords = `${this.utilService.toWords(\r\n      Math.round(this.pendingFinalAmount)\r\n    )} only`;\r\n  }\r\n\r\n  initForm() {\r\n    this.paymentModesForm = this.formbuilder.group({\r\n      paymentMode: this.formbuilder.control(null, Validators.required),\r\n      issuedBank: this.formbuilder.control(null),\r\n      chequeDdNo: this.formbuilder.control(null),\r\n      paymentDt: this.formbuilder.control(null, Validators.required),\r\n      paidAmountByMode: this.formbuilder.control(null, Validators.required)\r\n    });\r\n    this.pendindBillingForm = this.pendindBillingFormBuilder.group({});\r\n    const currentDate = this.datePipe.transform(new Date(), 'yyyy-MM-dd');\r\n    this.paymentModesForm.controls['paymentDt'].setValue(currentDate);\r\n  }\r\n\r\n  datePickerToggler(datePicker: MatDatepicker<Date>) {\r\n    datePicker[datePicker.opened ? 'close' : 'open']();\r\n  }\r\n\r\n  fetchPaymentModes() {\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      masterType: 'PAYMENT_MODE',\r\n      authenticatedUserId: this.sessionData.regId\r\n    };\r\n\r\n    this.loginService.fetchListOfCommonValues(payload).subscribe(\r\n      (response: any) => {\r\n        if (response.responseCode === 'E200') {\r\n          this.paymentModesList = response.data;\r\n          this.paymentModesList = this.paymentModesList.filter(function(value) {\r\n      return (value.attributeCode !== 'DD') && (value.attributeCode !== 'INSURANCE') && (value.attributeCode !== 'ONLINE');\r\n\r\n       });\r\n          this.paymentModesList.forEach(function (val) {\r\n            if (val.attributeCode === 'CHEQUE' || val.attributeCode === 'DD') {\r\n              val.modeValidation = true;\r\n            }\r\n          });\r\n        } else if (response.response === 'E400') {\r\n          this.toaster.error('Failure!', response.responseMessage);\r\n        }\r\n      },\r\n      err => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n\r\n  getPieceAmt(obj) {\r\n    const taxPercent = 100 + parseFloat(obj.cgstTaxPercntg) + parseFloat(obj.sgstTaxPercntg);\r\n    return Number(((obj.brandMrp * 100) / taxPercent).toFixed(2));\r\n  }\r\n\r\n  prepareItems() {\r\nif (this.selectedItems.length > 0) {\r\n    this.selectedItems.forEach(obj => {\r\n      let serviceAmount: any = {};\r\n      serviceAmount = obj;\r\n\r\n      serviceAmount.pieceAmt = this.getPieceAmt(obj);\r\n\r\n      if (this.orderType === 'order') {\r\n        serviceAmount.serviceAmt =\r\n          Number(obj.orderQty) * serviceAmount.pieceAmt;\r\n      } else {\r\n        serviceAmount.serviceAmt =\r\n          Number(obj.quantity) * serviceAmount.pieceAmt;\r\n      }\r\n      this.tempServicesAmt += serviceAmount.serviceAmt;\r\n      serviceAmount.taxAmt = (\r\n        serviceAmount.serviceAmt *\r\n        (Number(obj.cgstTaxPercntg / 100) + Number(obj.sgstTaxPercntg / 100))\r\n      ).toFixed(2);\r\n      serviceAmount.taxAmt = Number(serviceAmount.taxAmt);\r\n      serviceAmount.taxPercntg = Number(\r\n        obj.sgstTaxPercntg + obj.cgstTaxPercntg\r\n      );\r\n      if (this.orderType === 'order') {\r\n        serviceAmount.totalAmt = Number(obj.orderQty) * serviceAmount.brandMrp;\r\n      } else {\r\n        serviceAmount.totalAmt = Number(obj.quantity) * serviceAmount.brandMrp;\r\n      }\r\n      serviceAmount.cgstTaxAmt =\r\n        serviceAmount.serviceAmt * Number(obj.cgstTaxPercntg / 100);\r\n      serviceAmount.sgstTaxAmt =\r\n        serviceAmount.serviceAmt * Number(obj.sgstTaxPercntg / 100);\r\n      serviceAmount.cgstTaxAmt = serviceAmount.cgstTaxAmt.toFixed(3) / 1;\r\n      serviceAmount.sgstTaxAmt = serviceAmount.sgstTaxAmt.toFixed(3) / 1;\r\n      serviceAmount.unitAmt = serviceAmount.pieceAmt;\r\n      if (this.orderType === 'order') {\r\n        serviceAmount.orderQty = Number(obj.orderQty);\r\n        serviceAmount.posQty = Number(obj.orderQty);\r\n      } else {\r\n        serviceAmount.quantity = Number(obj.quantity);\r\n        serviceAmount.posQty = Number(obj.quantity);\r\n      }\r\n      // This is for Html\r\n      serviceAmount.itemBrandNm = obj.itemBrandNm;\r\n      serviceAmount.unitCost = obj.brandMrp;\r\n      serviceAmount.type = obj.type;\r\n      if (obj.type === 'Frame') {\r\n        this.showFrames = true;\r\n      }\r\n      if (obj.type === 'Contact Lense') {\r\n        this.showContactLens = true;\r\n        serviceAmount.insertPointOfSaleInventoryLensItemsReqAndRes =\r\n          obj.inventoryLensTrans;\r\n        delete serviceAmount.inventoryLensTrans;\r\n      }\r\n      if (obj.type === 'Lense') {\r\n        this.showLens = true;\r\n      }\r\n      this.amountList.push(serviceAmount);\r\n\r\n      // this.amountList = filter(this.amountList, function(obj) {\r\n      //    return obj.type !== 'Lense';\r\n      // });\r\n    });\r\n    this.fnCalculateTotalAmount();\r\n    this.framesList = this.amountList.filter(function (obj) {\r\n      return obj.type === 'frames';\r\n    });\r\n    this.lensList = this.amountList.filter(function (obj) {\r\n      return obj.type === 'Lense';\r\n    });\r\n  }\r\n  }\r\n\r\n  fnCalculateTotalAmount() {\r\n    this.totalInvoiceAmount = 0;\r\n    this.totalInvoiceDiscountAmount = 0;\r\n    this.totalInvoiceServiceAmount = 0;\r\n    this.totalInvoicetotalAmount = 0;\r\n    this.totalSgstTaxAmount = 0;\r\n    this.totalCgstTaxAmount = 0;\r\n    this.totalTaxAmount = 0;\r\n    this.amountList.forEach(val => {\r\n      this.totalInvoiceAmount += val.taxAmt + val.serviceAmt;\r\n      this.totalInvoiceDiscountAmount += Number(val.discountAmt) || 0;\r\n      this.totalInvoiceServiceAmount += val.serviceAmt;\r\n      this.totalInvoicetotalAmount += val.totalAmt;\r\n      this.totalCgstTaxAmount += val.cgstTaxAmt;\r\n      this.totalSgstTaxAmount += val.sgstTaxAmt;\r\n      this.totalTaxAmount += val.taxAmt;\r\n    });\r\n    this.totalInvoiceDiscountAmount = Math.round(\r\n      this.totalInvoiceDiscountAmount\r\n    );\r\n    this.totalInvoicetotalAmount = this.totalInvoicetotalAmount.toFixed(2) / 1;\r\n    this.totalInvoicetotalAmount = this.totalInvoicetotalAmount.toFixed(2) / 1;\r\n    this.totalSgstTaxAmount = this.totalSgstTaxAmount.toFixed(3) / 1;\r\n    this.totalCgstTaxAmount = this.totalCgstTaxAmount.toFixed(3) / 1;\r\n    this.totalInvoiceAmount = Math.round(this.totalInvoiceAmount);\r\n    this.totalAMountInWords = this.utilService.numberToWords(\r\n      Math.round(this.totalInvoiceAmount)\r\n    );\r\n    this.totalDueAmount = Math.round(this.totalInvoiceAmount);\r\n  }\r\n\r\n  getDiscountPercentage(pos) {\r\n    if (\r\n      isNaN(this.amountList[pos].discountAmt) ||\r\n      this.amountList[pos].discountAmt < 0\r\n    ) {\r\n      this.amountList[pos].discountAmt = '';\r\n      this.toaster.warning('Failure!', 'Discount should be a valid value');\r\n      return;\r\n    }\r\n    let totalServiceAmount;\r\n    if (\r\n      this.amountList[pos].discountAmt ||\r\n      this.amountList[pos].discountAmt === ''\r\n    ) {\r\n      if (this.orderType === 'order') {\r\n        totalServiceAmount = Number(\r\n          this.amountList[pos].orderQty * this.amountList[pos].pieceAmt\r\n        );\r\n      } else {\r\n        totalServiceAmount = Number(\r\n          this.amountList[pos].quantity * this.amountList[pos].pieceAmt\r\n        );\r\n      }\r\n      if (this.amountList[pos].discountAmt > totalServiceAmount) {\r\n        this.amountList[pos].discountAmt = '';\r\n        this.toaster.warning(\r\n          'Failure!',\r\n          'Discount should not be greater than Total Amount'\r\n        );\r\n        return;\r\n      }\r\n      this.amountList[pos].discountPercntg =\r\n        ((this.amountList[pos].discountAmt || 0) * 100) / totalServiceAmount;\r\n      this.amountList[pos].discountPercntg =\r\n        this.amountList[pos].discountPercntg.toFixed(2) / 1;\r\n      this.discCalc(pos);\r\n    }\r\n    if (this.amountList[pos].discountAmt === '') {\r\n      this.amountList[pos].discountPercntg = '';\r\n    }\r\n  }\r\n\r\n  getDiscountAmount = function (pos) {\r\n    if (\r\n      isNaN(this.amountList[pos].discountPercntg) ||\r\n      this.amountList[pos].discountPercntg < 0\r\n    ) {\r\n      this.amountList[pos].discountPercntg = '';\r\n      this.toaster.warning('Failure!', 'Discount should be a valid value');\r\n      return;\r\n    }\r\n    if (\r\n      this.amountList[pos].discountPercntg ||\r\n      this.amountList[pos].discountPercntg === ''\r\n    ) {\r\n      if (this.amountList[pos].discountPercntg > 100) {\r\n        this.amountList[pos].discountPercntg = '';\r\n        this.amountList[pos].discountAmt = '';\r\n        this.toaster.warning(\r\n          'Failure!',\r\n          'Discount should not be greater than 100%'\r\n        );\r\n      }\r\n      let totalServiceAmount;\r\n      if (this.orderType === 'order') {\r\n        totalServiceAmount = Number(\r\n          this.amountList[pos].orderQty * this.amountList[pos].pieceAmt\r\n        );\r\n      } else {\r\n        totalServiceAmount = Number(\r\n          this.amountList[pos].quantity * this.amountList[pos].pieceAmt\r\n        );\r\n      }\r\n      this.amountList[pos].discountAmt =\r\n        (totalServiceAmount * (this.amountList[pos].discountPercntg || 0)) /\r\n        100;\r\n      this.amountList[pos].discountAmt =\r\n        this.amountList[pos].discountAmt.toFixed(2) / 1;\r\n      this.discCalc(pos);\r\n    }\r\n    if (this.amountList[pos].discountPercntg === '') {\r\n      this.amountList[pos].discountAmt = '';\r\n    }\r\n  };\r\n\r\n  discCalc(pos) {\r\n    let totalServiceAmount;\r\n    if (this.orderType === 'order') {\r\n      totalServiceAmount = Number(\r\n        this.amountList[pos].orderQty * this.amountList[pos].pieceAmt\r\n      );\r\n    } else {\r\n      totalServiceAmount = Number(\r\n        this.amountList[pos].quantity * this.amountList[pos].pieceAmt\r\n      );\r\n    }\r\n    this.amountList[pos].totalAmt = 0;\r\n    this.amountList[pos].taxAmt = 0;\r\n    this.amountList[pos].serviceAmt =\r\n      totalServiceAmount - (this.amountList[pos].discountAmt || 0);\r\n    this.amountList[pos].serviceAmt =\r\n      this.amountList[pos].serviceAmt.toFixed(2) / 1;\r\n    this.amountList[pos].taxAmt =\r\n      this.amountList[pos].serviceAmt * (this.amountList[pos].taxPercntg / 100);\r\n    this.amountList[pos].cgstTaxAmt =\r\n      this.amountList[pos].serviceAmt *\r\n      Number(this.amountList[pos].cgstTaxPercntg / 100);\r\n    this.amountList[pos].sgstTaxAmt =\r\n      this.amountList[pos].serviceAmt *\r\n      Number(this.amountList[pos].sgstTaxPercntg / 100);\r\n    this.amountList[pos].cgstTaxAmt =\r\n      this.amountList[pos].cgstTaxAmt.toFixed(3) / 1;\r\n    this.amountList[pos].sgstTaxAmt =\r\n      this.amountList[pos].sgstTaxAmt.toFixed(3) / 1;\r\n    this.amountList[pos].taxAmt = this.amountList[pos].taxAmt.toFixed(2) / 1;\r\n    this.amountList[pos].totalAmt =\r\n      this.amountList[pos].taxAmt + this.amountList[pos].serviceAmt;\r\n    this.fnCalculateTotalAmount();\r\n  }\r\n\r\n  getTotalDiscountPercentage = function () {\r\n    if (isNaN(this.globalDiscAmt) || this.discountInAmount < 0) {\r\n      this.globalDiscPercent = '';\r\n      this.toaster.warning('Failure!', 'Discount should be a valid value');\r\n      return;\r\n    }\r\n    if (this.globalDiscAmt || this.globalDiscAmt === '') {\r\n      this.globalDiscPercent =\r\n        ((this.globalDiscAmt || 0) * 100) / this.tempServicesAmt;\r\n      this.globalDiscPercent = this.globalDiscPercent.toFixed(3) / 1;\r\n      if (this.globalDiscPercent > 100) {\r\n        this.globalDiscPercent = '';\r\n        this.globalDiscAmt = '';\r\n        this.toaster.warning(\r\n          'Failure!',\r\n          'Discount should not be greater than Total Amount'\r\n        );\r\n      }\r\n      this.globalDiscClac();\r\n    }\r\n    if (this.globalDiscAmt === '') {\r\n      this.globalDiscPercent = '';\r\n    }\r\n  };\r\n\r\n  globalDiscClac() {\r\n    this.totalCgstTaxAmount = 0;\r\n    this.totalSgstTaxAmount = 0;\r\n    this.totalInvoicetotalAmount = 0;\r\n    this.totalInvoiceAmount = 0;\r\n    this.totalInvoiceServiceAmount = 0;\r\n    this.totalInvoiceDiscountAmount = this.globalDiscAmt;\r\n    this.amountList.forEach(val => {\r\n      val.totalAmt = 0;\r\n      val.taxAmt = 0;\r\n      val.getQuantityServiceAmount = 0;\r\n      if (this.orderType === 'order') {\r\n        val.getQuantityServiceAmount = val.pieceAmt * val.orderQty;\r\n      } else {\r\n        val.getQuantityServiceAmount = val.pieceAmt * val.quantity;\r\n      }\r\n      val.discountPercntg = Number(this.globalDiscPercent);\r\n      val.discountAmt =\r\n        Number(\r\n          (\r\n            (this.globalDiscPercent * val.getQuantityServiceAmount) /\r\n            100\r\n          ).toFixed(2)\r\n        ) / 1;\r\n      val.serviceAmt =\r\n        Number((val.getQuantityServiceAmount - val.discountAmt).toFixed(2)) / 1;\r\n      val.taxAmt = (val.serviceAmt * val.taxPercntg) / 100;\r\n      val.taxAmt = val.taxAmt.toFixed(2) / 1;\r\n      val.cgstTaxAmt = val.taxAmt / 2;\r\n      val.sgstTaxAmt = val.taxAmt / 2;\r\n      val.cgstTaxAmt = val.cgstTaxAmt.toFixed(2) / 1;\r\n      val.sgstTaxAmt = val.sgstTaxAmt.toFixed(2) / 1;\r\n      val.discountPercntg = val.discountPercntg.toFixed(2) / 1;\r\n      val.discountAmt = val.discountAmt.toFixed(2) / 1;\r\n      val.totalAmt = Number((val.serviceAmt + val.taxAmt).toFixed(2) / 1);\r\n      this.totalInvoicetotalAmount += val.totalAmt;\r\n      this.totalInvoicetotalAmount =\r\n        this.totalInvoicetotalAmount.toFixed(2) / 1;\r\n      this.totalCgstTaxAmount += val.cgstTaxAmt.toFixed(2) / 1;\r\n      this.totalSgstTaxAmount += val.sgstTaxAmt.toFixed(2) / 1;\r\n\r\n      this.totalCgstTaxAmount = this.totalCgstTaxAmount.toFixed(2) / 1;\r\n      this.totalSgstTaxAmount = this.totalSgstTaxAmount.toFixed(2) / 1;\r\n      this.totalInvoiceAmount = Math.round(this.totalInvoicetotalAmount);\r\n      this.totalInvoiceServiceAmount += val.serviceAmt.toFixed(2) / 1;\r\n    });\r\n    this.totalAMountInWords = this.utilService.numberToWords(\r\n      Math.round(this.totalInvoiceAmount)\r\n    );\r\n    this.totalDueAmount = Math.round(this.totalInvoiceAmount);\r\n  }\r\n\r\n  getTotalDiscountAmount = function () {\r\n    if (isNaN(this.globalDiscPercent) || this.globalDiscPercent < 0) {\r\n      this.globalDiscAmt = '';\r\n      this.toaster.warning('Failure!', 'Discount should be a valid value');\r\n      return;\r\n    }\r\n    if (this.globalDiscPercent || this.globalDiscPercent === '') {\r\n      if (this.globalDiscPercent > 100) {\r\n        this.globalDiscAmt = '';\r\n        this.globalDiscPercent = '';\r\n        this.toaster.warning('Failure!', 'Discount should be a valid value');\r\n      }\r\n\r\n      this.globalDiscAmt =\r\n        (this.globalDiscPercent * this.tempServicesAmt) / 100;\r\n      this.globalDiscAmt = this.globalDiscAmt.toFixed(2) / 1;\r\n      this.globalDiscClac();\r\n    }\r\n    if (this.globalDiscPercent === '') {\r\n      this.globalDiscAmt = '';\r\n    }\r\n  };\r\n\r\n  addPaymentModes() {\r\n    const mode = { ...this.paymentModesForm.value };\r\n    this.paymentModesList = this.paymentModesList.filter(function(value) {\r\n      return value.attributeCode !== mode.paymentMode;\r\n    });\r\n    this.currentPaymentModesList.push({\r\n      ...this.paymentModesForm.value,\r\n      displayDt: this.datePipe.transform(\r\n        this.paymentModesForm.value.paymentDt,\r\n        'dd-MM-yyyy'\r\n      ),\r\n      paymentDt: this.datePipe.transform(\r\n        this.paymentModesForm.value.paymentDt,\r\n        'yyyy-MM-dd'\r\n      )\r\n    });\r\n    let decreaseAmt = 0;\r\n    if (this.currentPaymentModesList.length > 0) {\r\n      for (let i = 0; i < this.currentPaymentModesList.length; i++) {\r\n        decreaseAmt +=\r\n          Number(this.currentPaymentModesList[i].paidAmountByMode) || 0;\r\n      }\r\n      if (this.showBillingFromPending === 'pointofsale') {\r\n        if (\r\n          this.totalInvoiceAmount < decreaseAmt ||\r\n          this.totAmtWithDiscount < 0\r\n        ) {\r\n          this.toaster.warning(\r\n            'Failure!',\r\n            'Given amount is more than required payable amount'\r\n          );\r\n        }\r\n      }\r\n    }\r\n    if (this.showBillingFromPending === 'pointofsale') {\r\n      this.totalDueAmount = Math.round(this.totalInvoiceAmount - decreaseAmt);\r\n      this.storeValue = decreaseAmt;\r\n      this.paymentModesForm.reset();\r\n    } else if (this.showBillingFromPending === 'pendingOrders') {\r\n      this.totalDueAmount = Math.round(\r\n        this.pendingFinalPayableAmount - decreaseAmt\r\n      );\r\n    this.getTotalPaidAmtIncAdv(this.currentPaymentModesList);\r\n    this.paymentModesForm.reset();\r\n\r\n    }\r\n  }\r\n\r\n  removePaymentMode = function (index, mode) {\r\n    mode.attributeCode = mode.paymentMode;\r\n    this.paymentModesList.push(mode);\r\n    this.currentPaymentModesList.splice(index, index);\r\n    let decreaseAmt = 0;\r\n    if (this.currentPaymentModesList.length > 0) {\r\n      for (let i = 0; i < this.currentPaymentModesList.length; i++) {\r\n        decreaseAmt += Number(this.currentPaymentModesList[i].paidAmountByMode);\r\n      }\r\n    }\r\n    this.totalDueAmount = Math.round(this.totalInvoiceAmount - decreaseAmt);\r\n    this.storeValue = decreaseAmt;\r\n  };\r\n\r\n  OnKeyUpPayingAmount = function (val) {\r\n    if (val <= this.totalInvoiceAmount) {\r\n      this.disabledButn = false;\r\n    }\r\n    if (this.showBillingFromPending === 'pointofsale') {\r\n      if (val > this.totalInvoiceAmount) {\r\n        this.toaster.warning(\r\n          'Failure!',\r\n          'Given amount is more than required payable amount'\r\n        );\r\n        this.disabledButn = true;\r\n      }\r\n\r\n      if (this.storeValue) {\r\n        const addValue = this.storeValue + (val || 0);\r\n        if (addValue > this.totalInvoiceAmount) {\r\n          this.toaster.warning(\r\n            'Failure!',\r\n            'Given amount is more than required payable amount'\r\n          );\r\n          this.disabledButn = true;\r\n        }\r\n      }\r\n    }\r\n    let decreaseAmt = 0;\r\n    if (this.currentPaymentModesList.length > 0) {\r\n      for (let i = 0; i < this.currentPaymentModesList.length; i++) {\r\n        decreaseAmt +=\r\n          Number(this.currentPaymentModesList[i].paidAmountByMode) || 0;\r\n      }\r\n      if (this.totalInvoiceAmount < this.decreaseAmt) {\r\n        this.toaster.warning(\r\n          'Failure!',\r\n          'Given amount is more than required payable amount'\r\n        );\r\n        this.disabledButn = true;\r\n      }\r\n    }\r\n    if (this.showBillingFromPending === 'pendingOrders') {\r\n      if (this.pendingFinalPayableAmount <= this.pendingDueAmount) {\r\n        this.disabledButn = false;\r\n      } else {\r\n        this.toaster.warning(\r\n          'Failure!',\r\n          'Given amount is more than required payable amount'\r\n        );\r\n        this.disabledButn = true;\r\n      }\r\n    }\r\n  };\r\n\r\n  onChangePaymentMode() {\r\n    const modeVal = this.paymentModesForm.get('paymentMode').value;\r\n    // this.paymentModesForm.patchValue({ paidAmountByMode: this.totalInvoiceAmount });\r\n    if (this.showBillingFromPending === 'pendingOrders') {\r\n      this.paymentModesForm.patchValue({\r\n        paidAmountByMode: Math.round(this.totalDueAmount) || 0\r\n      });\r\n    } else if (this.showBillingFromPending === 'pointofsale') {\r\n      this.paymentModesForm.patchValue({\r\n        paidAmountByMode: this.totalDueAmount\r\n      });\r\n    }\r\n\r\n    if (modeVal === 'DD' || modeVal === 'CHEQUE') {\r\n      this.paymentModesForm.get('issuedBank').enable();\r\n      this.paymentModesForm.get('chequeDdNo').enable();\r\n      this.paymentModesForm\r\n        .get('issuedBank')\r\n        .setValidators(Validators.required);\r\n      this.paymentModesForm\r\n        .get('chequeDdNo')\r\n        .setValidators(Validators.required);\r\n    } else {\r\n      this.paymentModesForm.get('issuedBank').disable();\r\n      this.paymentModesForm.get('chequeDdNo').disable();\r\n      this.paymentModesForm.get('issuedBank').clearValidators();\r\n      this.paymentModesForm.get('chequeDdNo').clearValidators();\r\n    }\r\n\r\n\r\n  }\r\n\r\n  deleteService = function (pos) {\r\n    const dialogRef = this.dialog.open(ConfirmationDialogComponent, {\r\n      data: { title: 'Are You Sure Want To Delete ?' },\r\n\r\n      disableClose: true\r\n    });\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      if (result) {\r\n        if (this.totalInvoiceAmount > 0) {\r\n          this.totalInvoiceDiscountAmount -= Number(\r\n            this.amountList[pos].discountAmt\r\n          );\r\n          this.totalInvoiceServiceAmount -= this.amountList[pos].serviceAmt;\r\n          this.totalInvoicetotalAmount -= this.amountList[pos].totalAmt;\r\n          this.totalCgstTaxAmount -= this.amountList[pos].cgstTaxAmt;\r\n          this.totalSgstTaxAmount -= this.amountList[pos].sgstTaxAmt;\r\n        }\r\n        this.totalInvoiceDiscountAmount =\r\n          this.totalInvoiceDiscountAmount.toFixed(2) / 1;\r\n        this.totalInvoicetotalAmount =\r\n          this.totalInvoicetotalAmount.toFixed(2) / 1;\r\n        this.totalSgstTaxAmount = this.totalSgstTaxAmount.toFixed(3) / 1;\r\n        this.totalCgstTaxAmount = this.totalCgstTaxAmount.toFixed(3) / 1;\r\n        this.totalInvoiceAmount = Math.round(this.totalInvoicetotalAmount);\r\n        this.totalAMountInWords = this.numberTowords.transform(\r\n          Math.round(this.totalInvoiceAmount)\r\n        );\r\n        let decreaseAmt = 0;\r\n        if (this.currentPaymentModesList.length > 0) {\r\n          for (let m = 0; m < this.currentPaymentModesList.length; m++) {\r\n            decreaseAmt +=\r\n              Number(this.currentPaymentModesList[m].paidAmountByMode) || 0;\r\n          }\r\n          this.totalDueAmount = Math.round(\r\n            this.totalInvoiceAmount - decreaseAmt\r\n          );\r\n        } else {\r\n          this.totalDueAmount = Math.round(this.totalInvoiceAmount);\r\n        }\r\n        if (this.globalDiscPercent && this.globalDiscPercent !== '') {\r\n          this.globalDiscAmt = this.totalInvoiceDiscountAmount;\r\n        }\r\n        this.amountList.splice(pos, 1);\r\n        this.storeValue = decreaseAmt;\r\n        if (this.showBillingFromPending === 'pointofsale') {\r\n          this.totalDueAmount = Math.round(\r\n            this.totalInvoiceAmount - decreaseAmt\r\n          );\r\n        } else if (this.showBillingFromPending === 'pendingOrders') {\r\n          this.totalDueAmount = Math.round(\r\n            this.pendingFinalPayableAmount - decreaseAmt\r\n          );\r\n        }\r\n        this.changeDecRef.detectChanges();\r\n      }\r\n    });\r\n  };\r\n\r\n  requestInvoice() {\r\n    this.disablePayBtn = true;\r\n    //  this.count++;\r\n    if (this.totalDueAmount > 0) {\r\n      const dialogRef = this.dialog.open(CommentsDialogComponent, {\r\n        data: {\r\n          title: 'Remaining Due is ' + (this.totalDueAmount).toFixed(2),\r\n          data: 'Reason'\r\n        },\r\n        disableClose: true\r\n      });\r\n\r\n      dialogRef.afterClosed().subscribe(result => {\r\n        if (result) {\r\n          if (this.showBillingFromPending === 'pointofsale') {\r\n            this.invoiceSumbit(result);\r\n          } else if (this.showBillingFromPending === 'pendingOrders') {\r\n            this.invoicePaynPrint(result);\r\n          }\r\n        }\r\n      });\r\n    } else if (this.showBillingFromPending === 'pointofsale') {\r\n      this.invoiceSumbit();\r\n    } else if (this.showBillingFromPending === 'pendingOrders') {\r\n      this.invoicePaynPrint();\r\n    }\r\n  }\r\n  invoicePaynPrint(dueRemarks?: any) {\r\n    this.billDue = this.totalDueAmount;\r\n    const payload = {\r\n      createdUsrId: this.sessionData.regId,\r\n      advanceAmt: this.paymentData.paidAmt,\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      hosPatientId: this.paymentData.hosPatientId,\r\n      opticalItemOrderId: this.paymentData.opticalItemOrderId,\r\n      opticalOrderNo: this.paymentData.opticalOrderNo,\r\n      patientId: this.paymentData.patientId,\r\n      paymentMode: this.paymentData.paymentMode,\r\n      paymentModeList: this.currentPaymentModesList,\r\n      dueRemarks: this.paymentData.remarks,\r\n      totalBillDueAmt: this.billDue,\r\n      refundAmt: this.refundAmt,\r\n      totalPaidAmtIncludingAdvance: this.totalPaidAmntInAdv\r\n    };\r\n    if (this.currentPaymentModesList) {\r\n      for (let i = 0; i < this.currentPaymentModesList.length; i++) {\r\n        payload.paymentModeList[i].paymentSource = this.currentPaymentModesList[i].paymentMode;\r\n      }\r\n    }\r\n    if (this.paymentData.paidAmt >= 0) {\r\n      this.advance = {\r\n        paymentMode: 'ADVANCE',\r\n        paidAmountByMode: this.paymentData.paidAmt,\r\n        paymentSource: 'ADVANCE'\r\n      };\r\n    }\r\n    if (this.refundAmt > 0) {\r\n      this.refund = {\r\n        paymentMode: 'CASH',\r\n        paidAmountByMode: this.paymentData.paidAmt,\r\n        paymentSource: 'REFUND'\r\n      };\r\n    }\r\n    if ( this.paymentData.paidAmt > this.currentPaymentModesList[0].paidAmountByMode) {\r\n        payload.paymentMode = 'ADVANCE';\r\n    } else {\r\n     payload.paymentMode = this.currentPaymentModesList[0].paymentMode;\r\n  }\r\n    payload.paymentModeList.push(this.advance);\r\n    if (this.refundAmt > 0) {\r\n      payload.paymentModeList.push(this.refund);\r\n\r\n    }\r\n    this.opticalService.deliveringOrdersToUser(payload).subscribe((response) => {\r\n      // calling the same Api for pending orders\r\n      if (response.responseCode === 'E200') {\r\n        this.posPrint(response);\r\n        this.router.navigate(['../'], { relativeTo: this.activatedRoute });\r\n       } else if (response.responseCode === 'E400') {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n         }\r\n\r\n    },\r\n\r\n    (errorResponse: HttpErrorResponse) => {\r\n      if (errorResponse.status > 0) {\r\n        this.toaster.error(errorResponse.error.responseMessage, 'Error');\r\n      } else {\r\n        // network failure\r\n        this.toaster.error('Failure!', 'Network is slow' );\r\n      }\r\n      this.disablePayBtn = false;\r\n    }\r\n    );\r\n    this.cancel('billSuccess');\r\n    this.frames = [];\r\n    this.contactlens = [];\r\n    // this.lens = [];\r\n  }\r\n\r\n  invoiceSumbit(dueRemarks?: any) {\r\n    let url = 'insertOpticalPOS';\r\n    const requestInvoicePayload: any = {};\r\n    requestInvoicePayload.createdUsrId = this.sessionData.regId;\r\n    requestInvoicePayload.orgId = this.sessionData.orgId;\r\n    requestInvoicePayload.authenticatedUserId = this.sessionData.regId;\r\n    requestInvoicePayload.orgGrpId = this.sessionData.orgGroupId;\r\n    requestInvoicePayload.paidAmt = 0;\r\n    if (this.currentPaymentModesList.length > 0) {\r\n      this.currentPaymentModesList.forEach(item => {\r\n        requestInvoicePayload.paidAmt += Number(item.paidAmountByMode);\r\n      });\r\n    }\r\n\r\n    requestInvoicePayload.invoiceDueRemarks = dueRemarks && dueRemarks;\r\n    if (this.currentPaymentModesList) {\r\n      for (let i = 0; i < this.currentPaymentModesList.length; i++) {\r\n        this.currentPaymentModesList[\r\n          i\r\n        ].paymentSource = this.currentPaymentModesList[i].paymentMode;\r\n      }\r\n    }\r\n    requestInvoicePayload.paymentModeList = this.currentPaymentModesList;\r\n    requestInvoicePayload.totalBillAmt = this.totalInvoiceAmount;\r\n    requestInvoicePayload.totalBillDueAmt = this.totalDueAmount;\r\n    requestInvoicePayload.totalCgstTaxAmt = this.totalCgstTaxAmount;\r\n    requestInvoicePayload.totalDiscountAmt = this.totalInvoiceDiscountAmount;\r\n    requestInvoicePayload.totalServiceAmt = this.totalInvoiceServiceAmount;\r\n    requestInvoicePayload.totalSgstTaxAmt = this.totalSgstTaxAmount;\r\n    requestInvoicePayload.totalTaxAmt = this.totalTaxAmount;\r\n    requestInvoicePayload.paymentMode = this.currentPaymentModesList.length > 0 ? this.currentPaymentModesList[0].paymentMode : null;\r\n    requestInvoicePayload.patientDetailsDto = this.patientDetails;\r\n    if (this.patientDetails.birthDt) {\r\n      requestInvoicePayload.patientDetailsDto.birthDt = this.datePipe.transform(\r\n        requestInvoicePayload.patientDetailsDto.birthDt,\r\n        'yyyy-MM-dd'\r\n      );\r\n    } else {\r\n      requestInvoicePayload.patientDetailsDto.patientAge = this.utilService.getAgeInDays(\r\n        this.patientDetails.patientAgeYear,\r\n        this.patientDetails.patientAgeMonth,\r\n        this.patientDetails.patientAgeDays\r\n      );\r\n    }\r\n    Object.keys(requestInvoicePayload.patientDetailsDto).forEach(\r\n      key =>\r\n        requestInvoicePayload.patientDetailsDto[key] == null &&\r\n        delete requestInvoicePayload.patientDetailsDto[key]\r\n    );\r\n    requestInvoicePayload.patientDetailsDto.orgGrpId = this.sessionData.orgGroupId;\r\n    requestInvoicePayload.patientDetailsDto.orgId = this.sessionData.orgId;\r\n\r\n    if (this.orderType === 'order') {\r\n      requestInvoicePayload.insertOpticalOrdersFrameAndContactLensItemsReqAndRes = this.amountList.filter(\r\n        data => {\r\n          return data.itemTypeId !== 101;\r\n        }\r\n      );\r\n      requestInvoicePayload.insertOpticalOrdersLensItemReqAndRes = this.lensList;\r\n      if (this.lensList.length > 0) {\r\n        requestInvoicePayload.expectedDt = this.lensList[0].expectedDt;\r\n      } else {\r\n      }\r\n    } else {\r\n      requestInvoicePayload.insertPointOfSaleInventoryItemsReqAndRes = this.amountList;\r\n      requestInvoicePayload.insertPointOfSaleLensReqAndRes = this.lensList;\r\n    }\r\n\r\n    requestInvoicePayload.discountRemarks =\r\n      this.discountRemark && this.discountRemark;\r\n    // below url for order\r\n    console.log(url);\r\n    if (this.orderType === 'order') {\r\n      url = 'insertOpticalOrders';\r\n    }\r\n    if (this.subscription) {\r\n      this.subscription.unsubscribe();\r\n    }\r\n    console.log(url);\r\n    this.subscription = this.opticalService[url](\r\n      requestInvoicePayload\r\n      ).subscribe(\r\n        (response) => {\r\n        console.log('ok1', response);\r\n        if (response.responseCode === 'E200') {\r\n          this.toaster.success(response.responseMessage, 'Success!');\r\n          this.opticalItemOrderId = response.data;\r\n\r\n          // const canvas = document.createElement('canvas');\r\n          // this.jsbarcode(canvas, response.data.opticalBillNo, {\r\n          //     format: 'code128',\r\n          //     height: 60,\r\n          //     displayValue: false\r\n          // });\r\n          // response.data.invoiceBarCode = canvas.toDataURL('image/png');\r\n\r\n          if (this.orderType === 'order') {\r\n            this.printPendingOrders();\r\n            if (this.lensList.length > 0) {\r\n            this.fetchOpticalWorkSopReferenceReport();\r\n            }\r\n          } else {\r\n            this.posPrint(response);\r\n          }\r\n          // fetchSaleReportr\r\n          this.cancel('billSuccess');\r\n          this.disablePayBtn = false;\r\n\r\n          // this.count++;\r\n        } else if (response.responseCode === 'E400') {\r\n          console.log('ok');\r\n          this.toaster.error(response.responseMessage);\r\n          this.disablePayBtn = false;\r\n        }\r\n      },\r\n      (errorResponse: HttpErrorResponse) => {\r\n        if (errorResponse.status > 0) {\r\n          this.toaster.error(errorResponse.error.responseMessage, 'Error');\r\n        } else {\r\n          // network failure\r\n          this.toaster.error('Failure!', 'Network is slow' );\r\n        }\r\n        this.disablePayBtn = false;\r\n      }\r\n    );\r\n  }\r\n\r\n  async invoicePrint(response) {\r\n    const printSettings: any = this.componentOpticalStoreService.getPrintSettings();\r\n    if (\r\n      response.data.insertPointOfSaleInventoryItemsReqAndRes &&\r\n      response.data.insertPointOfSaleInventoryItemsReqAndRes.length\r\n    ) {\r\n      response.data.insertPointOfSaleInventoryItemsReqAndRes = response.data.insertPointOfSaleInventoryItemsReqAndRes.filter(\r\n        data => {\r\n          return data.itemTypeId !== 101;\r\n        }\r\n      );\r\n    }\r\n    const summary: any = {};\r\n    summary.totalAmount = 0 + response.data.totalServiceAmt;\r\n    summary.totalCgst = 0 + response.data.totalCgstTaxAmt;\r\n    summary.totalSgst = 0 + response.data.totalSgstTaxAmt;\r\n    summary.finalAmount = 0 + response.data.totalBillAmt;\r\n    summary.invoiceDueAmount = 0 + response.data.totalBillDueAmt;\r\n    const invoiceData = <any>{\r\n      tableData: [['#', 'Brand Name', 'Qty.', 'Amt.', 'Discount']],\r\n      invoiceSummary: [\r\n        ['Total Amount', 'Rs. ' + summary.totalAmount.toFixed(2)]\r\n      ]\r\n    };\r\n    let i, j;\r\n\r\n    invoiceData.tableData[0].push('CGST', 'SGST');\r\n    invoiceData.invoiceSummary.push(\r\n      ['Total CGST', 'Rs. ' + parseFloat(summary.totalCgst).toFixed(2)],\r\n      ['Total SGST', 'Rs. ' + parseFloat(summary.totalSgst).toFixed(2)]\r\n    );\r\n\r\n    invoiceData.tableData[0].push('Net Amt.');\r\n    invoiceData.invoiceSummary.push([\r\n      'Final Amount',\r\n      'Rs. ' + Math.round(summary.finalAmount).toFixed(2)\r\n    ]);\r\n\r\n    for (\r\n      i = 0, j = response.data.insertPointOfSaleInventoryItemsReqAndRes.length;\r\n      i < j;\r\n      i++\r\n    ) {\r\n      response.data.insertPointOfSaleInventoryItemsReqAndRes[i].discountAmt =\r\n        response.data.insertPointOfSaleInventoryItemsReqAndRes[i].discountAmt ||\r\n        0;\r\n      const row: any = [\r\n        i + 1,\r\n        response.data.insertPointOfSaleInventoryItemsReqAndRes[i].itemBrandNm,\r\n        response.data.insertPointOfSaleInventoryItemsReqAndRes[i].posQty,\r\n        response.data.insertPointOfSaleInventoryItemsReqAndRes[\r\n          i\r\n        ].serviceAmt.toFixed(2) / 1,\r\n        response.data.insertPointOfSaleInventoryItemsReqAndRes[i].discountAmt,\r\n        response.data.insertPointOfSaleInventoryItemsReqAndRes[i].cgstTaxAmt,\r\n        response.data.insertPointOfSaleInventoryItemsReqAndRes[i].sgstTaxAmt\r\n        // Number((response.data.insertPointOfSaleInventoryItemsReqAndRes[i].serviceAmt) -\r\n        // (response.data.insertPointOfSaleInventoryItemsReqAndRes[i].discountAmt)).toFixed(2) / 1\r\n      ];\r\n      const netAmt =\r\n        response.data.insertPointOfSaleInventoryItemsReqAndRes[i].serviceAmt -\r\n        response.data.insertPointOfSaleInventoryItemsReqAndRes[i].discountAmt;\r\n      row.push(Number(netAmt.toFixed(2)) / 1);\r\n      invoiceData.tableData.push(row);\r\n      // the below lens values are consider from contact lens\r\n      if (\r\n        response.data.insertPointOfSaleInventoryItemsReqAndRes[i]\r\n          .insertContactLensSaleOrOrder\r\n      ) {\r\n        const contactlensValues =\r\n          response.data.insertPointOfSaleInventoryItemsReqAndRes[i]\r\n            .insertContactLensSaleOrOrder;\r\n        const contactlensArr = [\r\n          {\r\n            table: {\r\n              widths: ['*', '*', '*', '*', '*', '*', '*', '*', '*', '*'],\r\n              body: [\r\n                [\r\n                  {\r\n                    text: 'Type',\r\n                    bold: true\r\n                  },\r\n                  {\r\n                    text: 'Sph',\r\n                    bold: true\r\n                  },\r\n                  {\r\n                    text: 'Cyl',\r\n                    bold: true\r\n                  },\r\n                  {\r\n                    text: 'Axis',\r\n                    bold: true\r\n                  },\r\n                  {\r\n                    text: 'VA',\r\n                    bold: true\r\n                  },\r\n                  {\r\n                    text: 'Type',\r\n                    bold: true\r\n                  },\r\n                  {\r\n                    text: 'Sph',\r\n                    bold: true\r\n                  },\r\n                  {\r\n                    text: 'Cyl',\r\n                    bold: true\r\n                  },\r\n                  {\r\n                    text: 'Axis',\r\n                    bold: true\r\n                  },\r\n                  {\r\n                    text: 'VA',\r\n                    bold: true\r\n                  }\r\n                ],\r\n                [\r\n                  {\r\n                    text: 'Right Dist',\r\n                    bold: true\r\n                  },\r\n                  {\r\n                    text: contactlensValues.distanceRightSph || ''\r\n                  },\r\n                  {\r\n                    text: contactlensValues.distanceRightCyl || ''\r\n                  },\r\n                  {\r\n                    text: contactlensValues.distanceRightAxis || ''\r\n                  },\r\n                  {\r\n                    text: contactlensValues.distanceRightVa || ''\r\n                  },\r\n                  {\r\n                    text: 'Left Dist',\r\n                    bold: true\r\n                  },\r\n                  {\r\n                    text: contactlensValues.distanceLeftSph || ''\r\n                  },\r\n                  {\r\n                    text: contactlensValues.distanceLeftCyl || ''\r\n                  },\r\n                  {\r\n                    text: contactlensValues.distanceLeftAxis || ''\r\n                  },\r\n                  {\r\n                    text: contactlensValues.distanceLeftVa || ''\r\n                  }\r\n                ],\r\n                [\r\n                  {\r\n                    text: 'Right Near',\r\n                    bold: true\r\n                  },\r\n                  {\r\n                    text: contactlensValues.nearRightSph || ''\r\n                  },\r\n                  {\r\n                    text: contactlensValues.nearRightCyl || ''\r\n                  },\r\n                  {\r\n                    text: contactlensValues.nearRightAxis || ''\r\n                  },\r\n                  {\r\n                    text: contactlensValues.nearRightVa || ''\r\n                  },\r\n                  {\r\n                    text: 'Left Near',\r\n                    bold: true\r\n                  },\r\n                  {\r\n                    text: contactlensValues.nearLeftSph || ''\r\n                  },\r\n                  {\r\n                    text: contactlensValues.nearLeftCyl || ''\r\n                  },\r\n                  {\r\n                    text: contactlensValues.nearLeftAxis || ''\r\n                  },\r\n                  {\r\n                    text: contactlensValues.nearLeftVa || ''\r\n                  }\r\n                ]\r\n              ]\r\n            },\r\n            fontSize: 9,\r\n            color: '#444',\r\n            layout: {\r\n              hLineColor: () => '#444',\r\n              vLineColor: () => '#444'\r\n            },\r\n            colSpan: 8\r\n          },\r\n          '',\r\n          '',\r\n          '',\r\n          '',\r\n          '',\r\n          '',\r\n          ''\r\n        ];\r\n        invoiceData.tableData.push(contactlensArr);\r\n      }\r\n    }\r\n    // the below lens values are consider from Lens Tab\r\n    for (\r\n      i = 0, j = response.data.insertPointOfSaleLensReqAndRes.length;\r\n      i < j;\r\n      i++\r\n    ) {\r\n      response.data.insertPointOfSaleLensReqAndRes[i].discountAmt =\r\n        response.data.insertPointOfSaleLensReqAndRes[i].discountAmt || 0;\r\n      const row: any = [\r\n        i + 1,\r\n        response.data.insertPointOfSaleLensReqAndRes[i].itemBrandNm,\r\n        response.data.insertPointOfSaleLensReqAndRes[i].posQty,\r\n        response.data.insertPointOfSaleLensReqAndRes[i].serviceAmt.toFixed(2) /\r\n        1,\r\n        response.data.insertPointOfSaleLensReqAndRes[i].discountAmt,\r\n        response.data.insertPointOfSaleLensReqAndRes[i].cgstTaxAmt,\r\n        response.data.insertPointOfSaleLensReqAndRes[i].sgstTaxAmt\r\n        // Number((response.data.insertPointOfSaleInventoryItemsReqAndRes[i].serviceAmt) -\r\n        // (response.data.insertPointOfSaleInventoryItemsReqAndRes[i].discountAmt)).toFixed(2) / 1\r\n      ];\r\n      const netAmt =\r\n        response.data.insertPointOfSaleLensReqAndRes[i].serviceAmt -\r\n        response.data.insertPointOfSaleLensReqAndRes[i].discountAmt;\r\n      row.push(Number(netAmt.toFixed(2)) / 1);\r\n      invoiceData.tableData.push(row);\r\n\r\n      if (\r\n        response.data.insertPointOfSaleLensReqAndRes[i]\r\n          .lensPrescriptionReqAndRes\r\n      ) {\r\n        const lensValues =\r\n          response.data.insertPointOfSaleLensReqAndRes[i]\r\n            .lensPrescriptionReqAndRes;\r\n        const lensArr = [\r\n          {\r\n            table: {\r\n              widths: ['*', '*', '*', '*', '*', '*', '*', '*', '*', '*'],\r\n              body: [\r\n                [\r\n                  {\r\n                    text: 'Type',\r\n                    bold: true\r\n                  },\r\n                  {\r\n                    text: 'Sph',\r\n                    bold: true\r\n                  },\r\n                  {\r\n                    text: 'Cyl',\r\n                    bold: true\r\n                  },\r\n                  {\r\n                    text: 'Axis',\r\n                    bold: true\r\n                  },\r\n                  {\r\n                    text: 'VA',\r\n                    bold: true\r\n                  },\r\n                  {\r\n                    text: 'Type',\r\n                    bold: true\r\n                  },\r\n                  {\r\n                    text: 'Sph',\r\n                    bold: true\r\n                  },\r\n                  {\r\n                    text: 'Cyl',\r\n                    bold: true\r\n                  },\r\n                  {\r\n                    text: 'Axis',\r\n                    bold: true\r\n                  },\r\n                  {\r\n                    text: 'VA',\r\n                    bold: true\r\n                  }\r\n                ],\r\n                [\r\n                  {\r\n                    text: 'Right Dist',\r\n                    bold: true\r\n                  },\r\n                  {\r\n                    text: lensValues.distanceRightSph || ''\r\n                  },\r\n                  {\r\n                    text: lensValues.distanceRightCyl || ''\r\n                  },\r\n                  {\r\n                    text: lensValues.distanceRightAxis || ''\r\n                  },\r\n                  {\r\n                    text: lensValues.distanceRightVa || ''\r\n                  },\r\n                  {\r\n                    text: 'Left Dist',\r\n                    bold: true\r\n                  },\r\n                  {\r\n                    text: lensValues.distanceLeftSph || ''\r\n                  },\r\n                  {\r\n                    text: lensValues.distanceLeftCyl || ''\r\n                  },\r\n                  {\r\n                    text: lensValues.distanceLeftAxis || ''\r\n                  },\r\n                  {\r\n                    text: lensValues.distanceLeftVa || ''\r\n                  }\r\n                ],\r\n                [\r\n                  {\r\n                    text: 'Right Near',\r\n                    bold: true\r\n                  },\r\n                  {\r\n                    text: lensValues.nearRightSph || ''\r\n                  },\r\n                  {\r\n                    text: lensValues.nearRightCyl || ''\r\n                  },\r\n                  {\r\n                    text: lensValues.nearRightAxis || ''\r\n                  },\r\n                  {\r\n                    text: lensValues.nearRightVa || ''\r\n                  },\r\n                  {\r\n                    text: 'Left Near',\r\n                    bold: true\r\n                  },\r\n                  {\r\n                    text: lensValues.nearLeftSph || ''\r\n                  },\r\n                  {\r\n                    text: lensValues.nearLeftCyl || ''\r\n                  },\r\n                  {\r\n                    text: lensValues.nearLeftAxis || ''\r\n                  },\r\n                  {\r\n                    text: lensValues.nearLeftVa || ''\r\n                  }\r\n                ]\r\n              ]\r\n            },\r\n            fontSize: 9,\r\n            color: '#444',\r\n            layout: {\r\n              hLineColor: () => '#444',\r\n              vLineColor: () => '#444'\r\n            },\r\n            colSpan: 8\r\n          },\r\n          '',\r\n          '',\r\n          '',\r\n          '',\r\n          '',\r\n          '',\r\n          ''\r\n        ];\r\n        invoiceData.tableData.push(lensArr);\r\n      }\r\n    }\r\n    response.data.insertPointOfSaleInventoryItemsReqAndRes = invoiceData.header = {\r\n      due: summary.invoiceDueAmount && Math.round(summary.invoiceDueAmount),\r\n      companyName: this.sessionData.orgList[0].orgName,\r\n      companyAddress: [\r\n        (this.sessionData.orgInfo.addressOne\r\n          ? this.sessionData.orgInfo.addressOne + ', '\r\n          : '') +\r\n        (this.sessionData.orgInfo.city\r\n          ? this.sessionData.orgInfo.city + ', '\r\n          : ''),\r\n        (this.sessionData.orgInfo.state\r\n          ? this.sessionData.orgInfo.state + ', '\r\n          : '') + this.sessionData.orgInfo.country\r\n      ]\r\n    };\r\n\r\n    const firstName = response.data.patientDetailsDto.firstNm,\r\n      lastName = response.data.patientDetailsDto.lastNm;\r\n\r\n    invoiceData.billTo = {\r\n      address: [\r\n        response.data.patientDetailsDto.aadhaarNo || '',\r\n        (firstName ? firstName : '') + ' ' + (lastName ? lastName : ''), // patient name\r\n        response.data.patientDetailsDto.emailId || '',\r\n        response.data.patientDetailsDto.hosPatientId || '',\r\n        this.utilService.toTitleCase(\r\n          response.data.patientDetailsDto.addressLine1\r\n        ) || ''\r\n      ]\r\n    };\r\n    const canvas = document.createElement('canvas');\r\n    this.jsbarcode(canvas, response.data.opticalBillNo, {\r\n      format: 'code39',\r\n      height: 1000,\r\n      displayValue: false\r\n    });\r\n    response.data.invoiceBarCode = canvas.toDataURL('image/png');\r\n    invoiceData.invoice = {\r\n      id: response.data.opticalBillNo || '',\r\n      invoiceBarcode: canvas.toDataURL('image/png'),\r\n      date: this.datePipe.transform(new Date(), 'dd-MM-yyyy'),\r\n      terms: 'Due on Receipt'\r\n    };\r\n\r\n    // invoiceData.totAmtInWords = utilService.inWords(Math.round(data.data[0].totalInvoiceAmount)) + ' only';\r\n    invoiceData.totAmtInWords =\r\n      this.utilService.toTitleCase(\r\n        'Rupees ' +\r\n        this.utilService.numberToWords(Math.round(summary.finalAmount))\r\n      ) + 'only';\r\n\r\n    const profileImage = await this.utilService.convertToDataURLviaCanvas(\r\n      `${this.sessionData.imagePath}?q=${new Date().getTime()}`\r\n    );\r\n\r\n    printSettings.hzHeader.profileLogo = profileImage;\r\n    this.componentOpticalStoreService.getInvoicePrint(\r\n      invoiceData,\r\n      printSettings\r\n    );\r\n  }\r\n  // print related api\r\n  posPrint(data) {\r\n    const queryparams = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId,\r\n      pointOfSaleId: data.data.pointOfSaleId\r\n    };\r\n    this.reportsService.fetchOpticalPosReport(queryparams).subscribe(\r\n      response => {\r\n        if (response instanceof ArrayBuffer) {\r\n          const posReport = new Blob([response], {\r\n            type: 'application/pdf'\r\n          });\r\n          const reportURL = URL.createObjectURL(posReport);\r\n          const win = window.open('', '_blank');\r\n          win.location.href = reportURL;\r\n          setTimeout(() => {\r\n            win.print();\r\n          }, 1000);\r\n        } else if (response.responseCode) {\r\n          this.toaster.error('Failure!', response.responseMessage);\r\n        }\r\n      },\r\n      () => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n\r\n  cancel(from?: string) {\r\n    if (from) {\r\n      this.amountList = [];\r\n      this.currentPaymentModesList = [];\r\n      this.cancelBilling.emit();\r\n    } else {\r\n      const dialogRef = this.dialog.open(ConfirmationDialogComponent, {\r\n        data: { title: 'Are You Sure Want To Cancel ?' },\r\n        disableClose: true\r\n      });\r\n      dialogRef.afterClosed().subscribe(result => {\r\n        if (result) {\r\n          this.amountList = [];\r\n          this.currentPaymentModesList = [];\r\n          this.cancelBilling.emit();\r\n          this.paymentData = [];\r\n          // this.router.navigate(['../app-optical-point-of-sale'], { relativeTo: this.activatedRoute });\r\n          if (this.showBillingFromPending === 'pointofsale') {\r\n\r\n            this.router.navigate(['../optical-point-of-sale'], { relativeTo: this.activatedRoute });\r\n      } else  if (this.showBillingFromPending === 'pendingOrders') {\r\n        this.router.navigate(['../'], { relativeTo: this.activatedRoute });\r\n          }  }\r\n      });\r\n    }\r\n  }\r\n\r\n  printPendingOrders() {\r\n    const queryparams = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId,\r\n      opticalItemOrderId: this.opticalItemOrderId\r\n    };\r\n    this.reportsService.fetchOpticalOrderSaleReport(queryparams).subscribe(\r\n      response => {\r\n        if (response instanceof ArrayBuffer) {\r\n          const orderRePrint = new Blob([response], {\r\n            type: 'application/pdf'\r\n          });\r\n          const reportURL = URL.createObjectURL(orderRePrint);\r\n          const win = window.open('', '_blank');\r\n          win.location.href = reportURL;\r\n          setTimeout(() => {\r\n            win.print();\r\n          }, 1000);\r\n        } else if (response.responseCode) {\r\n          this.toaster.error('Failure!', response.responseMessage);\r\n        }\r\n      },\r\n      () => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n  fetchOpticalWorkSopReferenceReport() {\r\n    const queryparams = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId,\r\n      opticalItemOrderId: this.opticalItemOrderId\r\n    };\r\n    this.reportsService\r\n      .fetchOpticalWorkSopReferenceReport(queryparams)\r\n      .subscribe(\r\n        response => {\r\n          if (response instanceof ArrayBuffer) {\r\n            const orderRePrint = new Blob([response], {\r\n              type: 'application/pdf'\r\n            });\r\n            const reportURL = URL.createObjectURL(orderRePrint);\r\n            const win = window.open('', '_blank');\r\n            win.location.href = reportURL;\r\n            setTimeout(() => {\r\n              win.print();\r\n            }, 1000);\r\n          } else if (response.responseCode) {\r\n            this.toaster.error('Failure!', response.responseMessage);\r\n          }\r\n        },\r\n        () => {\r\n          this.toaster.error('Failure!', 'Something went wrong');\r\n        }\r\n      );\r\n  }\r\n  ngOnDestroy() {\r\n    // this.cancelBilling.emit();\r\n    this.componentDesctructionNotifier.next(true);\r\n\r\n    // this.componentOpticalStoreService.paymentData.next([]);\r\n    this.componentDesctructionNotifier.complete();\r\n  }\r\n}\r\n","<div class=\"pos_Invoice\">\r\n  <div *ngIf=\"!rowNode.data.cancelReason\">\r\n    <i class=\"fas fa-times bg-crusta p-r-20\"  aria-hidden=\"true\" (click)=\"deleteSelectedRow()\"></i>\r\n    <i class=\"fas fa-reply txt-iris-blue p-r-20\" aria-hidden=\"true\" (click)=\"returnSelectedRow()\"></i>\r\n    <i class=\"fas fa-print txt-light-green\" aria-hidden=\"true\" (click)=\"printInvoice()\"></i>\r\n    <!-- <button type='button' (click)=\"returnSelectedRow()\">Return</button> -->\r\n    <!-- <a class=\"ag-grid-pay-now-text-color\" (click)=\"returnSelectedRow()\">Return</a> -->\r\n\r\n  </div>\r\n  <!-- <i class=\"fas fa-reply bg-crusta\" aria-hidden=\"true\" (click)=\"returnSelectedRow()\"></i> -->\r\n</div>\r\n","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { AgRendererComponent, ICellRendererAngularComp } from 'ag-grid-angular';\r\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\r\nimport { ICellRendererParams } from 'ag-grid/dist/lib/rendering/cellRenderers/iCellRenderer';\r\nimport { RowNode } from 'ag-grid/dist/lib/entities/rowNode';\r\nimport { GridApi } from 'ag-grid/dist/lib/gridApi';\r\nimport { OpticalStoreApiService, JSBARCODE } from '@core/services';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { OpticalStoreService } from '@app/modules/optical-store/opticalStore.service';\r\nimport { CommentsDialogComponent } from '@shared/components/comments-dialog/comments-dialog.component';\r\nimport { UserSession } from '@core/models/user-session';\r\nimport { UserService } from '@core/services/user.service';\r\nimport { UtilService } from '@core/services/utils.service';\r\nimport { DatePipe } from '@angular/common';\r\nimport { OpticalInvoiceListComponent } from '../optical-invoice-list.component';\r\nimport { AutoUnsubscribe } from 'ngx-auto-unsubscribe';\r\n// @AutoUnsubscribe()\r\n@Component({\r\n  selector: 'app-pos-inventory',\r\n  templateUrl: './optical-actions-list.component.html',\r\n  styleUrls: ['./../optical-invoice-list.component.scss']\r\n})\r\nexport class PosInvoiceListComponent\r\n  implements OnInit, ICellRendererAngularComp {\r\n  public rowNode: RowNode;\r\n  private api: GridApi;\r\n  private params: ICellRendererParams;\r\n  private selectedRows: any[] = [];\r\n  private sessionData: UserSession;\r\n  private parentComponent: OpticalInvoiceListComponent;\r\n\r\n  constructor(\r\n    private componentOpticalStoreService: OpticalStoreService,\r\n    public dialog: MatDialog,\r\n    private opticalService: OpticalStoreApiService,\r\n    private toastr: ToastrService,\r\n    userService: UserService,\r\n    @Inject(JSBARCODE) private jsbarcode,\r\n    private toaster: ToastrService,\r\n    private datePipe: DatePipe,\r\n    private utilService: UtilService\r\n  ) {\r\n    this.sessionData = userService.getUser();\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  agInit(params: ICellRendererParams): void {\r\n    this.api = params.api;\r\n    this.rowNode = params.node;\r\n    this.params = params;\r\n    this.parentComponent = params.context.componentParent;\r\n  }\r\n\r\n  deleteSelectedRow() {\r\n    const dialogRef = this.dialog.open(CommentsDialogComponent, {\r\n      data: {\r\n        title: 'Cancel Invoice',\r\n        data: 'Provide Reason'\r\n      },\r\n      disableClose: true\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      if (result) {\r\n        const deletePayload = {\r\n          orgId: this.sessionData.orgId,\r\n          orgGrpId: this.sessionData.orgGroupId,\r\n          createdUsrId: this.sessionData.regId,\r\n          cancelUsrId: this.sessionData.regId,\r\n          cancelReason: result,\r\n          deleteUsrId: this.sessionData.regId,\r\n          pointOfSaleId: this.rowNode.data.pointOfSaleId,\r\n          totalBillDueAmt: this.rowNode.data.totalBillDueAmt,\r\n          opticalBillNo: this.rowNode.data.opticalBillNo,\r\n          patientId: this.rowNode.data.patientId,\r\n          totalPaidAmt: this.rowNode.data.paidAmt\r\n        };\r\n        this.opticalService.deletePos(deletePayload).subscribe(\r\n          (response: any) => {\r\n            if (response.responseCode === 'E200') {\r\n              this.params.context.componentParent.fetchPointOfSaleInventory();\r\n              // this.api.removeItems([this.rowNode]);\r\n              this.toastr.success('Success!', response.responseMessage);\r\n            } else if (response.response === 'E400') {\r\n              this.toastr.error('Failure!', response.responseMessage);\r\n            }\r\n          },\r\n          err => {\r\n            this.toastr.error('Failure!', 'Something went wrong');\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  returnSelectedRow() {\r\n    this.params.context.componentParent.onReturnItem(this.rowNode);\r\n  }\r\n\r\n  refresh(): boolean {\r\n    return false;\r\n  }\r\n\r\n // print functionality ( present in parent component(optical-invoice-list.component))\r\n  printInvoice() {\r\n    if (this.parentComponent) {\r\n      this.parentComponent.posPrint(this.params.data);\r\n    }\r\n  }\r\n}\r\n","<div class=\"optical-point-of-sale-invoice m-b-10 bg-white border-all-side border-radius-all-side col-md-12 p-0\">\r\n  <div class=\"col-md-12\">\r\n    <div class=\"box-panel-form bg-white col-md-12 p-0 p-t-10 border-radius-all-side p-t-10 p-b-10\">\r\n      <form [formGroup]=\"pointOfSaleSearchForm\" (ngSubmit)=\"fetchPointOfSaleInventory()\">\r\n        <div class=\"row m-0 p-0 m-b-10\">\r\n          <div class=\"col-md-2 p-0 col-xs-12\">\r\n            <label class=\"txt-iris-blue\" for=\"manufactureDate\">From Date</label>\r\n            <p class=\"input-group m-b-0 \">\r\n              <input id=\"from_date1\" type=\"text\" class=\"form-control\" [max]=\"dateMax\" [min]=\"dateMin\" (dateChange)=\"changeDateFunction()\" [matDatepicker]=\"fromDate\" formControlName=\"fromDate\">\r\n              <mat-datepicker #fromDate></mat-datepicker>\r\n              <span class=\"input-group-btn\">\r\n                <button id=\"fromdate\" class=\"btn btn-default btn-padding\" type=\"button\" (click)=\"datePickerToggler(fromDate)\">\r\n                  <i class=\"fa fa-calendar\"></i>\r\n                </button>\r\n              </span>\r\n            </p>\r\n          </div>\r\n          <div class=\"col-md-2 p-0 p-l-10 col-xs-12\">\r\n            <label class=\"txt-iris-blue\" for=\"manufactureDate\">To Date</label>\r\n            <p class=\"input-group m-b-0 \">\r\n              <input id=\"to_date1\" type=\"text\" class=\"form-control\" [matDatepicker]=\"toDate\" [max] = \"dateMax\" [min] = \"minDate\" formControlName=\"toDate\">\r\n              <mat-datepicker #toDate></mat-datepicker>\r\n              <span class=\"input-group-btn\">\r\n                <button id=\"todate\" class=\"btn btn-default btn-padding\" type=\"button\" (click)=\"datePickerToggler(toDate)\">\r\n                  <i class=\"fa fa-calendar\"></i>\r\n                </button>\r\n              </span>\r\n            </p>\r\n          </div>\r\n          <div class=\"col-md-2 p-0 p-l-10 col-xs-12\" *ngIf=\"menuType==='posHis'\">\r\n            <label class=\"txt-iris-blue\" for=\"invoiceNo\">Enter Optical Bill No.</label>\r\n            <input id=\"optical_BillNo\" type=\"text\" id=\"modelNo\" name=\"modelNo\" formControlName=\"opticalBillNo\">\r\n          </div>\r\n          <div class=\"col-md-2 p-0 p-l-10\" *ngIf=\"menuType==='posHis'\">\r\n            <label class=\"txt-iris-blue text-uppercase\">{{ 'COMMONLABELS.AADHAR_MOBILE_TEXT' | translate }}</label>\r\n            <input id=\"mobileAadhaarNo\" type=\"text\" minlength=\"10\" pattern=\"[0-9]+\" formControlName=\"mobileOrAadhaarNo\" />\r\n          </div>\r\n          <div class=\"col-md-2 p-0 p-l-10 col-xs-12\" *ngIf=\"menuType==='posHis'\">\r\n            <label class=\"txt-iris-blue\" for=\"invoiceNo\">PatientId</label>\r\n            <input id=\"hosPatientId\" type=\"text\"  name=\"patientId\" formControlName=\"hosPatientId\">\r\n          </div>\r\n          <div class=\"col-md-2 p-0 p-l-10 col-xs-12\" *ngIf=\"menuType==='posHis'\">\r\n            <label class=\"txt-iris-blue\" for=\"invoiceNo\">Name</label>\r\n            <input id=\"firstNm\" type=\"text\"  name=\"patientName\" formControlName=\"firstNm\">\r\n          </div>\r\n        </div>\r\n        <div\r\n        class=\"col-sm-12 m-t-b-15 form-button-group\" >\r\n        <ul class=\"arrow\">\r\n          <li>\r\n              <button id=\"_Search\" type=\"submit\" class=\"btn-app btn-upload\">Search</button>\r\n          </li>\r\n       <li>\r\n          <button id=\"_Clear\" type=\"button\" class=\"btn-app btn-clear\" (click)=\"clearFilter()\">Clear</button>\r\n       </li>\r\n         </ul>\r\n      </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"col-md-12 mt-5\">\r\n    <div class=\"box-panel-form white-bg\">\r\n      <div class=\"menu-radio-group optical-menu m-b-10\" *ngIf=\"!returnData\">\r\n        <input type=\"radio\" name=\"posHis\" id=\"posHis\" (change)=\"onFrameTypeChange()\" value=\"posHis\" [(ngModel)]=\"menuType\">\r\n        <label for=\"posHis\">Pos History</label>\r\n        <input type=\"radio\" name=\"returnHis\" id=\"returnHis\" (change)=\"onFrameTypeChange()\" value=\"returnHis\" [(ngModel)]=\"menuType\">\r\n        <label for=\"returnHis\">Return History</label>\r\n      </div>\r\n      <div *ngIf=\"menuType==='posHis' && !returnData\">\r\n        <ag-grid-angular style=\"height:350px;\" class=\"ag-theme-balham p-10\" (gridReady)=\"gridReady($event)\" [enableSorting]=\"true\"\r\n          [enableFilter]=\"true\" [gridOptions]=\"gridOptions\" [rowData]=\"rowData\" [floatingFilter]=\"true\" #grid>\r\n        </ag-grid-angular>\r\n      </div>\r\n      <div *ngIf=\"menuType==='returnHis' && historyData.length\">\r\n        <app-pos-return  [itemReturn]=\"historyData\"></app-pos-return>\r\n      </div>\r\n      <div *ngIf=\"menuType==='returnHis' && !historyData.length\">\r\n        <div class=\"grid-msg-text-branch margin-top-40\" role=\"alert\">{{ 'COMMONLABELS.NO_DATA_TEXT' | translate }}</div>\r\n      </div>\r\n      <div *ngIf=\"returnData\">\r\n        <div class=\"col-md-12\">\r\n          <div class=\"col-md-3\">\r\n            <label>Bill Number : </label>\r\n            <span>{{returnItemData.opticalBillNo}}</span>\r\n          </div>\r\n          <div class=\"col-md-3\">\r\n            <label>Pos Date : </label>\r\n            <span>{{returnItemData.createdDttm}}</span>\r\n          </div>\r\n          <div class=\"col-md-3\">\r\n            <label>Patient ID : </label>\r\n            <span>{{returnItemData.hosPatientId}}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-12\">\r\n          <div class=\"col-md-3\">\r\n            <label>Due Amount : </label>\r\n            <span>{{returnItemData.totalBillDueAmt}}</span>\r\n          </div>\r\n          <div class=\"col-md-3\">\r\n            <label>Paid Amount : </label>\r\n            <span>{{returnItemData.paidAmt}}</span>\r\n          </div>\r\n          <div class=\"col-md-3\">\r\n            <label>Total Amount : </label>\r\n            <span>{{returnItemData.totalBillAmt}}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-12\">\r\n          <table class=\"table table-responsive table-striped table-bordered table-hover dru-table border-0\">\r\n            <thead>\r\n              <tr class=\"table_height_align\">\r\n                <th class=\"th-style\">SL No</th>\r\n                <th class=\"th-style\">Brand Name</th>\r\n                <th class=\"th-style\">Vendor Name</th>\r\n                <th class=\"th-style\">Serial Number</th>\r\n                <th class=\"th-style\">Quantity</th>\r\n                <th class=\"th-style\">Total Pos Return</th>\r\n                <th class=\"th-style\">Total Amount</th>\r\n                <th class=\"th-style\">Return Quantity</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr *ngFor=\"let pos of posList; index as i\">\r\n                <td class=\"th-style\">{{i+1}}</td>\r\n                <td class=\"th-style\">{{pos.itemBrandNm}}</td>\r\n                <td class=\"th-style\">{{pos.vendorNm}}</td>\r\n                <td class=\"th-style\">{{pos.serialNo}}</td>\r\n                <td class=\"th-style\">{{pos.posQty}}</td>\r\n                <td class=\"th-style\">{{pos.totalPosReturnQty}}</td>\r\n                <td class=\"th-style\">{{pos.totalAmt}}</td>\r\n                <td class=\"th-style table-td-align\">\r\n                  <input id=\"posReturnQty\" type=\"number\" name=\"quantity\" onkeypress=\"return event.charCode >= 48 && event.charCode <= 57\" (keyup)=\"returnPosItem(pos)\" [(ngModel)]=\"pos.returnQty\">\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-2 p-l-r-5 m-t-b-15 form-button-group pull-right\" *ngIf=\"returnData\" >\r\n          <ul>\r\n            <li>\r\n                <button id=\"save\" type=\"button\" class=\"btn-app btn-save\" [disabled]=\"disableBtn\" (click)=\"returnItems()\">\r\n                <i class=\"fa fa-arrow-circle-up fa-btn-icon\" aria-hidden=\"true\"></i> Save</button>\r\n            </li>\r\n            <li>\r\n                <button id=\"_cancel\" class=\"btn-save btn btn-app \" type=\"button\" (click)=\"goBackToPosInventory()\">\r\n                <i class=\"fa fa-floppy-o fa-btn-icon \" aria-hidden=\"true \"></i> Cancel</button>\r\n            </li>\r\n             </ul>\r\n        </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit, Inject, OnDestroy } from '@angular/core';\r\nimport { OpticalStoreService } from '@app/modules/optical-store/opticalStore.service';\r\nimport {\r\n  OpticalStoreApiService,\r\n  MOMENT,\r\n  UtilService,\r\n  JSBARCODE\r\n} from '@core/services';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { MatDatepicker } from '@angular/material';\r\nimport { MatDialog } from '@angular/material';\r\nimport { OpticalPointOfSaleDueListComponent } from './optical-point-of-sale-due-list/optical-point-of-sale-due-list.component';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\nimport {\r\n  debounceTime,\r\n  distinctUntilChanged,\r\n  filter,\r\n  switchMap,\r\n  map,\r\n  catchError\r\n} from 'rxjs/operators';\r\nimport { DatePipe } from '@angular/common';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { GridOptions, GridApi, ColumnApi } from 'ag-grid/main';\r\nimport { PosInvoiceBillComponent } from './../../vendor-invoice-bill-dialog/pos-invoice-bill-dialog.component';\r\nimport { PosInvoiceListComponent } from './optical-actions-list/optical-actions-list.component';\r\nimport { UserSession } from '@core/models/user-session';\r\nimport { UserService } from '@core/services/user.service';\r\nimport { CommentsDialogComponent } from '@shared/components/comments-dialog/comments-dialog.component';\r\nimport { PosReturnHistoryComponent } from './../optical-return-list/optical-return-list.component';\r\nimport { ReportsService } from '@core/services/reports-api.service';\r\nimport { AutoUnsubscribe } from 'ngx-auto-unsubscribe';\r\n// @AutoUnsubscribe()\r\n@Component({\r\n  selector: 'app-optical-invoice-list',\r\n  templateUrl: './optical-invoice-list.component.html',\r\n  styleUrls: ['./optical-invoice-list.component.scss']\r\n})\r\nexport class OpticalInvoiceListComponent implements OnInit, OnDestroy {\r\n  pointOfSaleSearchForm: FormGroup;\r\n  private sessionData: UserSession;\r\n  private gridApi: GridApi;\r\n  private gridColumnApi: ColumnApi;\r\n  gridOptions: GridOptions = {\r\n    columnDefs: [\r\n      {\r\n        headerName: 'Bill Number',\r\n        field: 'opticalBillNo',\r\n        cellStyle: { color: '#00a8dd' },\r\n        onCellClicked: this.onCelllClicked.bind(this)\r\n      },\r\n      {\r\n        headerName: 'POS Date',\r\n        field: 'createdDttm',\r\n        valueFormatter: this.agGridDateFormatter.bind(this)\r\n      },\r\n      { headerName: 'Bill Amount', field: 'totalBillAmt' },\r\n      { headerName: 'Paid Amount', field: 'paidAmt' },\r\n      { headerName: 'Due Amount', field: 'totalBillDueAmt' },\r\n      { headerName: 'Cancel Reason', field: 'cancelReason' },\r\n      {\r\n        headerName: 'Date Of Cancel',\r\n        field: 'cancelDt',\r\n        valueFormatter: this.agGridDateFormatter.bind(this)\r\n      },\r\n      {\r\n        headerName: 'Actions',\r\n        field: '',\r\n        suppressFilter: true,\r\n        cellRendererFramework: PosInvoiceListComponent\r\n      },\r\n      {\r\n        headerName: 'Pay Bill',\r\n        field: 'payNow',\r\n        suppressFilter: true,\r\n        cellRendererFramework: PosInvoiceBillComponent\r\n      }\r\n    ],\r\n    context: {\r\n      componentParent: this\r\n    }\r\n  };\r\n\r\n  rowData: any;\r\n  menuType = 'posHis';\r\n  returnData: Boolean = false;\r\n  returnItemData: any;\r\n  posList: any[] = [];\r\n  returnQnty: any;\r\n  dateMax = new Date();\r\n  dateMin: any;\r\n  fromDate: any;\r\n  minDate: any;\r\n  disableBtn: Boolean = false;\r\n  returnTableData: any;\r\n  returnArry: any[] = [];\r\n  historyData: any[] = [];\r\n  posHistoryData: any[] = [];\r\n  getData: any;\r\n  posCancelDt: any;\r\n  constructor(\r\n    @Inject(MOMENT) private moment,\r\n    @Inject(JSBARCODE) private jsbarcode,\r\n    private formbuilder: FormBuilder,\r\n    private componentOpticalStoreService: OpticalStoreService,\r\n    private opticalService: OpticalStoreApiService,\r\n    private toaster: ToastrService,\r\n    private utilService: UtilService,\r\n    private datePipe: DatePipe,\r\n    private reportService: ReportsService,\r\n    public dialog: MatDialog,\r\n    private reportsService: ReportsService,\r\n    userService: UserService\r\n  ) {\r\n    this.sessionData = userService.getUser();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.init();\r\n    this.fetchPointOfSaleInventory();\r\n    this.changeDateFunction();\r\n  }\r\n\r\n  init() {\r\n    this.pointOfSaleSearchForm = this.formbuilder.group({\r\n      opticalBillNo: this.formbuilder.control(''),\r\n      fromDate: this.formbuilder.control(''),\r\n      toDate: this.formbuilder.control(''),\r\n      hosPatientId: this.formbuilder.control(''),\r\n      firstNm: this.formbuilder.control(''),\r\n      mobileOrAadhaarNo: this.formbuilder.control('')\r\n    });\r\n    const currentDate = this.datePipe.transform(new Date(), 'yyyy-MM-dd');\r\n    this.pointOfSaleSearchForm.controls['fromDate'].setValue(currentDate);\r\n    this.pointOfSaleSearchForm.controls['toDate'].setValue(currentDate);\r\n  }\r\n  datePickerToggler(datePicker: MatDatepicker<Date>) {\r\n    datePicker[datePicker.opened ? 'close' : 'open']();\r\n  }\r\n\r\n  changeDateFunction() {\r\n    this.fromDate = this.pointOfSaleSearchForm.value.fromDate;\r\n    this.minDate = this.fromDate;\r\n    return this.fromDate;\r\n  }\r\n\r\n  agGridDateFormatter(params) {\r\n    return params.value ? this.moment(params.value).format('DD/MM/YYYY') : null;\r\n  }\r\n  onCelllClicked(params) {\r\n    const billData = params.data;\r\n    const dialogRef = this.dialog.open(OpticalPointOfSaleDueListComponent, {\r\n      width: '90vw',\r\n      data: billData,\r\n      disableClose: true\r\n    });\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      if (result) {\r\n      }\r\n    });\r\n  }\r\n\r\n  fetchPointOfSaleInventory() {\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId,\r\n      fromDate: this.datePipe.transform(\r\n        this.pointOfSaleSearchForm.value.fromDate,\r\n        'yyyy-MM-dd'\r\n      ),\r\n      toDate: this.datePipe.transform(\r\n        this.pointOfSaleSearchForm.value.toDate,\r\n        'yyyy-MM-dd'\r\n      )\r\n    };\r\n    // this.getData = payload;\r\n    if (this.pointOfSaleSearchForm.get('opticalBillNo').value) {\r\n      // this.pointOfSaleSearchForm.get('fromDate').value = null;\r\n      payload['opticalBillNo'] = this.pointOfSaleSearchForm.get(\r\n        'opticalBillNo'\r\n      ).value;\r\n      delete payload.fromDate;\r\n      delete payload.toDate;\r\n    }\r\n    if (this.pointOfSaleSearchForm.get('mobileOrAadhaarNo').value) {\r\n      payload['mobileOrAadhaarNo'] = this.pointOfSaleSearchForm.get(\r\n        'mobileOrAadhaarNo'\r\n      ).value;\r\n      delete payload.fromDate;\r\n      delete payload.toDate;\r\n    }\r\n    if (this.pointOfSaleSearchForm.get('hosPatientId').value) {\r\n      payload['hosPatientId'] = this.pointOfSaleSearchForm.get(\r\n        'hosPatientId'\r\n      ).value;\r\n      delete payload.fromDate;\r\n      delete payload.toDate;\r\n    }\r\n    if (this.pointOfSaleSearchForm.get('firstNm').value) {\r\n      payload['firstNm'] = this.pointOfSaleSearchForm.get('firstNm').value;\r\n      delete payload.fromDate;\r\n      delete payload.toDate;\r\n    }\r\n    let posServiceCall: string;\r\n    if (this.menuType === 'posHis') {\r\n      posServiceCall = 'fetchOrgPointOfSales';\r\n    }\r\n    if (this.menuType === 'returnHis') {\r\n      posServiceCall = 'fetchPosReturns';\r\n    }\r\n\r\n    if (payload['mobileOrAadhaarNo']) {\r\n      if (\r\n        this.pointOfSaleSearchForm.get('mobileOrAadhaarNo').value.length < 10\r\n      ) {\r\n        this.toaster.warning(\r\n          'Failure!',\r\n          'Mobile/Aadhar should contain more than 10 Digits'\r\n        );\r\n        return;\r\n      }\r\n    }\r\n\r\n    this.opticalService[posServiceCall](payload).subscribe(\r\n      (response: any) => {\r\n        if (response.responseCode === 'E200') {\r\n          if (this.menuType === 'returnHis') {\r\n            this.historyData = response.data;\r\n          } else if (this.menuType === 'posHis') {\r\n            this.returnData = false;\r\n            this.posHistoryData = response.data;\r\n            this.gridApi.setRowData(response.data);\r\n          }\r\n        } else if (response.responseCode === 'E400') {\r\n          this.toaster.error('Failure!', 'Something went wrong');\r\n        }\r\n      },\r\n      err => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n\r\n  gridReady(params) {\r\n    this.gridApi = params.api;\r\n    this.gridColumnApi = params.columnApi;\r\n    this.gridApi.setRowData(this.posHistoryData);\r\n  }\r\n\r\n  onReturnItem(rowNode) {\r\n    this.returnItemData = rowNode.data;\r\n    this.returnData = true;\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId,\r\n      pointOfSaleId: rowNode.data.pointOfSaleId,\r\n      opticalBillNo: rowNode.data.opticalBillNo\r\n    };\r\n    this.opticalService.fetchPointOfSaleItemsAndLensDetails(payload).subscribe(\r\n      (response: any) => {\r\n        if (response.responseCode === 'E200') {\r\n          if (\r\n            response.data &&\r\n            response.data.inventoryItemsForFramesAndContactLens\r\n          ) {\r\n            this.posList = response.data.inventoryItemsForFramesAndContactLens;\r\n          }\r\n          if (response.data && response.data.insertPointOfSaleLensReqAndRes) {\r\n            this.posList = this.posList.concat(\r\n              response.data.insertPointOfSaleLensReqAndRes\r\n            );\r\n          }\r\n        } else if (response.responseCode === 'E400') {\r\n          this.toaster.error('Failure!', 'Something went wrong');\r\n        }\r\n      },\r\n      err => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n\r\n  goBackToPosInventory() {\r\n    this.returnData = false;\r\n    this.fetchPointOfSaleInventory();\r\n  }\r\n\r\n  returnItems() {\r\n    // const stopReturn = this.posList.every(\r\n    //   el => el.totalPosReturnQty >= el.returnQty\r\n    // );\r\n    // if (!stopReturn) {\r\n    //   this.toaster.warning(\r\n    //     'you have entered more quantity than total Pos Return'\r\n    //   );\r\n    //   return;\r\n    // }\r\n\r\n    const returnCheckArry = this.posList.filter(el => {\r\n      if (el.returnQty) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n    if (!returnCheckArry.length) {\r\n      this.toaster.warning('Failure!', 'please return atleast one Quantity');\r\n      return;\r\n    }\r\n    const returnFramesContactLensArray = returnCheckArry\r\n      .filter(data => {\r\n        return data.itemTypeId !== 101;\r\n      })\r\n      .map(el => {\r\n        return {\r\n          cgstAmt: el.cgstTaxAmt,\r\n          sgstAmt: el.sgstTaxAmt,\r\n          opticalInventoryId: el.opticalInventoryId,\r\n          posQty: el.posQty,\r\n          unitAmt: el.unitAmt,\r\n          pointOfSaleDetailedId: el.pointOfSaleDetailedId,\r\n          serviceAmt: el.serviceAmt,\r\n          returnQty: el.returnQty,\r\n          orgGrpId: this.sessionData.orgGroupId,\r\n          orgId: this.sessionData.orgId\r\n        };\r\n      });\r\n\r\n    const returnlensArray = returnCheckArry.filter(data => {\r\n      return data.itemTypeId === 101;\r\n    }).map(el => {\r\n      // write object format retlated code here\r\n        return {\r\n          cgstAmt: el.cgstTaxAmt,\r\n          sgstAmt: el.sgstTaxAmt,\r\n          opticalLensInventoryId: el.opticalLensInventoryId,\r\n          posQty: el.posQty,\r\n          unitAmt: el.unitAmt,\r\n          pointOfSaleLensDetailedId: el.pointOfSaleLensDetailedId,\r\n          serviceAmt: el.serviceAmt,\r\n          returnQty: el.returnQty,\r\n          orgGrpId: this.sessionData.orgGroupId,\r\n          orgId: this.sessionData.orgId\r\n        };\r\n    });\r\n\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId,\r\n      hosPatientId: this.returnItemData.hosPatientId,\r\n      opticalBillNo: this.returnItemData.opticalBillNo,\r\n      patientId: this.returnItemData.patientId,\r\n      pointOfSaleId: this.returnItemData.pointOfSaleId,\r\n      posItemReturnsReqs: returnFramesContactLensArray,\r\n      posLensItemReturnsReqs: returnlensArray,\r\n      totalBillDueAmt: this.returnItemData.totalBillDueAmt\r\n    };\r\n    const dialogRef = this.dialog.open(CommentsDialogComponent, {\r\n      data: {\r\n        title: 'Reason For Return',\r\n        data: 'Reason'\r\n      },\r\n      disableClose: true\r\n    });\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      if (result) {\r\n        payload['returnRemarks'] = result;\r\n        this.opticalService.posItemWiseReturns(payload).subscribe(\r\n          (response: any) => {\r\n            console.log(response);\r\n            if (response.responseCode === 'E200') {\r\n              this.toaster.success('Success!', response.responseMessage);\r\n              this.posReturnPrint(response);\r\n               this.returnData = false;\r\n              this.fetchPointOfSaleInventory();\r\n             } else if (response.responseCode === 'E400') {\r\n              this.toaster.error('Failure!', 'Something went wrong');\r\n            }\r\n          },\r\n          err => {\r\n            this.toaster.error('Failure!', 'Something went wrong');\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  returnPosItem(data) {\r\n    const returnQty = data.returnQty;\r\n    const validQty = data.posQty - data.totalPosReturnQty;\r\n    if (returnQty === 0) {\r\n      this.toaster.warning('Failure!', 'return quantity should be either empty or greater than zero');\r\n      this.removeReturnsQty(data);\r\n    } else if (validQty - returnQty < 0) {\r\n      this.toaster.warning(\r\n        'Failure!',\r\n        'return quantity is more given quantity'\r\n      );\r\n      this.removeReturnsQty(data);\r\n    }\r\n    // this.returnTableData = data;\r\n  }\r\n\r\n  removeReturnsQty = function(rowData) {\r\n    this.posList.forEach(el => {\r\n      if (el.pointOfSaleDetailedId === rowData.pointOfSaleDetailedId) {\r\n        el.returnQty = null;\r\n      }\r\n    });\r\n  };\r\n\r\n  onFrameTypeChange() {\r\n    this.fetchPointOfSaleInventory();\r\n  }\r\n\r\n  clearFilter() {\r\n    this.pointOfSaleSearchForm.reset();\r\n  }\r\n  posPrint(data) {\r\n    const queryparams = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId,\r\n      pointOfSaleId : data.pointOfSaleId\r\n    };\r\n    this.reportsService\r\n      .fetchOpticalPosReport(queryparams)\r\n      .subscribe(\r\n        response => {\r\n          if (response instanceof ArrayBuffer) {\r\n            const posReport = new Blob([response], {\r\n              type: 'application/pdf'\r\n            });\r\n            const reportURL = URL.createObjectURL(posReport);\r\n            const win = window.open('', '_blank');\r\n            win.location.href = reportURL;\r\n            setTimeout(() => {\r\n              win.print();\r\n            }, 1000);\r\n          } else if (response.responseCode) {\r\n            this.toaster.error('Failure!', response.responseMessage);\r\n          }\r\n        },\r\n        () => {\r\n          this.toaster.error('Failure!', 'Something went wrong');\r\n        }\r\n      );\r\n  }\r\n\r\n\r\n\r\n  posReturnPrint(data) {\r\n    console.log(data);\r\n    const queryparams = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId,\r\n      opticalPointOfSaleReturnId: data.data\r\n    };\r\n    this.reportService.fetchOpticalPosReturnsReport(queryparams).subscribe((response) => {\r\n      if (response instanceof ArrayBuffer) {\r\n        const ReturnRePrint = new Blob([response], {\r\n          type: 'application/pdf'\r\n        });\r\n        const reportURL = URL.createObjectURL(ReturnRePrint);\r\n        const win = window.open('', '_blank');\r\n        win.location.href = reportURL;\r\n        setTimeout(() => {\r\n          win.print();\r\n        }, 1000);\r\n      } else if (response.responseCode === 'E400') {\r\n        this.toaster.error('Failure', response.responseMessage);\r\n      }\r\n    },\r\n    () => {\r\n      this.toaster.error('failure', 'Something Went Wrong');\r\n    }\r\n    );\r\n  }\r\n\r\n  // method for printing invoice this is not using in ui side we can remote.We are calling the backend print here\r\n  printInvoice(data) {\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId,\r\n      pointOfSaleId: data.pointOfSaleId\r\n    };\r\n    this.opticalService\r\n      .fetchPOSHistoryDetailsForPrint<any>(payload)\r\n      .subscribe(response => {\r\n        if (response.responseCode === 'E200') {\r\n          const printSettings: any = this.componentOpticalStoreService.getPrintSettings();\r\n\r\n          const summary: any = {};\r\n          summary.totalAmount = 0 + response.data.totalServiceAmt; // --\r\n          summary.totalCgst = 0 + response.data.totalCgstTaxAmt; // --\r\n          summary.totalSgst = 0 + response.data.totalSgstTaxAmt; // --\r\n          summary.finalAmount = 0 + response.data.totalBillAmt; // --\r\n          summary.invoiceDueAmount = 0 + response.data.totalBillDueAmt; // --\r\n          const invoiceData = <any>{\r\n            tableData: [['#', 'Brand Name', 'Qty.', 'Amt.', 'Discount']],\r\n            invoiceSummary: [\r\n              ['Total Amount', 'Rs. ' + summary.totalAmount.toFixed(2)]\r\n            ]\r\n          };\r\n          let i, j;\r\n          const titleCase = this.utilService.toTitleCase();\r\n          // needTax = taxNeeded(data.data),\r\n          //  let row;\r\n\r\n          // if (needTax) {\r\n          invoiceData.tableData[0].push('CGST', 'SGST');\r\n          invoiceData.invoiceSummary.push(\r\n            ['Total CGST', 'Rs. ' + parseFloat(summary.totalCgst).toFixed(2)],\r\n            ['Total SGST', 'Rs. ' + parseFloat(summary.totalSgst).toFixed(2)]\r\n          );\r\n          // }\r\n          invoiceData.tableData[0].push('Net Amt.');\r\n          invoiceData.invoiceSummary.push([\r\n            'Final Amount',\r\n            'Rs. ' + Math.round(summary.finalAmount).toFixed(2)\r\n          ]);\r\n          if (\r\n            response.data.insertPointOfSaleInventoryItemsReqAndRes &&\r\n            response.data.insertPointOfSaleInventoryItemsReqAndRes.length\r\n          ) {\r\n            for (\r\n              i = 0,\r\n                j =\r\n                  response.data.insertPointOfSaleInventoryItemsReqAndRes.length; // --\r\n              i < j;\r\n              i++\r\n            ) {\r\n              response.data.insertPointOfSaleInventoryItemsReqAndRes[\r\n                i\r\n              ].discountAmt =\r\n                response.data.insertPointOfSaleInventoryItemsReqAndRes[i]\r\n                  .discountAmt || 0;\r\n              const row: any = [\r\n                i + 1,\r\n                response.data.insertPointOfSaleInventoryItemsReqAndRes[i]\r\n                  .itemBrandNm,\r\n                response.data.insertPointOfSaleInventoryItemsReqAndRes[i]\r\n                  .posQty,\r\n                response.data.insertPointOfSaleInventoryItemsReqAndRes[\r\n                  i\r\n                ].serviceAmt.toFixed(2) / 1,\r\n                response.data.insertPointOfSaleInventoryItemsReqAndRes[i]\r\n                  .discountAmt,\r\n                response.data.insertPointOfSaleInventoryItemsReqAndRes[i]\r\n                  .cgstTaxAmt,\r\n                response.data.insertPointOfSaleInventoryItemsReqAndRes[i]\r\n                  .sgstTaxAmt\r\n                // Number((response.data.insertPointOfSaleInventoryItemsReqAndRes[i].serviceAmt) -\r\n                // (response.data.insertPointOfSaleInventoryItemsReqAndRes[i].discountAmt)).toFixed(2) / 1\r\n              ];\r\n              // const lensObj = {\r\n              //   distanceRightSph: 2.3,\r\n              //   distanceRightAddSph: 2.0,\r\n              //   distanceRightCyl: 2.0,\r\n              //   distanceRightAxis: 2.0,\r\n              //   distanceRightVa: 2.0,\r\n              //   distanceLeftSph: 2.0,\r\n              //   distanceLeftAddSph: 2.0,\r\n              //   distanceLeftCyl: 2.0,\r\n              //   distanceLeftAxis: 2.0,\r\n              //   distanceLeftVa: 2.0,\r\n              //   nearRightSph: 2.0,\r\n              //   nearRightAddSph: 2.0,\r\n              //   nearRightCyl: 2.0,\r\n              //   nearRightAxis: 2.0,\r\n              //   nearRightVa: 2.0,\r\n              //   nearLeftSph: 2.0,\r\n              //   nearLeftAddSph: 2.0,\r\n              //   nearLeftCyl: 2.0,\r\n              //   nearLeftAxis: 2.0,\r\n              //   nearLeftVa: 2.0\r\n              // };\r\n              const netAmt =\r\n                response.data.insertPointOfSaleInventoryItemsReqAndRes[i]\r\n                  .serviceAmt -\r\n                response.data.insertPointOfSaleInventoryItemsReqAndRes[i]\r\n                  .discountAmt;\r\n              row.push(Number(netAmt.toFixed(2)) / 1);\r\n              invoiceData.tableData.push(row);\r\n              if (\r\n                response.data.insertPointOfSaleInventoryItemsReqAndRes[i]\r\n                  .insertLensInInventory\r\n              ) {\r\n                const lensValues =\r\n                  response.data.insertPointOfSaleInventoryItemsReqAndRes[i]\r\n                    .insertLensInInventory;\r\n                const lensArr = [\r\n                  {\r\n                    table: {\r\n                      widths: [\r\n                        '*',\r\n                        '*',\r\n                        '*',\r\n                        '*',\r\n                        '*',\r\n                        '*',\r\n                        '*',\r\n                        '*',\r\n                        '*',\r\n                        '*'\r\n                      ],\r\n                      body: [\r\n                        [\r\n                          {\r\n                            text: 'Type',\r\n                            bold: true\r\n                          },\r\n                          {\r\n                            text: 'Sph',\r\n                            bold: true\r\n                          },\r\n                          {\r\n                            text: 'Cyl',\r\n                            bold: true\r\n                          },\r\n                          {\r\n                            text: 'Axis',\r\n                            bold: true\r\n                          },\r\n                          {\r\n                            text: 'VA',\r\n                            bold: true\r\n                          },\r\n                          {\r\n                            text: 'Type',\r\n                            bold: true\r\n                          },\r\n                          {\r\n                            text: 'Sph',\r\n                            bold: true\r\n                          },\r\n                          {\r\n                            text: 'Cyl',\r\n                            bold: true\r\n                          },\r\n                          {\r\n                            text: 'Axis',\r\n                            bold: true\r\n                          },\r\n                          {\r\n                            text: 'VA',\r\n                            bold: true\r\n                          }\r\n                        ],\r\n                        [\r\n                          {\r\n                            text: 'Right Dist',\r\n                            bold: true\r\n                          },\r\n                          {\r\n                            text: lensValues.distanceRightSph || ''\r\n                          },\r\n                          {\r\n                            text: lensValues.distanceRightCyl || ''\r\n                          },\r\n                          {\r\n                            text: lensValues.distanceRightAxis || ''\r\n                          },\r\n                          {\r\n                            text: lensValues.distanceRightVa || ''\r\n                          },\r\n                          {\r\n                            text: 'Left Dist',\r\n                            bold: true\r\n                          },\r\n                          {\r\n                            text: lensValues.distanceLeftSph || ''\r\n                          },\r\n                          {\r\n                            text: lensValues.distanceLeftCyl || ''\r\n                          },\r\n                          {\r\n                            text: lensValues.distanceLeftAxis || ''\r\n                          },\r\n                          {\r\n                            text: lensValues.distanceLeftVa || ''\r\n                          }\r\n                        ],\r\n                        [\r\n                          {\r\n                            text: 'Right Near',\r\n                            bold: true\r\n                          },\r\n                          {\r\n                            text: lensValues.nearRightSph || ''\r\n                          },\r\n                          {\r\n                            text: lensValues.nearRightCyl || ''\r\n                          },\r\n                          {\r\n                            text: lensValues.nearRightAxis || ''\r\n                          },\r\n                          {\r\n                            text: lensValues.nearRightVa || ''\r\n                          },\r\n                          {\r\n                            text: 'Left Near',\r\n                            bold: true\r\n                          },\r\n                          {\r\n                            text: lensValues.nearLeftSph || ''\r\n                          },\r\n                          {\r\n                            text: lensValues.nearLeftCyl || ''\r\n                          },\r\n                          {\r\n                            text: lensValues.nearLeftAxis || ''\r\n                          },\r\n                          {\r\n                            text: lensValues.nearLeftVa || ''\r\n                          }\r\n                        ]\r\n                      ]\r\n                    },\r\n                    fontSize: 9,\r\n                    color: '#444',\r\n                    layout: {\r\n                      hLineColor: () => '#444',\r\n                      vLineColor: () => '#444'\r\n                    },\r\n                    colSpan: 8\r\n                  },\r\n                  '',\r\n                  '',\r\n                  '',\r\n                  '',\r\n                  '',\r\n                  '',\r\n                  ''\r\n                ];\r\n                invoiceData.tableData.push(lensArr);\r\n              }\r\n            }\r\n          }\r\n          // start\r\n          if (\r\n            response.data.insertPointOfSaleLensReqAndRes &&\r\n            response.data.insertPointOfSaleLensReqAndRes.length\r\n          ) {\r\n            for (\r\n              i = 0, j = response.data.insertPointOfSaleLensReqAndRes.length; // --\r\n              i < j;\r\n              i++\r\n            ) {\r\n              response.data.insertPointOfSaleLensReqAndRes[i].discountAmt =\r\n                response.data.insertPointOfSaleLensReqAndRes[i].discountAmt ||\r\n                0;\r\n              const row: any = [\r\n                i + 1,\r\n                response.data.insertPointOfSaleLensReqAndRes[i].itemBrandNm,\r\n                response.data.insertPointOfSaleLensReqAndRes[i].posQty,\r\n                response.data.insertPointOfSaleLensReqAndRes[\r\n                  i\r\n                ].serviceAmt.toFixed(2) / 1,\r\n                response.data.insertPointOfSaleLensReqAndRes[i].discountAmt,\r\n                response.data.insertPointOfSaleLensReqAndRes[i].cgstTaxAmt,\r\n                response.data.insertPointOfSaleLensReqAndRes[i].sgstTaxAmt\r\n                // Number((response.data.insertPointOfSaleInventoryItemsReqAndRes[i].serviceAmt) -\r\n                // (response.data.insertPointOfSaleInventoryItemsReqAndRes[i].discountAmt)).toFixed(2) / 1\r\n              ];\r\n              // const lensObj = {\r\n              //   distanceRightSph: 2.3,\r\n              //   distanceRightAddSph: 2.0,\r\n              //   distanceRightCyl: 2.0,\r\n              //   distanceRightAxis: 2.0,\r\n              //   distanceRightVa: 2.0,\r\n              //   distanceLeftSph: 2.0,\r\n              //   distanceLeftAddSph: 2.0,\r\n              //   distanceLeftCyl: 2.0,\r\n              //   distanceLeftAxis: 2.0,\r\n              //   distanceLeftVa: 2.0,\r\n              //   nearRightSph: 2.0,\r\n              //   nearRightAddSph: 2.0,\r\n              //   nearRightCyl: 2.0,\r\n              //   nearRightAxis: 2.0,\r\n              //   nearRightVa: 2.0,\r\n              //   nearLeftSph: 2.0,\r\n              //   nearLeftAddSph: 2.0,\r\n              //   nearLeftCyl: 2.0,\r\n              //   nearLeftAxis: 2.0,\r\n              //   nearLeftVa: 2.0\r\n              // };\r\n              const netAmt =\r\n                response.data.insertPointOfSaleLensReqAndRes[i].serviceAmt -\r\n                response.data.insertPointOfSaleLensReqAndRes[i].discountAmt;\r\n              row.push(Number(netAmt.toFixed(2)) / 1);\r\n              invoiceData.tableData.push(row);\r\n              if (\r\n                response.data.insertPointOfSaleLensReqAndRes[i]\r\n                  .insertLensInInventory\r\n              ) {\r\n                const lensValues =\r\n                  response.data.insertPointOfSaleLensReqAndRes[i]\r\n                    .insertLensInInventory;\r\n                const lensArr = [\r\n                  {\r\n                    table: {\r\n                      widths: [\r\n                        '*',\r\n                        '*',\r\n                        '*',\r\n                        '*',\r\n                        '*',\r\n                        '*',\r\n                        '*',\r\n                        '*',\r\n                        '*',\r\n                        '*'\r\n                      ],\r\n                      body: [\r\n                        [\r\n                          {\r\n                            text: 'Type',\r\n                            bold: true\r\n                          },\r\n                          {\r\n                            text: 'Sph',\r\n                            bold: true\r\n                          },\r\n                          {\r\n                            text: 'Cyl',\r\n                            bold: true\r\n                          },\r\n                          {\r\n                            text: 'Axis',\r\n                            bold: true\r\n                          },\r\n                          {\r\n                            text: 'VA',\r\n                            bold: true\r\n                          },\r\n                          {\r\n                            text: 'Type',\r\n                            bold: true\r\n                          },\r\n                          {\r\n                            text: 'Sph',\r\n                            bold: true\r\n                          },\r\n                          {\r\n                            text: 'Cyl',\r\n                            bold: true\r\n                          },\r\n                          {\r\n                            text: 'Axis',\r\n                            bold: true\r\n                          },\r\n                          {\r\n                            text: 'VA',\r\n                            bold: true\r\n                          }\r\n                        ],\r\n                        [\r\n                          {\r\n                            text: 'Right Dist',\r\n                            bold: true\r\n                          },\r\n                          {\r\n                            text: lensValues.distanceRightSph || ''\r\n                          },\r\n                          {\r\n                            text: lensValues.distanceRightCyl || ''\r\n                          },\r\n                          {\r\n                            text: lensValues.distanceRightAxis || ''\r\n                          },\r\n                          {\r\n                            text: lensValues.distanceRightVa || ''\r\n                          },\r\n                          {\r\n                            text: 'Left Dist',\r\n                            bold: true\r\n                          },\r\n                          {\r\n                            text: lensValues.distanceLeftSph || ''\r\n                          },\r\n                          {\r\n                            text: lensValues.distanceLeftCyl || ''\r\n                          },\r\n                          {\r\n                            text: lensValues.distanceLeftAxis || ''\r\n                          },\r\n                          {\r\n                            text: lensValues.distanceLeftVa || ''\r\n                          }\r\n                        ],\r\n                        [\r\n                          {\r\n                            text: 'Right Near',\r\n                            bold: true\r\n                          },\r\n                          {\r\n                            text: lensValues.nearRightSph || ''\r\n                          },\r\n                          {\r\n                            text: lensValues.nearRightCyl || ''\r\n                          },\r\n                          {\r\n                            text: lensValues.nearRightAxis || ''\r\n                          },\r\n                          {\r\n                            text: lensValues.nearRightVa || ''\r\n                          },\r\n                          {\r\n                            text: 'Left Near',\r\n                            bold: true\r\n                          },\r\n                          {\r\n                            text: lensValues.nearLeftSph || ''\r\n                          },\r\n                          {\r\n                            text: lensValues.nearLeftCyl || ''\r\n                          },\r\n                          {\r\n                            text: lensValues.nearLeftAxis || ''\r\n                          },\r\n                          {\r\n                            text: lensValues.nearLeftVa || ''\r\n                          }\r\n                        ]\r\n                      ]\r\n                    },\r\n                    fontSize: 9,\r\n                    color: '#444',\r\n                    layout: {\r\n                      hLineColor: () => '#444',\r\n                      vLineColor: () => '#444'\r\n                    },\r\n                    colSpan: 8\r\n                  },\r\n                  '',\r\n                  '',\r\n                  '',\r\n                  '',\r\n                  '',\r\n                  '',\r\n                  ''\r\n                ];\r\n                invoiceData.tableData.push(lensArr);\r\n              }\r\n            }\r\n          }\r\n          // ends\r\n          response.data.insertPointOfSaleInventoryItemsReqAndRes = invoiceData.header = {\r\n            due:\r\n              summary.invoiceDueAmount && Math.round(summary.invoiceDueAmount),\r\n            companyName: this.sessionData.orgList[0].orgName,\r\n            companyAddress: [\r\n              (this.sessionData.orgInfo.addressOne\r\n                ? this.sessionData.orgInfo.addressOne + ', '\r\n                : '') +\r\n                (this.sessionData.orgInfo.city\r\n                  ? this.sessionData.orgInfo.city + ', '\r\n                  : ''),\r\n              (this.sessionData.orgInfo.state\r\n                ? this.sessionData.orgInfo.state + ', '\r\n                : '') + this.sessionData.orgInfo.country\r\n            ]\r\n          };\r\n\r\n          const firstName = response.data.patientDetailsDto.firstNm,\r\n            lastName = response.data.patientDetailsDto.lastNm;\r\n\r\n          invoiceData.billTo = {\r\n            address: [\r\n              // (firstName ? firstName : '') + ' ' + (lastName ? lastName : ''), // patient name\r\n              response.data.patientDetailsDto.patientNm || '',\r\n              response.data.patientDetailsDto.emailId || '',\r\n              response.data.patientDetailsDto.hosPatientId || '',\r\n              this.utilService.toTitleCase(\r\n                response.data.patientDetailsDto.addressLine1\r\n              ) || ''\r\n            ]\r\n          };\r\n          const canvas = document.createElement('canvas');\r\n          this.jsbarcode(canvas, response.data.opticalBillNo, {\r\n            format: 'code39',\r\n            height: 1000,\r\n            displayValue: false\r\n          });\r\n          response.data.invoiceBarCode = canvas.toDataURL('image/png');\r\n          invoiceData.invoice = {\r\n            id: response.data.opticalBillNo || '',\r\n            invoiceBarcode: canvas.toDataURL('image/png'),\r\n            date: this.datePipe.transform(new Date(), 'dd-MM-yyyy'),\r\n            terms: 'Due on Receipt'\r\n          };\r\n\r\n          // invoiceData.totAmtInWords = utilService.inWords(Math.round(data.data[0].totalInvoiceAmount)) + ' only';\r\n          invoiceData.totAmtInWords = this.utilService.numberToWords(\r\n            Math.round(summary.finalAmount)\r\n          );\r\n          this.utilService\r\n            .convertToDataURLviaCanvas(\r\n              this.sessionData.imagePath + '?q=' + new Date().getTime()\r\n            )\r\n            .then(base64Img => {\r\n              printSettings.hzHeader.profileLogo = base64Img;\r\n              this.componentOpticalStoreService.getInvoicePrint(\r\n                invoiceData,\r\n                printSettings\r\n              );\r\n            })\r\n            .catch(err => {\r\n              this.toaster.error('Failure!', 'Error Printing Invoice');\r\n            });\r\n        }\r\n      });\r\n  }\r\n  ngOnDestroy() {\r\n  }\r\n\r\n}\r\n","\r\n<div class=\"optical_pos_list vendor_invoice_modal_align\">\r\n  <div class=\"heading\" *ngIf=\"!data.keyFrom\">POINT OF SALE ITEMS</div>\r\n  <div class=\"heading\" *ngIf=\"data.keyFrom\">POINT OF SALE RETURN HISTORY</div>\r\n      <table class=\"flat-table table-responsive table-bordered table-striped\" *ngIf=\"!data.keyFrom\">\r\n        <thead>\r\n          <tr>\r\n            <th>Brand Name</th>\r\n            <th>Vendor Name</th>\r\n            <th>Serial Number</th>\r\n            <th>Quantity</th>\r\n            <th>Price</th>\r\n            <th>CGST (Rs)</th>\r\n            <th>SGST (Rs)</th>\r\n            <th>Amount (Rs)</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <!-- *ngFor=\"let inventory of inventoryList; index as i\" -->\r\n          <tr *ngFor=\"let pos of posList; index as i\">\r\n            <td>{{pos.itemBrandNm}}</td>\r\n            <td>{{pos.vendorNm}}</td>\r\n            <td>{{pos.serialNo}}</td>\r\n            <td>{{pos.posQty}}</td>\r\n            <td>{{pos.unitAmt}}</td>\r\n            <td>{{pos.cgstTaxAmt}}</td>\r\n            <td>{{pos.sgstTaxAmt}}</td>\r\n            <td>{{pos.totalAmt}}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <table class=\"flat-table table-responsive table-bordered table-striped\" *ngIf=\"data.keyFrom\">\r\n        <thead>\r\n          <tr>\r\n            <th>Brand Name</th>\r\n            <th>Quantity</th>\r\n            <th>Return Quantity</th>\r\n            <th>Total Return Quantity</th>\r\n            <!-- <th>Return Amount (Rs)</th> -->\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <!-- *ngFor=\"let inventory of inventoryList; index as i\" -->\r\n          <tr *ngFor=\"let pos of posList; index as i\">\r\n            <td>{{pos.itemBrandName}}</td>\r\n            <td>{{pos.posQty}}</td>\r\n            <td>{{pos.returnQty}}</td>\r\n            <td>{{pos.totalPosReturnedQty}}</td>\r\n            <!-- <td>{{pos.returnAmt}}</td> -->\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <br>\r\n      <div class=\"heading\" *ngIf=\"posTansactionList.length\">PAYMENT LIST</div>\r\n      <table class=\"flat-table table-responsive table-bordered table-striped\" *ngIf=\"posTansactionList.length\">\r\n        <thead>\r\n          <tr>\r\n            <th>Payment Mode</th>\r\n            <th>Cheque/DD Number</th>\r\n            <th>Amount Paid</th>\r\n            <th>Transaction Date</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <!-- *ngFor=\"let inventory of inventoryList; index as i\" -->\r\n          <tr *ngFor=\"let pos of posTansactionList; index as i\">\r\n            <td>{{pos.paymentmode}}</td>\r\n            <td>{{pos.chequeDdNo}}</td>\r\n            <td>{{pos.transactionAmt}}</td>\r\n            <td>{{pos.transactionDt |  date: 'dd/MM/yyyy'}}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n  <!-- <div class=\"m-l-20 m-b-20\">\r\n    <button id=\"cancelModal\" type=\"button\" class=\"btn-app btn-delete\" (click)=\"cancelModal()\">\r\n      <i class=\"fas fa-times fa-btn-icon margin-right-5\" aria-hidden=\"true\"></i> Cancel</button>\r\n  </div> -->\r\n  <div class=\"col-sm-3 p-l-r-5 m-t-b-15 form-button-group pull-right\" >\r\n      <ul>\r\n        <li>\r\n            <button id=\"cancelModal\" type=\"button\" class=\"btn-app btn-delete\" (click)=\"cancelModal()\">\r\n                <i class=\"fas fa-times fa-btn-icon margin-right-5\" aria-hidden=\"true\"></i> Cancel</button>\r\n        </li>\r\n\r\n         </ul>\r\n    </div>\r\n</div>\r\n","import { Component, OnInit, Inject, OnDestroy } from '@angular/core';\r\nimport { OpticalStoreService } from '@app/modules/optical-store/opticalStore.service';\r\nimport { OpticalStoreApiService } from '@core/services';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { MatDatepicker } from '@angular/material';\r\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\r\nimport {\r\n  FormGroup,\r\n  FormBuilder,\r\n  Validators,\r\n  FormControl\r\n} from '@angular/forms';\r\nimport { Observable, concat, of, Subject } from 'rxjs';\r\nimport {\r\n  debounceTime,\r\n  distinctUntilChanged,\r\n  filter,\r\n  switchMap,\r\n  map,\r\n  catchError\r\n} from 'rxjs/operators';\r\nimport { DatePipe } from '@angular/common';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { GridOptions, GridApi, ColumnApi } from 'ag-grid/main';\r\nimport { UserSession } from '@core/models/user-session';\r\nimport { UserService } from '@core/services/user.service';\r\nimport { AutoUnsubscribe } from 'ngx-auto-unsubscribe';\r\n// @AutoUnsubscribe()\r\n@Component({\r\n  selector: 'app-optical-due-list',\r\n  templateUrl: './optical-point-of-sale-due-list.component.html',\r\n  styleUrls: ['./optical-point-of-sale-due-list.component.scss']\r\n})\r\nexport class OpticalPointOfSaleDueListComponent implements OnInit, OnDestroy {\r\n  private sessionData: UserSession;\r\n  public posList = [];\r\n  public posTansactionList: any[] = [];\r\n  private fetchType;\r\n  constructor(\r\n    private componentOpticalStoreService: OpticalStoreService,\r\n    private opticalService: OpticalStoreApiService,\r\n    private toaster: ToastrService,\r\n    private datePipe: DatePipe,\r\n    private dialogRef: MatDialogRef<OpticalPointOfSaleDueListComponent>,\r\n    userService: UserService,\r\n    @Inject(MAT_DIALOG_DATA) public data: any\r\n  ) {\r\n    this.sessionData = userService.getUser();\r\n  }\r\n  ngOnInit() {\r\n    this.fetchPointOfSaleItemsAndLensDetails();\r\n    if (!this.data.keyFrom) {\r\n      this.fetchPosTransactionHistory();\r\n    }\r\n  }\r\n\r\n  fetchPointOfSaleItemsAndLensDetails() {\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId,\r\n      pointOfSaleId: this.data.pointOfSaleId\r\n    };\r\n    let url: string;\r\n    if (this.data.keyFrom) {\r\n      payload[\r\n        'opticalPointOfSaleReturnId'\r\n      ] = this.data.opticalPointOfSaleReturnId;\r\n      url = 'fetchPosReturnDetails';\r\n      this.fetchType = 'returnsHistory';\r\n    } else {\r\n      payload['opticalBillNo'] = this.data.opticalBillNo;\r\n      url = 'fetchPointOfSaleItemsAndLensDetails';\r\n      this.fetchType = 'details';\r\n    }\r\n    this.opticalService[url](payload).subscribe(\r\n      (response: any) => {\r\n        if (response.responseCode === 'E200') {\r\n          if (this.fetchType === 'returnsHistory') {\r\n            if (\r\n              response.data &&\r\n              response.data.posReturnFrameAndContactLensDetailsRes\r\n            ) {\r\n              this.posList =\r\n                response.data.posReturnFrameAndContactLensDetailsRes;\r\n            }\r\n            if (response.data && response.data.posReturnsLensDetailsRes) {\r\n              this.posList = this.posList.concat(\r\n                response.data.posReturnsLensDetailsRes\r\n              );\r\n            }\r\n          }\r\n          if (this.fetchType !== 'returnsHistory') {\r\n            if (\r\n              response.data &&\r\n              response.data.inventoryItemsForFramesAndContactLens\r\n            ) {\r\n              this.posList =\r\n                response.data.inventoryItemsForFramesAndContactLens;\r\n            }\r\n            if (response.data && response.data.insertPointOfSaleLensReqAndRes) {\r\n              this.posList = this.posList.concat(\r\n                response.data.insertPointOfSaleLensReqAndRes\r\n              );\r\n            }\r\n          }\r\n        } else if (response.responseCode === 'E400') {\r\n          this.toaster.error('Failure!', 'Something went wrong');\r\n        }\r\n      },\r\n      () => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n\r\n  fetchPosTransactionHistory() {\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId,\r\n      opticalBillNo: this.data.opticalBillNo,\r\n      typeOfDue: 'POS'\r\n    };\r\n    this.opticalService.fetchPosTransactionHistory(payload).subscribe(\r\n      (response: any) => {\r\n        if (response.responseCode === 'E200') {\r\n          this.posTansactionList = response.data;\r\n        } else if (response.responseCode === 'E400') {\r\n          this.toaster.error('Failure!', 'Something went wrong');\r\n        }\r\n      },\r\n      err => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n\r\n  cancelModal() {\r\n    this.dialogRef.close();\r\n  }\r\n  ngOnDestroy() {\r\n     }\r\n}\r\n","<div class=\"optical-point-of-sale\">\r\n  <div\r\n    class=\"row box-panel-form bg-white p-0 m-0 optical-point-of-sale-form border-all-side\"\r\n  >\r\n    <div\r\n      class=\"col-md-3 optical-point-of-sale-patient-details-form p-0 fixscroll\"\r\n    >\r\n      <div class=\"form-header\">\r\n        <p class=\"text-uppercase txt-scarletgum\">Patient Details</p>\r\n      </div>\r\n      <div class=\"form-body\">\r\n        <div [formGroup]=\"patientDetailsForm\">\r\n          <div class=\"col-md-12 col-xs-12 m-t-10 m-b-10\">\r\n            <label for=\"fname\"\r\n              >First Name\r\n              <span class=\"astrik-symbol\">\r\n                <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n              </span>\r\n            </label>\r\n            <div class=\"fname-group\" fxLayout=\"row\">\r\n              <div class=\"honorfic-field m-r-20\">\r\n                <select\r\n                  id=\"salutation\"\r\n                  name=\"salutation\"\r\n                  formControlName=\"honorificNm\"\r\n                >\r\n                  <option\r\n                    [ngValue]=\"honorific.attributeCode\"\r\n                    *ngFor=\"let honorific of honorificsList\"\r\n                    >{{ honorific.attributeCode }}</option\r\n                  >\r\n                </select>\r\n              </div>\r\n              <div class=\"fname\" fxFlex=\"1 1 auto\">\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"fname\"\r\n                  name=\"fname\"\r\n                  maxlength=\"50\"\r\n                  formControlName=\"firstNm\"\r\n                />\r\n                <ng-container *ngIf=\"paientFormSubmitted\">\r\n                  <div\r\n                    *ngFor=\"\r\n                      let validation of patient_details_validation_messages.firstName\r\n                    \"\r\n                    class=\"has-error popover-style\"\r\n                  >\r\n                    <div\r\n                      class=\"dynamic_popover\"\r\n                      *ngIf=\"\r\n                        patientDetailsForm\r\n                          .get('firstNm')\r\n                          .hasError(validation.type)\r\n                      \"\r\n                    >\r\n                      {{ validation.message }} <span class=\"doArrow\"></span>\r\n                    </div>\r\n                  </div>\r\n                </ng-container>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"col-md-12 col-xs-12 m-b-10\">\r\n            <label for=\"mname\">Middle Name</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"mname\"\r\n              name=\"mname\"\r\n              maxlength=\"50\"\r\n              formControlName=\"middleNm\"\r\n            />\r\n            <ng-container *ngIf=\"paientFormSubmitted\">\r\n              <div *ngFor=\"let validation of patient_details_validation_messages.middleName\"\r\n                class=\"has-error popover-style\">\r\n                <div class=\"dynamic_popover\"\r\n                  *ngIf=\"patientDetailsForm.get('middleNm').hasError(validation.type) &&\r\n                    (patientDetailsForm.get('middleNm').dirty ||\r\n                      patientDetailsForm.get('middleNm').touched)\">\r\n                  {{ validation.message }} <span class=\"doArrow\"></span>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n          <div class=\"col-md-12 col-xs-12 m-b-10\">\r\n            <label for=\"lname\">Last Name\r\n              <!-- <span class=\"astrik-symbol\">\r\n                <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n              </span> -->\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"lastNm\"\r\n              name=\"lname\"\r\n              maxlength=\"50\"\r\n              formControlName=\"lastNm\"\r\n            />\r\n            <ng-container *ngIf=\"paientFormSubmitted\">\r\n              <div *ngFor=\"let validation of patient_details_validation_messages.LastName\"\r\n                class=\"has-error popover-style\">\r\n                <div class=\"dynamic_popover\"\r\n                  *ngIf=\"patientDetailsForm.get('lastNm').hasError(validation.type)\">\r\n                  {{ validation.message }} <span class=\"doArrow\"></span>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n          <div class=\"col-md-12 col-xs-12 m-b-10\">\r\n            <label for=\"email\">Email</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"emailId\"\r\n              name=\"email\"\r\n              minlength=\"6\"\r\n              maxlength=\"60\"\r\n              formControlName=\"emailId\"\r\n            />\r\n            <ng-container *ngIf=\"paientFormSubmitted\">\r\n              <div *ngFor=\"let validation of patient_details_validation_messages.email\"\r\n                class=\"has-error popover-style\">\r\n                <div class=\"dynamic_popover\"\r\n                  *ngIf=\"patientDetailsForm.get('emailId').hasError(validation.type) &&\r\n                    (patientDetailsForm.get('emailId').dirty ||\r\n                      patientDetailsForm.get('emailId').touched)\">\r\n                  {{ validation.message }} <span class=\"doArrow\"></span>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n          <div class=\"col-md-12 col-xs-12 m-b-10\">\r\n            <label for=\"mobilenumber\">Mobile No.</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"mobileNo\"\r\n              name=\"mobilenumber\"\r\n              minlength=\"10\"\r\n              maxlength=\"10\"\r\n              formControlName=\"mobileNo\"\r\n            />\r\n            <ng-container *ngIf=\"paientFormSubmitted\">\r\n              <div *ngFor=\"let validation of patient_details_validation_messages.mobileNo\"\r\n                    class=\"has-error popover-style\">\r\n                <div\r\n                  class=\"dynamic_popover\"\r\n                  *ngIf=\"patientDetailsForm.get('mobileNo').hasError(validation.type) &&\r\n                    (patientDetailsForm.get('mobileNo').dirty ||\r\n                      patientDetailsForm.get('mobileNo').touched)\">\r\n                  {{ validation.message }} <span class=\"doArrow\"></span>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n\r\n          <div class=\"col-md-12 m-b-10\">\r\n            <label for=\"adharnumber\">Aadhaar No.</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"aadhaarNo\"\r\n              name=\"adharnumber\"\r\n              minlength=\"12\"\r\n              maxlength=\"12\"\r\n              formControlName=\"aadhaarNo\"\r\n            />\r\n            <ng-container *ngIf=\"paientFormSubmitted\">\r\n              <div *ngFor=\"let validation of patient_details_validation_messages.aadhaarNo\"\r\n                class=\"has-error popover-style\">\r\n                <div class=\"dynamic_popover\"\r\n                  *ngIf=\"patientDetailsForm.get('aadhaarNo').hasError(validation.type) &&\r\n                    (patientDetailsForm.get('aadhaarNo').dirty ||\r\n                      patientDetailsForm.get('aadhaarNo').touched)\">\r\n                  {{ validation.message }} <span class=\"doArrow\"></span>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n          <div class=\"col-md-12 m-b-10\">\r\n            <label for=\"patientid\">Patient ID</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"patientid\"\r\n              name=\"patientid\"\r\n              disabled\r\n              formControlName=\"hosPatientId\"\r\n            />\r\n          </div>\r\n          <div class=\"col-md-12 m-b-10\">\r\n            <label>DOB</label>\r\n            <p class=\"input-group m-b-0 \">\r\n              <input\r\n                id=\"birthDt\"\r\n                type=\"text\"\r\n                [matDatepicker]=\"dob\"\r\n                [max]=\"dateMax\"\r\n                [min]=\"minDate\"\r\n                class=\"form-control\"\r\n                (dateChange)=\"dobAdded($event)\"\r\n                formControlName=\"birthDt\"\r\n              />\r\n              <mat-datepicker #dob></mat-datepicker>\r\n              <span class=\"input-group-btn\">\r\n                <button\r\n                  id=\"dob\"\r\n                  class=\"btn border-left-0 btn-default btn-padding\"\r\n                  type=\"button\"\r\n                  (click)=\"datePickerToggler(dob)\"\r\n                >\r\n                  <i class=\"fa fa-calendar\"></i>\r\n                </button>\r\n              </span>\r\n            </p>\r\n          </div>\r\n          <div class=\"col-md-12 col-xs-12 age-input-group m-b-10\">\r\n            <label for=\"age\"\r\n              >Age\r\n              <p>(Years/Months/Days)</p>\r\n              <!-- <span class=\"astrik-symbol\">\r\n                <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n              </span> -->\r\n            </label>\r\n            <div class=\"input-group\">\r\n              <input\r\n                type=\"text\"\r\n                class=\"year-element\"\r\n                id=\"patientAgeYear\"\r\n                name=\"ageYear\"\r\n                minlength=\"0\"\r\n                maxlength=\"3\"\r\n                formControlName=\"patientAgeYear\"\r\n              />\r\n              <input\r\n                type=\"text\"\r\n                class=\"month-element\"\r\n                id=\"patientAgeMonth\"\r\n                name=\"ageMonth\"\r\n                minlength=\"0\"\r\n                maxlength=\"2\"\r\n                formControlName=\"patientAgeMonth\"\r\n              />\r\n              <input\r\n                type=\"text\"\r\n                class=\"day-element\"\r\n                id=\"patientAgeDays\"\r\n                name=\"ageDays\"\r\n                minlength=\"0\"\r\n                maxlength=\"2\"\r\n                formControlName=\"patientAgeDays\"\r\n              />\r\n            </div>\r\n            <ng-container *ngIf=\"paientFormSubmitted\">\r\n              <div *ngFor=\"let validation of patient_details_validation_messages.age\"\r\n                    class=\"has-error popover-style\">\r\n                <div class=\"dynamic_popover\"\r\n                  *ngIf=\"patientDetailsForm.get('age').hasError(validation.type)\">\r\n                  {{ validation.message }} <span class=\"doArrow\"></span>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n\r\n          <div class=\"col-md-12 col-xs-12 m-b-10\">\r\n            <label for=\"gender\"\r\n              >Gender\r\n              <!-- <span class=\"astrik-symbol\">\r\n                <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n              </span> -->\r\n            </label>\r\n            <select id=\"gender\" name=\"gender\" formControlName=\"gender\">\r\n              <option value=\"\"></option>\r\n              <option value=\"Male\" class=\"md-primary \">Male</option>\r\n              <option value=\"Female\" class=\"md-primary \">Female</option>\r\n              <option value=\"Transgender\" class=\"md-primary \"\r\n                >Transgender</option\r\n              >\r\n            </select>\r\n            <ng-container *ngIf=\"paientFormSubmitted\">\r\n              <div *ngFor=\"let validation of patient_details_validation_messages.gender\"\r\n                    class=\"has-error popover-style\">\r\n                <div class=\"dynamic_popover\"\r\n                     *ngIf=\"patientDetailsForm.get('gender').hasError(validation.type)\">\r\n                  {{ validation.message }} <span class=\"doArrow\"></span>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n\r\n          <div class=\"col-md-12 col-xs-12 m-b-10\">\r\n            <label for=\"addressone\"\r\n              >Address\r\n              <!-- <span class=\"astrik-symbol\">\r\n                <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n              </span> -->\r\n            </label>\r\n            <textarea\r\n            cdkTextareaAutosize\r\n            class=\"minheight\"\r\n              type=\"text\"\r\n              id=\"addressLine1\"\r\n              name=\"addressone\"\r\n              minlength=\"1\"\r\n              maxlength=\"300\"\r\n              formControlName=\"addressLine1\"\r\n            ></textarea>\r\n            <ng-container *ngIf=\"paientFormSubmitted\">\r\n              <div *ngFor=\"let validation of patient_details_validation_messages.address\"\r\n                class=\"has-error popover-style\">\r\n                <div class=\"dynamic_popover\"\r\n                     *ngIf=\"patientDetailsForm.get('addressLine1').hasError(validation.type)\">\r\n                  {{ validation.message }} <span class=\"doArrow\"></span>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n\r\n          <div class=\"col-md-12 col-xs-12 mb-10\">\r\n            <label for=\"pin\">Pin</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"pinCode\"\r\n              name=\"pin\"\r\n              minlength=\"6\"\r\n              maxlength=\"6\"\r\n              formControlName=\"pinCode\"\r\n            />\r\n            <ng-container *ngIf=\"paientFormSubmitted\">\r\n              <div *ngFor=\"let validation of patient_details_validation_messages.pincode\"\r\n                class=\"has-error popover-style\">\r\n                <div\r\n                  class=\"dynamic_popover\"\r\n                  *ngIf=\"patientDetailsForm.get('pinCode').hasError(validation.type) &&\r\n                    (patientDetailsForm.get('pinCode').dirty ||\r\n                      patientDetailsForm.get('pinCode').touched)\">\r\n                  {{ validation.message }} <span class=\"doArrow\"></span>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n          <div class=\"col-md-12 col-xs-12 m-b-10\">\r\n            <label for=\"city\"\r\n              >City\r\n              <!-- <span class=\"astrik-symbol\">\r\n                <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n              </span> -->\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"cityNm\"\r\n              name=\"city\"\r\n              minlength=\"3\"\r\n              maxlength=\"20\"\r\n              formControlName=\"cityNm\"\r\n            />\r\n            <ng-container *ngIf=\"paientFormSubmitted\">\r\n              <div *ngFor=\"let validation of patient_details_validation_messages.cityName\"\r\n                class=\"has-error popover-style\">\r\n                <div class=\"dynamic_popover\"\r\n                  *ngIf=\"patientDetailsForm.get('cityNm').hasError(validation.type)\">\r\n                  {{ validation.message }} <span class=\"doArrow\"></span>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n\r\n          <div class=\"col-md-12 col-xs-12 m-b-10\">\r\n            <label for=\"state\">State </label>\r\n            <!-- <select id=\"State\"  name=\"State\" formControlName=\"stateNm\">\r\n            <option>Andhra Pradesh</option>\r\n                    </select> -->\r\n            <input\r\n              type=\"text\"\r\n              id=\"stateNm\"\r\n              name=\"State\"\r\n              formControlName=\"stateNm\"\r\n            />\r\n          </div>\r\n          <div class=\"col-md-12 col-xs-12 m-b-10\">\r\n            <label for=\"district\">District </label>\r\n            <!-- <select id=\"district\" name=\"district\" formControlName=\"districtNm\">\r\n                      <option>Andhra</option>\r\n                    </select> -->\r\n            <input\r\n              type=\"text\"\r\n              id=\"districtNm\"\r\n              name=\"district\"\r\n              formControlName=\"districtNm\"\r\n            />\r\n          </div>\r\n\r\n          <div class=\"col-md-12 col-xs-12 m-b-20\">\r\n            <label for=\"country\"\r\n              >Country\r\n              <!-- <span class=\"astrik-symbol\">\r\n                <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n              </span> -->\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"formControlName\"\r\n              name=\"country\"\r\n              minlength=\"3\"\r\n              maxlength=\"30\"\r\n              formControlName=\"countryNm\"\r\n            />\r\n            <ng-container *ngIf=\"paientFormSubmitted\">\r\n              <div *ngFor=\"let validation of patient_details_validation_messages.CountryName\"\r\n                class=\"has-error popover-style\">\r\n                <div class=\"dynamic_popover\"\r\n                     *ngIf=\"patientDetailsForm.get('countryNm').hasError(validation.type)\">\r\n                  {{ validation.message }} <span class=\"doArrow\"></span>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-md-9 zero-padding optical-pos-form\">\r\n      <div class=\"form-header\">\r\n        <p class=\"text-uppercase txt-scarletgum\">Create Your Order</p>\r\n        <div class=\"current-order-date d-flex\">\r\n          <label for=\"country\" class=\"text-uppercase\">Date of Order : </label>\r\n          <span class = \"ft-s\"> &nbsp;{{ now | date: \"dd-MM-yyyy, hh:mm a\" }}</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        class=\"form-header col-md-12 zero-padding\"\r\n        *ngIf=\"!showBillingFromPending || isShowOrderInfo\"\r\n      >\r\n        <div class=\"menu-radio-group pos-type\">\r\n          <input\r\n            type=\"radio\"\r\n            name=\"posType\"\r\n            id=\"frames\"\r\n            value=\"frames\"\r\n            (click)=\"showBilling = false; posType = 'frames'\"\r\n            [(ngModel)]=\"posType\"\r\n          />\r\n          <label for=\"frames\">Frame Information</label>\r\n          <input\r\n            type=\"radio\"\r\n            name=\"posType\"\r\n            id=\"spectacles\"\r\n            value=\"spectacles\"\r\n            (click)=\"showBilling = false; posType = 'spectacles'\"\r\n            [(ngModel)]=\"posType\"\r\n          />\r\n          <label for=\"spectacles\">Glass Information</label>\r\n        </div>\r\n      </div>\r\n      <div class=\"pt-2\">\r\n        <div *ngIf=\"posType === 'spectacles' && !showBilling\" class=\"col-md-12\">\r\n          <app-spectacles\r\n            (addToTable)=\"insertItem($event)\"\r\n            [clearPos]=\"isClearPos\"\r\n          ></app-spectacles>\r\n        </div>\r\n        <div *ngIf=\"posType === 'frames' && !showBilling\" class=\"col-md-12\">\r\n          <app-frames\r\n            (addToTable)=\"insertItem($event)\"\r\n            [clearPos]=\"isClearPos\"\r\n          ></app-frames>\r\n        </div>\r\n\r\n        <div *ngIf=\"posType === 'contactLenses' && !showBilling\">\r\n          <app-os-contact-lens></app-os-contact-lens>\r\n        </div>\r\n\r\n        <div *ngIf=\"posType === 'others' && !showBilling\">\r\n          <app-os-other-glasses></app-os-other-glasses>\r\n        </div>\r\n\r\n        <div *ngIf=\"posType == 'accessories' && !showBilling\">\r\n          <app-os-accessories></app-os-accessories>\r\n        </div>\r\n        <div class=\"\" *ngIf=\"showBilling\">\r\n          <app-optical-billing></app-optical-billing>\r\n        </div>\r\n\r\n        <div *ngIf=\"showBilling && !posType\">\r\n          <app-optical-billing\r\n            [selectedItems]=\"addedItems\"\r\n            [patientDetails]=\"patient\"\r\n            (cancelBilling)=\"cancelBilling()\"\r\n          ></app-optical-billing>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"col-md-12 border-top-1 zero-padding\" *ngIf=\"!showBilling\">\r\n        <table\r\n          class=\"table optical-cart-table\"\r\n          *ngIf=\"addedItems.length > 0; else elseBlock\"\r\n        >\r\n          <thead>\r\n            <tr>\r\n              <th class=\"text-uppercase txt-scarletgum\">SNO.</th>\r\n              <th class=\"text-uppercase txt-scarletgum\">\r\n                Product Name & Barcode\r\n              </th>\r\n              <th class=\"text-uppercase txt-scarletgum\">Units</th>\r\n              <th class=\"text-uppercase txt-scarletgum\">Rate Per Item</th>\r\n              <th class=\"text-uppercase txt-scarletgum\">Total</th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr *ngFor=\"let items of addedItems; index as $index\">\r\n              <td>{{ $index + 1 }}.</td>\r\n              <td>\r\n                <div class=\"upc-code\">\r\n                  <p><b>Barcode</b>: {{ items.barcode }}</p>\r\n                </div>\r\n                <div>\r\n                  <p>{{ items.itemBrandNm }}</p>\r\n                </div>\r\n              </td>\r\n              <td *ngIf=\"!isShowOrderInfo\">\r\n                <p>{{ items.quantity }}</p>\r\n              </td>\r\n              <td *ngIf=\"isShowOrderInfo\">\r\n                <p>{{ items.orderQty }}</p>\r\n              </td>\r\n              <td>\r\n                <p>{{ items.brandMrp }}</p>\r\n              </td>\r\n              <td>\r\n                <p>{{ items.totalPrice }}</p>\r\n              </td>\r\n              <td>\r\n                <div\r\n                  class=\"top-corner-icons delete-icon\"\r\n                  (click)=\"deleteItem($index)\"\r\n                >\r\n                  <i class=\"fas fa-trash-alt\"></i>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n\r\n        <ng-template #elseBlock>\r\n          <div class=\"col-md-12\">\r\n            <div class=\"grid-msg-text-branch margin-top-40\" role=\"alert\">\r\n              {{ \"COMMONLABELS.NO_DATA_TEXT\" | translate }}\r\n            </div>\r\n          </div>\r\n        </ng-template>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div\r\n    class=\"col-sm-12 p-l-r-5 m-t-b-15 form-button-group\"\r\n    *ngIf=\"!showBilling\"\r\n  >\r\n    <ul>\r\n      <li>\r\n        <button\r\n          id=\"proceed_Billing\"\r\n          type=\"submit\"\r\n          class=\"btn-app btn-save\"\r\n          (click)=\"proceddToBilling()\"\r\n        >\r\n          <i\r\n            class=\"fa fa-print fa-btn-icon margin-right-5\"\r\n            aria-hidden=\"true\"\r\n          ></i>\r\n          Proceed To Billing\r\n        </button>\r\n      </li>\r\n      <li>\r\n        <button\r\n          id=\"clear_Pos\"\r\n          type=\"button\"\r\n          class=\"btn-app btn-clear\"\r\n          (click)=\"clearPos()\"\r\n        >\r\n          <i\r\n            class=\"fa fa-refresh fa-btn-icon margin-right-5\"\r\n            aria-hidden=\"true\"\r\n          ></i>\r\n          Clear\r\n        </button>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit, ChangeDetectorRef, OnDestroy } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport {\r\n  OpticalStoreApiService,\r\n  LoginApiService,\r\n  UtilService\r\n} from '@core/services';\r\nimport { OpticalStoreService } from '@app/modules/optical-store/opticalStore.service';\r\nimport { Store, select } from '@ngrx/store';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { MatDatepicker } from '@angular/material';\r\nimport { GetAgePipe } from '@shared/pipes/getAgePipe';\r\nimport { FormGroup, FormBuilder, Validators, NgForm } from '@angular/forms';\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { getSearchPatient } from '@app/modules/optical-store/reducers';\r\nimport { DatePipe } from '@angular/common';\r\nimport { FetchPatientSuccess } from '@app/modules/optical-store/actions';\r\nimport { UserSession } from '@core/models/user-session';\r\nimport { UserService } from '@core/services/user.service';\r\nimport { ActivatedRoute, Params } from '@angular/router';\r\nimport { AutoUnsubscribe } from 'ngx-auto-unsubscribe';\r\n\r\n// @AutoUnsubscribe()\r\n@Component({\r\n  selector: 'app-optical-point-of-sale',\r\n  templateUrl: './optical-point-of-sale.component.html',\r\n  styleUrls: ['./optical-point-of-sale.component.scss']\r\n})\r\nexport class OpticalPointOfSaleComponent implements OnInit, OnDestroy {\r\n  now: Date = new Date();\r\n  posType = 'frames';\r\n  addedItems: any = [];\r\n  honorificsList: any = [];\r\n  patient: any;\r\n  isShowOrderInfo: Boolean = false;\r\n  private sessionData: UserSession;\r\n  patientDetailsForm: FormGroup;\r\n  public showBilling: Boolean = false;\r\n  public patientData$: Observable<any>;\r\n  public patientDataSubscription: Subscription;\r\n  public opticalCommonDataSubscription: Subscription;\r\n  patientAgeMonth;\r\n  patientAgeYear;\r\n  patientAgeDays;\r\n  public isClearPos = false;\r\n  public paientFormSubmitted = false;\r\n  public orderType;\r\n  patient_details_validation_messages = {\r\n    firstName: [\r\n      { type: 'required', message: '* First Name is required' },\r\n      { type: 'minlength', message: '* First Name must be at least 3 characters long' },\r\n      { type: 'maxlength', message: '* First Name cannot be more than 50 characters long' },\r\n      { type: 'pattern', message: 'First Name must contain only letters' }\r\n    ],\r\n    middleName: [\r\n      { type: 'minlength', message: '* Middle Name must be at least 3 characters long' },\r\n      { type: 'maxlength', message: '* Middle Name cannot be more than 50 characters long' },\r\n      { type: 'pattern', message: 'Middle Name must contain only letters' }\r\n    ],\r\n    LastName: [\r\n      { type: 'required', message: '* Last Name is required' },\r\n      { type: 'minlength', message: '* Last Name must be at least 1 characters long' },\r\n      { type: 'maxlength', message: '* Last Name cannot be more than 50 characters long' },\r\n      { type: 'pattern', message: 'Last Name must contain only letters' }\r\n    ],\r\n    email: [{ type: 'pattern', message: 'Enter a valid email' }],\r\n    address: [\r\n      { type: 'required', message: '* Address is required' },\r\n      { type: 'minlength', message: '* Address is Too Small' },\r\n      { type: 'maxlength', message: '* Address is Too Long' }\r\n    ],\r\n    pincode: [\r\n      { type: 'minlength', message: '* Pincode is Too Small' },\r\n      { type: 'maxlength', message: '* Pincode is Too Long' },\r\n      { type: 'pattern', message: 'Enter Valid Pincode' }\r\n    ],\r\n    cityName: [\r\n      { type: 'required', message: '* City is required' },\r\n      { type: 'minlength', message: '* City is Too Small' },\r\n      { type: 'maxlength', message: '* City is Too Long' },\r\n      { type: 'pattern', message: 'Enter a Valid City' }\r\n    ],\r\n    CountryName: [\r\n      { type: 'required', message: '* Country is required' },\r\n      { type: 'minlength', message: '* Country is Too Small' },\r\n      { type: 'maxlength', message: '* Country is Too Long' },\r\n      { type: 'pattern', message: 'Enter a Valid Country' }\r\n    ],\r\n    mobileNo: [\r\n      { type: 'minlength', message: 'Mobile No is Too Small' },\r\n      { type: 'maxlength', message: 'Mobile No is Too Long' },\r\n      { type: 'pattern', message: 'Enter a Valid Mobile No' }\r\n    ],\r\n    aadhaarNo: [\r\n      { type: 'minlength', message: 'Aadhar No is Too Small' },\r\n      { type: 'maxlength', message: 'Aadhar No is Too Long' },\r\n      { type: 'pattern', message: 'Enter a Valid Aadhar No' }\r\n    ],\r\n    age: [\r\n      { type: 'required', message: '* Age is required' }\r\n    ],\r\n    gender: [\r\n      { type: 'required', message: '* Gender is required' }\r\n    ]\r\n  };\r\n  dateMax = new Date();\r\n  minDate = new Date(1900, 0, 1);\r\n  paymentData: any;\r\n  showBillingFromPending = false;\r\n  opticalData: any;\r\n\r\n  constructor(\r\n    private translate: TranslateService,\r\n    private loginService: LoginApiService,\r\n    private activatedRoute: ActivatedRoute,\r\n    private opticalService: OpticalStoreApiService,\r\n    private componentOpticalStoreService: OpticalStoreService,\r\n    private store: Store<any>,\r\n    private toaster: ToastrService,\r\n    private agePipe: GetAgePipe,\r\n    private formbuilder: FormBuilder,\r\n    private changeDecRef: ChangeDetectorRef,\r\n    private datePipe: DatePipe,\r\n    private utilservice: UtilService,\r\n    private opticalStoreService: OpticalStoreService,\r\n    userService: UserService,\r\n  ) {\r\n    translate.use(translate.getBrowserLang() || 'en');\r\n    this.sessionData = userService.getUser();\r\n\r\n    this.patientData$ = this.store.pipe(select(getSearchPatient));\r\n  }\r\n\r\n  ngOnInit() {\r\n    // new sFetchPatientSuccess(data);\r\n    this.activatedRoute.queryParams.subscribe(\r\n      (params: Params) => {\r\n        this.orderType = params['type'];\r\n      }\r\n    );\r\n    this.componentOpticalStoreService.paymentData\r\n      .subscribe(arg => {\r\n        if (arg) {\r\n          this.showBillingFromPending = true;\r\n          this.showBilling = true;\r\n          this.paymentData = arg;\r\n        }\r\n      });\r\n\r\n    this.initForm();\r\n    this.fetchHonorifics();\r\n    if (this.orderType === 'order') {\r\n      this.isShowOrderInfo = true;\r\n    }\r\n    this.store.dispatch(new FetchPatientSuccess([]));\r\n    this.patientDataSubscription = this.patientData$.subscribe(\r\n      patchPatientData => {\r\n        const [data] = patchPatientData.data;\r\n        this.componentOpticalStoreService.patientData.next(patchPatientData.data);\r\n        if (patchPatientData.data) {\r\n          this.opticalStoreService.setPatientData(patchPatientData.data);\r\n        }\r\n        if (!patchPatientData.errorOccured && data) {\r\n          this.patientDetailsForm.reset();\r\n          this.patientDetailsForm.patchValue(data);\r\n          const age = data.birthDt\r\n            ? this.utilservice.parseDob(data.birthDt)\r\n            : this.utilservice.parseAgeIndays(data.age);\r\n          const ageObj = {\r\n            patientAgeYear: age.get('years'),\r\n            patientAgeMonth: age.get('months'),\r\n            patientAgeDays: age.get('days')\r\n          };\r\n          this.patientDetailsForm.patchValue(ageObj);\r\n        }\r\n      }\r\n    );\r\n\r\n    this.patientDetailsForm\r\n      .get('patientAgeYear')\r\n      .valueChanges.subscribe(val => {\r\n        this.onChangeAge(Number(val), 'patientAgeYear');\r\n      });\r\n\r\n    this.patientDetailsForm\r\n      .get('patientAgeMonth')\r\n      .valueChanges.subscribe(val => {\r\n        this.onChangeAge(Number(val), 'patientAgeMonth');\r\n      });\r\n\r\n    this.patientDetailsForm\r\n      .get('patientAgeDays')\r\n      .valueChanges.subscribe(val => {\r\n        this.onChangeAge(Number(val), 'patientAgeDays');\r\n      });\r\n\r\n     this.opticalCommonDataSubscription = this.componentOpticalStoreService.opticalCommonData.subscribe(val => {\r\n        if (val) {\r\n          this.opticalData = val;\r\n          if (this.opticalData === 'pointOfSale' || this.opticalData === 'pointOfOrder') {\r\n            this.showBilling = false;\r\n            this.posType = 'frames';\r\n          }\r\n        }\r\n      });\r\n  }\r\n  initForm() {\r\n    this.patientDetailsForm = this.formbuilder.group({\r\n      patientId: null,\r\n      honorificNm: this.formbuilder.control(null),\r\n      firstNm: this.formbuilder.control(null, [\r\n        Validators.required,\r\n        Validators.minLength(3),\r\n        Validators.maxLength(50),\r\n        Validators.pattern(/^[a-zA-Z ]*$/)\r\n      ]),\r\n      middleNm: this.formbuilder.control(null, [\r\n        Validators.minLength(3),\r\n        Validators.maxLength(50),\r\n        Validators.pattern(/^[a-zA-Z ]*$/)\r\n      ]),\r\n      lastNm: this.formbuilder.control(null, [\r\n        // Validators.required,\r\n        Validators.minLength(1),\r\n        Validators.maxLength(50),\r\n        Validators.pattern(/^[a-zA-Z ]*$/)\r\n      ]),\r\n      emailId: this.formbuilder.control(\r\n        null, [Validators.pattern(/^[a-z]+[a-z0-9._]+@[a-z]+\\.[a-z.]{2,5}$/)]\r\n      ),\r\n      mobileNo: this.formbuilder.control(null, [\r\n        Validators.minLength(10),\r\n        Validators.maxLength(10),\r\n        Validators.pattern(/(5|6|7|8|9)\\d{9}$/)\r\n      ]),\r\n      aadhaarNo: this.formbuilder.control(null, [\r\n        Validators.minLength(12),\r\n        Validators.maxLength(12),\r\n        Validators.pattern(/^[2-9][0-9]{11}$/)\r\n      ]),\r\n      hosPatientId: this.formbuilder.control(null),\r\n      birthDt: this.formbuilder.control(null),\r\n      age: this.formbuilder.control(''),\r\n      patientAgeMonth: this.formbuilder.control(null),\r\n      patientAgeYear: this.formbuilder.control(null),\r\n      patientAgeDays: this.formbuilder.control(null),\r\n      gender: this.formbuilder.control(''),\r\n      addressLine1: this.formbuilder.control(null, [\r\n        // Validators.required,\r\n        Validators.minLength(1),\r\n        Validators.maxLength(300)\r\n      ]),\r\n      pinCode: this.formbuilder.control(null, [\r\n        Validators.minLength(6),\r\n        Validators.maxLength(6),\r\n        Validators.pattern(/^[1-9][0-9]{5}$/)\r\n      ]),\r\n      cityNm: this.formbuilder.control(null, [\r\n        // Validators.required,\r\n        Validators.minLength(3),\r\n        Validators.maxLength(20),\r\n        Validators.pattern(/^[a-zA-Z ]*$/)\r\n      ]),\r\n      stateNm: this.formbuilder.control(null),\r\n      districtNm: this.formbuilder.control(null),\r\n      countryNm: this.formbuilder.control('India', [\r\n        // Validators.required,\r\n        Validators.minLength(3),\r\n        Validators.maxLength(30),\r\n        Validators.pattern(/^[a-zA-Z ]*$/)\r\n      ])\r\n    });\r\n  }\r\n  datePickerToggler(datePicker: MatDatepicker<Date>) {\r\n    datePicker[datePicker.opened ? 'close' : 'open']();\r\n  }\r\n  dobAdded(dob) {\r\n    const ageArray = this.utilservice.parseDob(\r\n      this.datePipe.transform(dob.value, 'yyyy-MM-dd')\r\n    );\r\n    const ageObj = {\r\n      patientAgeYear: ageArray.get('years'),\r\n      patientAgeMonth: ageArray.get('months'),\r\n      patientAgeDays: ageArray.get('days')\r\n    };\r\n    this.patientDetailsForm.patchValue(ageObj);\r\n  }\r\n\r\n  fetchHonorifics() {\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      masterType: 'HONORIFICS',\r\n      authenticatedUserId: this.sessionData.regId\r\n    };\r\n\r\n    this.loginService.fetchListOfCommonValues(payload).subscribe(\r\n      (response: any) => {\r\n        if (response.responseCode === 'E200') {\r\n          this.honorificsList = response.data;\r\n          this.changeDecRef.detectChanges();\r\n\r\n        } else if (response.responseCode === 'E400') {\r\n          this.toaster.error('Failure!', 'Something went wrong');\r\n        }\r\n      },\r\n      err => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n\r\n  insertItem(item) {\r\n    if (this.orderType === 'order') {\r\n      item.totalPrice = Number(item.orderQty) * Number(item.brandMrp);\r\n    } else {\r\n    item.totalPrice = Number(item.quantity) * Number(item.brandMrp);\r\n    }\r\n    item.totalTax = Number(item.cgstTaxPercntg) + Number(item.sgstTaxPercntg);\r\n    this.addedItems.push(item);\r\n  }\r\n\r\n  proceddToBilling() {\r\n    this.paientFormSubmitted = true;\r\n    if (this.patientDetailsForm.invalid) {\r\n      return;\r\n    }\r\n    if (this.addedItems.length === 0) {\r\n      this.toaster.warning('Please Add Items');\r\n      return;\r\n    }\r\n    this.posType = '';\r\n    this.showBilling = true;\r\n    this.componentOpticalStoreService.showsBilling.next('pointofsale');\r\n    this.patient = { ...this.patientDetailsForm.value };\r\n    if (this.patient.birthDt) {\r\n      this.patient.birthDt = this.datePipe.transform(\r\n        this.patient.birthDt,\r\n        'yyyy-MM-dd'\r\n      );\r\n    } else {\r\n      this.patient.age =\r\n        Number(this.patient.patientAgeYear * 365) +\r\n        Number(this.patient.patientAgeMonth * 31) +\r\n        Number(this.patient.patientAgeDays);\r\n    }\r\n  }\r\n\r\n  deleteItem(pos) {\r\n    this.addedItems.splice(pos, 1);\r\n  }\r\n\r\n  // onchangeAge(val, ageType) {\r\n  //   this[ageType] = Number(val);\r\n  // }\r\n\r\n  clearPos() {\r\n    this.patientDetailsForm.reset();\r\n    this.paientFormSubmitted = false;\r\n    this.isClearPos = true;\r\n    this.addedItems = [];\r\n  }\r\n\r\n  onChangeAge(ev, ageType) {\r\n    if (ageType === 'patientAgeYear') {\r\n      this.patientDetailsForm.patchValue({\r\n        age:\r\n          Number(ev * 365) +\r\n          Number(this.patientDetailsForm.get('patientAgeMonth').value * 31) ||\r\n          0 + Number(this.patientDetailsForm.get('patientAgeDays').value) ||\r\n          0\r\n      });\r\n    } else if (ageType === 'patientAgeMonth') {\r\n      this.patientDetailsForm.patchValue({\r\n        age:\r\n          Number(this.patientDetailsForm.get('patientAgeYear').value * 365) ||\r\n          0 + Number(ev * 31) ||\r\n          0 + Number(this.patientDetailsForm.get('patientAgeDays').value) ||\r\n          0\r\n      });\r\n    } else if (ageType === 'patientAgeDays') {\r\n      this.patientDetailsForm.patchValue({\r\n        age:\r\n          Number(this.patientDetailsForm.get('patientAgeYear').value * 365) ||\r\n          0 +\r\n          Number(this.patientDetailsForm.get('patientAgeMonth').value * 31) ||\r\n          0 + Number(ev) ||\r\n          0\r\n      });\r\n    }\r\n  }\r\n\r\n  cancelBilling(ev) {\r\n    this.showBilling = false;\r\n    this.addedItems = [];\r\n    this.posType = 'frames';\r\n    this.patientDetailsForm.reset();\r\n    this.paientFormSubmitted = false;\r\n  }\r\n  ngOnDestroy() {\r\n  }\r\n}\r\n","<div class=\"col-md-12 col-cd-12\">\r\n  <i class=\"fas fa-print txt-light-green\" aria-hidden=\"true\" (click)=\"printInvoice()\"></i>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ICellRendererAngularComp } from 'ag-grid-angular';\r\nimport { RowNode, GridApi, ICellRendererParams } from 'ag-grid';\r\nimport { UserSession } from '@core/models/user-session';\r\nimport { PosReturnHistoryComponent } from '@app/modules/optical-store/containers/optical-point-of-sale/optical-return-list/optical-return-list.component';\r\nimport { OpticalStoreService } from '@app/modules/optical-store/opticalStore.service';\r\n\r\n@Component({\r\n  selector: 'app-optical-return-actions-list',\r\n  templateUrl: './optical-return-actions-list.component.html',\r\n  styleUrls: ['./optical-return-actions-list.component.scss']\r\n})\r\nexport class OpticalReturnActionsListComponent implements ICellRendererAngularComp {\r\n\r\n  public rowNode: RowNode;\r\n  private api: GridApi;\r\n  private params: ICellRendererParams;\r\n  private selectedRows: any[] = [];\r\n  private sessionData: UserSession;\r\n  private parentComponent: PosReturnHistoryComponent;\r\n  constructor(\r\n    private componentOpticalStoreService: OpticalStoreService,\r\n  ) {\r\n   }\r\n\r\n  agInit(params: ICellRendererParams): void  {\r\n    this.api = params.api;\r\n    this.rowNode = params.node;\r\n    this.params = params;\r\n    this.parentComponent = params.context.componentParent;\r\n  }\r\n\r\n  refresh(): boolean {\r\n    return false;\r\n  }\r\n  returnSelectedRow() {\r\n    this.params.context.componentParent.onReturnItem(this.rowNode);\r\n  }\r\n  printInvoice() {\r\n    if (this.parentComponent) {\r\n      this.parentComponent.posReturnPrint(this.params.data);\r\n    }\r\n  }\r\n\r\n}\r\n","<!-- <div class=\"col-md-12\">\r\n    <div class=\"box-panel-form white-bg\">\r\n      <form [formGroup]=\"pointOfSaleSearchForm\" (ngSubmit)=\"fetchPointOfSaleInventory()\">\r\n        <div class=\"col-md-12 zero-padding\">\r\n          <div class=\"col-md-2  col-xs-12\">\r\n            <label class=\"txt-iris-blue\" for=\"manufactureDate\">From Date</label>\r\n            <p class=\"input-group m-b-0 \">\r\n              <input type=\"text\" [matDatepicker]=\"fromDate\" formControlName=\"fromDate\">\r\n              <mat-datepicker #fromDate></mat-datepicker>\r\n              <span class=\"input-group-btn\">\r\n                <button class=\"btn btn-default\" type=\"button\" (click)=\"datePickerToggler(fromDate)\">\r\n                  <i class=\"fa fa-calendar\"></i>\r\n                </button>\r\n              </span>\r\n            </p>\r\n          </div>\r\n          <div class=\"col-md-2  col-xs-12\">\r\n            <label class=\"txt-iris-blue\" for=\"manufactureDate\">To Date</label>\r\n            <p class=\"input-group m-b-0 \">\r\n              <input type=\"text\" [matDatepicker]=\"toDate\" formControlName=\"toDate\">\r\n              <mat-datepicker #toDate></mat-datepicker>\r\n              <span class=\"input-group-btn\">\r\n                <button class=\"btn btn-default\" type=\"button\" (click)=\"datePickerToggler(toDate)\">\r\n                  <i class=\"fa fa-calendar\"></i>\r\n                </button>\r\n              </span>\r\n            </p>\r\n          </div>\r\n\r\n        </div>\r\n        <div class=\"pull-right\">\r\n          <button type=\"submit\" class=\"btn-app btn-upload\">Search</button>\r\n          <button type=\"button\" class=\"input_butn_style\" (click)=\"clearFilter()\">Clear</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n<div> -->\r\n<div>\r\n  <ag-grid-angular style=\"height:350px;\" class=\"ag-theme-balham p-10\" (gridReady)=\"gridReady($event)\" [enableSorting]=\"true\"\r\n    [enableFilter]=\"true\" [gridOptions]=\"gridOptions\" [rowData]=\"rowData\" [floatingFilter]=\"true\" #grid>\r\n  </ag-grid-angular>\r\n</div>\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  Inject,\r\n  Input,\r\n  OnChanges,\r\n  SimpleChanges,\r\n  OnDestroy\r\n} from '@angular/core';\r\nimport { GridOptions, GridApi, ColumnApi } from 'ag-grid/main';\r\nimport { UserSession } from '@core/models/user-session';\r\nimport { UserService } from '@core/services/user.service';\r\nimport { OpticalStoreService } from '@app/modules/optical-store/opticalStore.service';\r\nimport { OpticalStoreApiService, MOMENT, CLONEDEEP } from '@core/services';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\r\nimport { DatePipe } from '@angular/common';\r\nimport { MatDatepicker } from '@angular/material';\r\nimport {\r\n  FormGroup,\r\n  FormBuilder,\r\n  Validators,\r\n  FormControl\r\n} from '@angular/forms';\r\n// tslint:disable-next-line:max-line-length\r\nimport { OpticalPointOfSaleDueListComponent } from './../optical-invoice-list/optical-point-of-sale-due-list/optical-point-of-sale-due-list.component';\r\n// tslint:disable-next-line:max-line-length\r\nimport { OpticalReturnActionsListComponent } from '@app/modules/optical-store/containers/optical-point-of-sale/optical-return-list/optical-return-actions-list/optical-return-actions-list.component';\r\nimport { ReportsService } from '@core/services/reports-api.service';\r\nimport { AutoUnsubscribe } from 'ngx-auto-unsubscribe';\r\n// @AutoUnsubscribe()\r\n@Component({\r\n  selector: 'app-pos-return',\r\n  templateUrl: './optical-return-list.component.html'\r\n})\r\nexport class PosReturnHistoryComponent implements OnChanges, OnDestroy {\r\n  @Input()\r\n  itemReturn: any;\r\n\r\n  private sessionData: UserSession;\r\n  private gridApi: GridApi;\r\n  private gridColumnApi: ColumnApi;\r\n\r\n  rowData: any;\r\n  constructor(\r\n    @Inject(MOMENT) private moment,\r\n    userService: UserService,\r\n    @Inject(CLONEDEEP) private cloner,\r\n    public dialog: MatDialog,\r\n    private opticalStoreService: OpticalStoreService,\r\n    private reportService: ReportsService,\r\n    private toasterService: ToastrService\r\n  ) {\r\n    this.sessionData = userService.getUser();\r\n  }\r\n\r\n  gridOptions: GridOptions = {\r\n    columnDefs: [\r\n      {\r\n        headerName: 'Bill Number',\r\n        field: 'opticalBillNo',\r\n        cellStyle: { color: '#00a8dd' },\r\n        onCellClicked: this.onCelllClicked.bind(this)\r\n      },\r\n      { headerName: 'PatientId', field: 'hosPatientId' },\r\n      { headerName: 'Patient Name', field: 'patientNm' },\r\n      { headerName: 'Remarks', field: 'returnRemarks' },\r\n      {\r\n        headerName: 'Return Date',\r\n        field: 'returnDt',\r\n        valueFormatter: this.agGridDateFormatter.bind(this)\r\n      },\r\n      { headerName: 'Service Amount', field: 'totalReturnServiceAmt' },\r\n      { headerName: 'Total Tax', field: 'totalTaxAmt' },\r\n      { headerName: 'Total Amount', field: 'totalAmt' },\r\n      { headerName: 'Due Deduction Amt', field: 'dueDeductionAmt' },\r\n      { headerName: 'Return Amount', field: 'totalReturnAmt' },\r\n      {\r\n        headerName: 'Actions',\r\n        field: '',\r\n        suppressFilter: true,\r\n        cellRendererFramework: OpticalReturnActionsListComponent\r\n      }\r\n    ],\r\n    context: {\r\n      componentParent: this\r\n    }\r\n  };\r\n\r\n  ngOnChanges() {\r\n    if (this.itemReturn) {\r\n      this.rowData = this.itemReturn.map(value => {\r\n        const _value = this.cloner(value);\r\n        _value.totalTaxAmt = Math.round(value.totaSgstAmt + value.totalCgstAmt);\r\n        _value.totalAmt = Math.round(\r\n          _value.totalReturnServiceAmt +\r\n            (value.totaSgstAmt + value.totalCgstAmt)\r\n        );\r\n        return _value;\r\n      });\r\n    }\r\n  }\r\n\r\n  onCelllClicked(params) {\r\n    const billData = params.data;\r\n    billData.keyFrom = 'returnHistory';\r\n    const dialogRef = this.dialog.open(OpticalPointOfSaleDueListComponent, {\r\n      width: '50vw',\r\n      data: billData,\r\n      disableClose: true\r\n    });\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      if (result) {\r\n      }\r\n    });\r\n  }\r\n\r\n  agGridDateFormatter(params) {\r\n    return this.moment(params.value).format('DD/MM/YYYY');\r\n  }\r\n\r\n  gridReady(params) {\r\n    this.gridApi = params.api;\r\n    this.gridColumnApi = params.columnApi;\r\n  }\r\n  posReturnPrint(params) {\r\n    const queryparams = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId,\r\n      opticalPointOfSaleReturnId: params.opticalPointOfSaleReturnId\r\n    };\r\n    this.reportService.fetchOpticalPosReturnsReport(queryparams).subscribe((response) => {\r\n      if (response instanceof ArrayBuffer) {\r\n        const ReturnRePrint = new Blob([response], {\r\n          type: 'application/pdf'\r\n        });\r\n        const reportURL = URL.createObjectURL(ReturnRePrint);\r\n        const win = window.open('', '_blank');\r\n        win.location.href = reportURL;\r\n        setTimeout(() => {\r\n          win.print();\r\n        }, 1000);\r\n      } else if (response.responseCode === 'E400') {\r\n        this.toasterService.error('Failure', response.responseMessage);\r\n      }\r\n    },\r\n    () => {\r\n      this.toasterService.error('failure', 'Something Went Wrong');\r\n    }\r\n    );\r\n  }\r\n  ngOnDestroy() {\r\n  }\r\n}\r\n","<p>\r\n  optical-purchase-order works!\r\n</p>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-optical-purchase-order',\r\n  templateUrl: './optical-purchase-order.component.html',\r\n  styleUrls: ['./optical-purchase-order.component.scss']\r\n})\r\nexport class OpticalPurchaseOrderComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<div class=\"optical-vendor-new-invoice clearfix\">\r\n  <div class=\"col-sm-12 p-0\">\r\n    <div class=\"box-panel-form bg-white clearfix border-radius-all-side border-all-side p-t-10 p-b-10\">\r\n      <form [formGroup]=\"invoiceHistoryForm\" (ngSubmit)=\"fetchInvoiceHistoryForm()\">\r\n        <div class=\"row m-0 p-0\">\r\n\r\n          <div class=\"col-sm-3 col-xs-12 p-0 p-l-10\">\r\n            <label for=\"invoiceNo\">Enter Invoice/Bill Number</label>\r\n            <input type=\"text\" id=\"modelNo\" name=\"modelNo\" formControlName=\"vendorInvoiceNo\">\r\n          </div>\r\n          <div class=\"col-sm-2 col-xs-12 p-0 p-l-10\">\r\n            <label for=\"manufactureDate\">From Date</label>\r\n            <p class=\"input-group m-b-0 \">\r\n              <input id=\"dateMax1\" type=\"text\" [matDatepicker]=\"fromDt\" [max]=\"dateMax\" class=\"form-control\" [min] = \"dateMin\" (dateChange)=\"changeDateFunction()\" formControlName=\"fromDt\">\r\n              <mat-datepicker #fromDt></mat-datepicker>\r\n              <span class=\"input-group-btn\">\r\n                <button id=\"calendar1\" class=\"btn btn-default btn-padding\" type=\"button\" (click)=\"datePickerToggler(fromDt)\">\r\n                  <i class=\"fa fa-calendar\"></i>\r\n                </button>\r\n              </span>\r\n            </p>\r\n          </div>\r\n          <div class=\"col-sm-2 col-xs-12 p-0 p-l-10\">\r\n            <label for=\"manufactureDate\">To Date</label>\r\n            <p class=\"input-group m-b-0 \">\r\n              <input id=\"toDt\" type=\"text\" [matDatepicker]=\"toDt\" [max]=\"dateMax\" [min] = \"minDate\" class=\"form-control\" formControlName=\"toDt\">\r\n              <mat-datepicker #toDt></mat-datepicker>\r\n              <span class=\"input-group-btn\">\r\n                <button id=\"_calendar2\" class=\"btn btn-default btn-padding\" type=\"button\" (click)=\"datePickerToggler(toDt)\">\r\n                  <i class=\"fa fa-calendar\"></i>\r\n                </button>\r\n              </span>\r\n            </p>\r\n          </div>\r\n          <div class=\"col-sm-1 m-t-20 p-0 p-l-10\">\r\n            <button id=\"btn_upload\" type=\"submit\" class=\"btn-app btn-upload\">Search</button>\r\n          </div>\r\n\r\n        </div>\r\n      </form>\r\n      <div class=\"col-sm-12 p-l-10 p-r-10 p-t-10\">\r\n        <ag-grid-angular style=\"height:350px;\" class=\"ag-theme-balham\" (gridReady)=\"gridReady($event)\" [enableSorting]=\"true\" [enableFilter]=\"true\"\r\n          [gridOptions]=\"gridOptions\" [rowData]=\"rowData\" [floatingFilter]=\"true\" #grid>\r\n        </ag-grid-angular>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit, Inject, OnDestroy } from '@angular/core';\r\nimport { MatDatepicker } from '@angular/material';\r\nimport {\r\n  FormGroup,\r\n  FormBuilder,\r\n  Validators,\r\n  FormControl\r\n} from '@angular/forms';\r\nimport { Observable, concat, of, Subject } from 'rxjs';\r\nimport {\r\n  debounceTime,\r\n  distinctUntilChanged,\r\n  filter,\r\n  switchMap,\r\n  map,\r\n  catchError\r\n} from 'rxjs/operators';\r\nimport { DatePipe } from '@angular/common';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { OpticalStoreService } from '@app/modules/optical-store/opticalStore.service';\r\nimport { OpticalStoreApiService, MOMENT } from '@core/services';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { GridOptions, GridApi, ColumnApi } from 'ag-grid/main';\r\nimport { VendorInvoiceBillComponent } from '../../vendor-invoice-bill-dialog/vendor-invoice-bill-dialog.component';\r\nimport { UserSession } from '@core/models/user-session';\r\nimport { UserService } from '@core/services/user.service';\r\nimport { AutoUnsubscribe } from 'ngx-auto-unsubscribe';\r\n// @AutoUnsubscribe()\r\n@Component({\r\n  selector: 'app-invoice-history',\r\n  templateUrl: './invoice-history.component.html',\r\n  styleUrls: ['./invoice-history.component.scss']\r\n})\r\nexport class InvoiceHistoryComponent implements OnInit, OnDestroy {\r\n  invoiceHistoryForm: FormGroup;\r\n  private sessionData: UserSession;\r\n  modeTransport: any[] = [];\r\n  vendorsList: any[] = [];\r\n  fetchVendorArry: any[] = [];\r\n  brandNameList$: Observable<any>;\r\n  brandNameListinput$ = new Subject<string>();\r\n  public vendorNm;\r\n  private gridApi: GridApi;\r\n  dateMax = new Date();\r\n  dateMin: any;\r\n  fromDt: any;\r\n minDate: any;\r\n  private gridColumnApi: ColumnApi;\r\n  gridOptions: GridOptions = {\r\n    columnDefs: [\r\n      { headerName: 'Invoice Number', field: 'vendorInvoiceNo' },\r\n      { headerName: 'Vendor Name', field: 'vendorNm' },\r\n      { headerName: 'Invoice Date', field: 'vendorInvoiceDt', valueFormatter : this.agGridDateFormatter.bind(this) },\r\n      { headerName: 'Total Amount', field: 'totalAmt' },\r\n      { headerName: 'Paid Amount', field: 'paidAmt' },\r\n      { headerName: 'Due Amount', field: 'totalDueAmt' },\r\n      { headerName: 'Mode of Transport', field: 'shippingType' },\r\n      {\r\n        headerName: 'Pay Bill',\r\n        suppressFilter: true,\r\n        field: 'payNow',\r\n        cellRendererFramework: VendorInvoiceBillComponent\r\n      }\r\n    ],\r\n    context: {\r\n      componentParent: this\r\n    }\r\n  };\r\n\r\n  rowData: any;\r\n\r\n  constructor(\r\n    @Inject(MOMENT) private moment,\r\n    private formbuilder: FormBuilder,\r\n    private componentOpticalService: OpticalStoreService,\r\n    private opticalService: OpticalStoreApiService,\r\n    private toaster: ToastrService,\r\n    private datePipe: DatePipe,\r\n    userService: UserService,\r\n  ) {\r\n    this.sessionData = userService.getUser();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.init();\r\n    this.fetchVendorsList();\r\n    this.fetchInvoiceHistoryForm();\r\n    this.changeDateFunction();\r\n  }\r\n\r\n  init() {\r\n    this.invoiceHistoryForm = this.formbuilder.group({\r\n      vendor: this.formbuilder.control(null),\r\n      vendorInvoiceNo: this.formbuilder.control(''),\r\n      fromDt: this.formbuilder.control(''),\r\n      toDt: this.formbuilder.control('')\r\n    });\r\n    const currentDate = this.datePipe.transform(new Date(), 'yyyy-MM-dd');\r\n    this.invoiceHistoryForm.controls['fromDt'].setValue(currentDate);\r\n    this.invoiceHistoryForm.controls['toDt'].setValue(currentDate);\r\n  }\r\n\r\n  gridReady(params) {\r\n    this.gridApi = params.api;\r\n    this.gridColumnApi = params.columnApi;\r\n  }\r\n  agGridDateFormatter(params) {\r\n    return this.moment(params.value).format('DD/MM/YYYY');\r\n  }\r\n\r\n  datePickerToggler(datePicker: MatDatepicker<Date>) {\r\n    datePicker[datePicker.opened ? 'close' : 'open']();\r\n  }\r\n\r\n  changeDateFunction() {\r\n   this.fromDt = this.invoiceHistoryForm.value.fromDt;\r\n   this.minDate = this.fromDt;\r\n   return this.fromDt;\r\n  }\r\n\r\n\r\n  fetchVendorsList() {\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId\r\n    };\r\n    this.opticalService.fetchVendorsList(payload).subscribe(\r\n      (response: any) => {\r\n        if (response.responseCode === 'E200') {\r\n          this.vendorsList = response.data;\r\n          // this.invoiceHistoryForm.reset();\r\n        } else if (response.response === 'E400') {\r\n          this.toaster.error('Failure!', 'Something went wrong');\r\n        }\r\n      },\r\n      err => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n\r\n  onAddVendor(selectedVendor) {\r\n    console.log(selectedVendor);\r\n  }\r\n\r\n  fetchInvoiceHistoryForm() {\r\n    const payload = {\r\n      fromDt: this.datePipe.transform(\r\n        this.invoiceHistoryForm.value.fromDt,\r\n        'yyyy-MM-dd'\r\n      ),\r\n      toDt: this.datePipe.transform(\r\n        this.invoiceHistoryForm.value.toDt,\r\n        'yyyy-MM-dd'\r\n      ),\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId\r\n    };\r\n    if (this.invoiceHistoryForm.get('vendorInvoiceNo').value) {\r\n      payload['vendorInvoiceNo'] = this.invoiceHistoryForm.get(\r\n        'vendorInvoiceNo'\r\n      ).value;\r\n    }\r\n    this.opticalService.fetchVendorInvoiceDetails(payload).subscribe(\r\n      (response: any) => {\r\n        if (response.responseCode === 'E200') {\r\n          this.fetchVendorArry = response.data.map(function(el) {\r\n            const priceObject = Object.assign({}, el);\r\n            priceObject['paidAmt'] = el.totalAmt - el.totalDueAmt;\r\n            priceObject['payNow'] = 'payNow';\r\n            return priceObject;\r\n          });\r\n          this.gridApi.setRowData(this.fetchVendorArry);\r\n        } else if (response.response === 'E400') {\r\n          this.toaster.error('Failure!', 'Something went wrong');\r\n        }\r\n      },\r\n      err => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n  ngOnDestroy() {\r\n  }\r\n}\r\n","<div class=\"frameLenses-vendor-invoices vendor_invoice_modal_align\">\r\n  <form [formGroup]=\"addFramesForm\">\r\n    <div class=\"box-panel-form bg-white col-sm-12 p-0 border-radius-all-side border-all-side p-t-10 p-b-10 m-b-10\">\r\n      <div class=\"row m-0\">\r\n        <div class=\"col-md-4 col-xs-12\">\r\n          <label>Vendor\r\n            <span class=\"astrik-symbol\">\r\n              <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n            </span>\r\n          </label>\r\n          <ng-select id=\"vendor\" [items]=\"vendorsList\" bindLabel=\"vendorNm\" [hideSelected]=\"true\" (change)=\"onAddVendor($event)\" formControlName=\"vendor\">\r\n          </ng-select>\r\n        </div>\r\n        <div class=\"col-md-4 col-xs-12\">\r\n          <label>Manufacturer\r\n            <span class=\"astrik-symbol\">\r\n              <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n            </span>\r\n          </label>\r\n          <ng-select id=\"manufacturer\" [items]=\"manufacturersList\" bindLabel=\"manufacturerNm\" [hideSelected]=\"true\" (change)=\"onAddManufacturer($event)\"\r\n            formControlName=\"manufacturer\">\r\n          </ng-select>\r\n        </div>\r\n        <!--for lens data-->\r\n        <div class = \"col-md-4 col-xs-12 m-t-5\" *ngIf=\"menuType === 'lenses'\">\r\n          <label for=\"LensType\">Lens Type</label>\r\n          <ng-select id=\"lensTypeList\"\r\n            bindValue = \"opticalCode\"\r\n            [items]=\"lensTypeList$ | async\"\r\n            bindLabel=\"opticalCode\"\r\n            [hideSelected]=\"true\"\r\n            [typeahead] = \"lensTypeListinput$\"\r\n            formControlName=\"lensType\">\r\n          </ng-select>\r\n        </div>\r\n        <div class = \"col-md-4 col-xs-12 m-t-5\" *ngIf=\"menuType === 'lenses'\">\r\n          <label for=\"CoatingType\">Coating Type</label>\r\n          <ng-select id=\"coatingTypeList\"\r\n            bindValue = \"opticalCode\"\r\n            [items]=\"coatingTypeList$ | async\"\r\n            bindLabel=\"opticalCode\"\r\n            [hideSelected]=\"true\"\r\n            [typeahead] = \"coatingTypeListinput$\"\r\n            formControlName=\"coatingType\">\r\n          </ng-select>\r\n        </div>\r\n        <div class=\"col-md-4 col-xs-12\" *ngIf=\"(menuType === 'frames') || (menuType === 'contactLenses')\">\r\n          <label>Brand Name\r\n            <span class=\"astrik-symbol\">\r\n              <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n            </span>\r\n          </label>\r\n          <ng-select id=\"brandName\" [items]=\"brandNameList$ | async\" bindLabel=\"itemBrandNm\" [addTag]=\"true\" [hideSelected]=\"true\" [typeahead]=\"brandNameListinput$\"\r\n            (change)=\"onAddBrand($event)\" formControlName=\"brandName\">\r\n          </ng-select>\r\n        </div>\r\n        <div class=\"col-md-4 col-xs-12\" *ngIf=\"menuType === 'lenses'\">\r\n          <label>Brand Name\r\n            <span class=\"astrik-symbol\">\r\n              <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n            </span>\r\n          </label>\r\n          <ng-select id=\"brandName\" [items]=\"lensbrandNameList$ | async\" bindLabel=\"itemBrandNm\" [addTag]=\"true\" [hideSelected]=\"true\" [typeahead]=\"lensbrandNameListinput$\"\r\n            (change)=\"onAddBrand($event)\" formControlName=\"brandName\">\r\n          </ng-select>\r\n        </div>\r\n        <!--for lens data-->\r\n        <div class = \"col-md-4 col-xs-12 m-t-5\" *ngIf=\"menuType === 'lenses'\">\r\n            <label for=\"Index\">Index</label>\r\n            <ng-select id=\"frameIndexList\"\r\n            bindValue = \"opticalCode\"\r\n            [items]=\"indexList$ | async\"\r\n            bindLabel=\"opticalCode\"\r\n            [hideSelected]=\"true\"\r\n            [typeahead] = \"indexListinput$\"\r\n            formControlName=\"lensIndex\">\r\n            </ng-select>\r\n        </div>\r\n        <div class=\"col-md-4 col-xs-12 m-t-5\" *ngIf=\"menuType === 'lenses'\">\r\n            <label for=\"frameColor\">Coating</label>\r\n\r\n            <ng-select id=\"coatingList\"\r\n            [items]=\"coatingList$ | async\"\r\n            bindLabel=\"opticalCode\"\r\n            [hideSelected]=\"true\"\r\n            [addTag] = \"true\"\r\n            bindValue=\"opticalCode\"\r\n            [typeahead] = \"coatingListinput$\"\r\n            formControlName=\"lensCoating\">\r\n            </ng-select>\r\n\r\n        </div>\r\n        <div class=\"col-md-4 col-xs-12 m-t-5\" *ngIf=\"menuType === 'lenses'\">\r\n            <label for=\"invoiceQty\">Received Quantity\r\n                <span class=\"astrik-symbol\">\r\n                    <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n                  </span>\r\n            </label>\r\n            <input id=\"invoiceQty\" type=\"text\" id=\"invoiceQty\" (change) = \"changeAmount()\" onkeypress=\"return event.charCode >= 48 && event.charCode <=57\" maxlength= \"4\" name=\"invoiceQty\" formControlName=\"invoiceQty\" ng-pattern = \"/^[0-9]*$/\">\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row m-0 m-t-20\">\r\n        <div class=\"col-md-3  col-xs-12\" *ngIf=\"(menuType === 'frames') || (menuType === 'contactLenses')\">\r\n          <label for=\"modelNo\">Model No\r\n            <span class=\"astrik-symbol\">\r\n              <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n            </span>\r\n          </label>\r\n          <input type=\"text\" id=\"modelNo\" name=\"modelNo\" formControlName=\"modelNo\">\r\n        </div>\r\n\r\n        <div class=\"col-md-3  col-xs-12\" *ngIf=\"(menuType === 'frames') || (menuType === 'contactLenses')\">\r\n          <label for=\"serialNo\">Serial No\r\n            <span class=\"astrik-symbol\">\r\n              <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n            </span>\r\n          </label>\r\n          <input type=\"text\" id=\"serialNo\" name=\"serialNo\" formControlName=\"serialNo\">\r\n        </div>\r\n\r\n        <div class=\"col-md-3  col-xs-12\" *ngIf=\"(menuType === 'frames') || (menuType === 'contactLenses')\">\r\n          <label for=\"frameColor\" *ngIf=\"menuType === 'frames'\">Frame Color</label>\r\n          <label for=\"frameColor\" *ngIf=\"menuType === 'contactLenses'\">Color</label>\r\n          <ng-select id=\"opticalColorNm\"\r\n          [items]=\"frameColorList$ | async\"\r\n          bindLabel=\"opticalCode\"\r\n          [hideSelected]=\"true\"\r\n          [addTag] = \"true\"\r\n          bindValue=\"opticalCode\"\r\n          [typeahead] = \"frameColorListinput$\"\r\n          formControlName=\"opticalColorNm\">\r\n          </ng-select>\r\n          <!-- <input type=\"text\" id=\"frameColor\" name=\"frameColor\" formControlName=\"frameColor\"> -->\r\n        </div>\r\n        <div class=\"col-md-3\" *ngIf=\"menuType === 'contactLenses'\">\r\n          <label for=\"manufactureDate\">Manufactured Date\r\n          </label>\r\n          <!-- <input type=\"text\" id=\"manufactureDate\" name=\"manufactureDate\" formControlName=\"manufacturedDate\"> -->\r\n          <p class=\"input-group m-b-0 \">\r\n            <input id=\"manufacturingDt\" type=\"text\" [matDatepicker]=\"manufacturingDt\" [max] = \"dateMax\" [min] = \"dateMin\" (dateChange)=\"changeDateFunction()\" class=\"form-control\" formControlName=\"manufacturingDt\">\r\n            <mat-datepicker #manufacturingDt></mat-datepicker>\r\n            <span class=\"input-group-btn\">\r\n              <button id=\"manufactured_Date1\" class=\"btn btn-default btn-padding\" type=\"button\" (click)=\"datePickerToggler(manufacturingDt)\">\r\n                <i class=\"fa fa-calendar\"></i>\r\n              </button>\r\n            </span>\r\n          </p>\r\n        </div>\r\n        <div class=\"col-md-3 col-xs-12\" *ngIf=\"menuType === 'frames'\">\r\n          <label for=\"frameType\">Frame Type\r\n          </label>\r\n          <ng-select id=\"frameTypeNm\"\r\n          [items]=\"frameTypeList$ | async\"\r\n          bindLabel=\"opticalCode\"\r\n          [hideSelected]=\"true\"\r\n          bindValue=\"opticalCode\"\r\n          [addTag] = \"true\"\r\n          [typeahead] = \"frameTypeListinput$\"\r\n          formControlName=\"frameTypeNm\">\r\n          </ng-select>\r\n          <!-- <input type=\"text\" id=\"frameType\" name=\"frameType\" formControlName=\"frameType\"> -->\r\n        </div>\r\n      </div>\r\n      <div class=\"row m-0 m-t-20\">\r\n        <div class=\"col-md-3 col-xs-12\" *ngIf=\"menuType === 'frames'\">\r\n          <label for=\"frameSize\">Frame Size\r\n          </label>\r\n          <ng-select id=\"frameSize\"\r\n          bindValue = \"opticalCode\"\r\n          [items]=\"frameSizeList$ | async\" bindLabel=\"opticalCode\"\r\n          [hideSelected]=\"true\"\r\n          [addTag]=\"true\"\r\n          [typeahead]=\"frameSizeListinput$\"\r\n          formControlName=\"frameSize\">\r\n          </ng-select>\r\n          <!-- <input type=\"text\" id=\"frameSize\" name=\"frameSize\" formControlName=\"frameSize\"> -->\r\n        </div>\r\n        <div class=\"col-md-3 col-xs-12\" *ngIf=\"menuType === 'frames'\">\r\n          <label for=\"frameShape\">Frame Shape\r\n          </label>\r\n          <ng-select  id =\"frameShape\"\r\n          [items] = \"frameShapeList$ | async\"\r\n          bindLabel = \"opticalCode\"\r\n          bindValue = \"opticalCode\"\r\n          (keyup) = \"$event.toUpperCase()\"\r\n          [hideSelected] = \"true\"\r\n          [addTag] = \"true\"\r\n          [typeahead] = \"frameShapeListinput$\"\r\n          formControlName = \"frameShape\">\r\n          </ng-select>\r\n          <!-- <input type=\"text\" id=\"frameShape\" name=\"frameShape\" formControlName=\"frameShape\"> -->\r\n        </div>\r\n        <div class=\"col-md-3 col-xs-12\" *ngIf=\"menuType === 'frames'\">\r\n          <label for=\"frameMaterial\">Frame Material</label>\r\n          <ng-select id=\"opticalMaterialNm\"\r\n          [items]=\"frameMaterialList$ | async\"\r\n          bindLabel=\"opticalCode\"\r\n          [hideSelected]=\"true\"\r\n          [addTag] = \"true\"\r\n          bindValue=\"opticalCode\"\r\n          [typeahead] = \"frameMaterialListinput$\"\r\n            formControlName=\"opticalMaterialNm\">\r\n          </ng-select>\r\n          <!-- <input type=\"text\" id=\"frameMaterial\" name=\"frameMaterial\" formControlName=\"frameMaterial\"> -->\r\n        </div>\r\n        <div class=\"col-md-3 col-xs-12\" *ngIf=\"menuType === 'frames'\">\r\n          <label for=\"gender\">Product For\r\n            <span class=\"astrik-symbol\">\r\n              <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n            </span>\r\n          </label>\r\n          <select id=\"gender\" name=\"gender\"  formControlName=\"gender\">\r\n            <option value=\"\"></option>\r\n            <option value=\"Men\" class=\"md-primary\">Men</option>\r\n            <option value=\"Women\" class=\"md-primary\">Women</option>\r\n            <option value=\"Kids\" class=\"md-primary\">Kids</option>\r\n            <option value=\"Unisex\" class=\"md-primary\">Unisex</option>\r\n          </select>\r\n\r\n        </div>\r\n      </div>\r\n      <div class=\"row m-0 m-t-20\">\r\n        <div class=\"col-md-3\" *ngIf=\"menuType === 'frames'\">\r\n            <label for=\"manufactureDate\">Manufactured Date\r\n              </label>\r\n              <!-- <input type=\"text\" id=\"manufactureDate\" name=\"manufactureDate\" formControlName=\"manufacturedDate\"> -->\r\n              <p class=\"input-group m-b-0 \">\r\n                <input id=\"manufacturingDt\" type=\"text\" [matDatepicker]=\"manufacturingDt\" [max] = \"dateMax\" [min]= \"dateMin\" (dateChange)=\"changeDateFunction()\" class=\"form-control\" formControlName=\"manufacturingDt\">\r\n                <mat-datepicker #manufacturingDt></mat-datepicker>\r\n                <span class=\"input-group-btn\">\r\n                  <button id=\"manufactured_Date2\" class=\"btn btn-default btn-padding\" type=\"button\" (click)=\"datePickerToggler(manufacturingDt)\">\r\n                    <i class=\"fa fa-calendar\"></i>\r\n                  </button>\r\n                </span>\r\n              </p>\r\n        </div>\r\n        <div class=\"col-md-3 col-xs-12\" *ngIf=\"(menuType === 'frames') || (menuType === 'contactLenses')\">\r\n          <label for=\"invoiceQty\">Received Quantity\r\n              <span class=\"astrik-symbol\">\r\n                  <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n                </span>\r\n          </label>\r\n          <input id=\"invoiceQty\" type=\"text\" id=\"invoiceQty\"   (change)=\"changeAmount()\" onkeypress=\"return event.charCode >= 48 && event.charCode <=57\" maxlength= \"4\" name=\"invoiceQty\" formControlName=\"invoiceQty\" ng-pattern = \"/^[0-9]*$/\">\r\n        </div>\r\n        <div class=\"col-md-3 col-xs-12\" *ngIf=\"menuType === 'contactLenses'\">\r\n          <label>Received Date\r\n          </label>\r\n          <p class=\"input-group m-b-0 \">\r\n            <input id=\"receivedDt\" type=\"text\" [matDatepicker]=\"receivedDate\" class=\"form-control\" [max] =\"dateMax\" [min] = \"minDate\" formControlName=\"receivedDt\">\r\n            <mat-datepicker #receivedDate></mat-datepicker>\r\n            <span class=\"input-group-btn\">\r\n              <button id=\"received_Date1\" class=\"btn btn-default btn-padding\" type=\"button\" (click)=\"datePickerToggler(receivedDate)\">\r\n                <i class=\"fa fa-calendar\"></i>\r\n              </button>\r\n            </span>\r\n          </p>\r\n        </div>\r\n        <div class=\"col-md-3 col-xs-12\" *ngIf=\"menuType === 'frames'\">\r\n          <label>Received Date</label>\r\n            <p class=\"input-group m-b-0 \">\r\n              <input id=\"receivedDt\" type=\"text\" [matDatepicker]= \"receivedDate\" [max] = \"dateMax\" [min] = \"minDate\" class=\"form-control\" formControlName=\"receivedDt\">\r\n              <mat-datepicker #receivedDate></mat-datepicker>\r\n              <span class=\"input-group-btn\">\r\n                <button id=\"received_Date2\" class=\"btn btn-default btn-padding\" type=\"button\" (click)=\"datePickerToggler(receivedDate)\">\r\n                  <i class=\"fa fa-calendar\"></i>\r\n                </button>\r\n              </span>\r\n            </p>\r\n        </div>\r\n      </div>\r\n      <div class=\"row m-0 m-t-20\">\r\n        <div class=\"col-md-2  col-xs-12\">\r\n          <label for=\"mrp\">Brand Mrp\r\n            <span class=\"astrik-symbol\">\r\n              <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n            </span>\r\n          </label>\r\n          <input type=\"number\" id=\"brandMrp\" onkeypress=\"return event.charCode >= 48\" name=\"mrp\" formControlName=\"brandMrp\" (blur)=\"calculateMarkUp()\">\r\n        </div>\r\n        <div class=\"col-md-2 col-xs-12\">\r\n          <label for=\"costPrice\">Cost Price\r\n            <span class=\"astrik-symbol\">\r\n              <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n            </span>\r\n          </label>\r\n          <input type=\"number\" id=\"costPrice\" onkeypress=\"return event.charCode >= 48\" name=\"costPrice\" formControlName=\"costPrice\" (blur)=\"calculateMarkUp()\">\r\n        </div>\r\n        <div class=\"col-md-2 col-xs-12\">\r\n          <label for=\"markUp\">Mark Up\r\n            <span class=\"astrik-symbol\">\r\n              <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n            </span>\r\n          </label>\r\n          <input type=\"text\" id=\"markUp\" name=\"markUp\" formControlName=\"markUp\">\r\n        </div>\r\n        <div class=\"col-md-2 col-xs-12\">\r\n          <label for=\"hsn\">Hsn\r\n            <span class=\"astrik-symbol\">\r\n              <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n            </span>\r\n          </label>\r\n          <input type=\"text\" id=\"hsnCode\" name=\"hsn\" formControlName=\"hsnCode\" (blur)=\"getHsnDetails()\">\r\n        </div>\r\n        <div class=\"col-md-2 col-xs-12\">\r\n          <label for=\"tax\">Tax(%)\r\n            <span class=\"astrik-symbol\">\r\n              <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n            </span>\r\n          </label>\r\n          <input type=\"text\" id=\"tax\" name=\"tax\" formControlName=\"tax\">\r\n        </div>\r\n        <div class=\"col-md-2 col-xs-12\">\r\n            <label for=\"mrp\">Discount Amount</label>\r\n            <input  type=\"number\" id=\"discountAmt\" oninput=\"this.value=Math.abs(this.value)\"\r\n            name=\"mrp\" formControlName=\"discountAmt\" (keyup)=\"calculateDiscountPercent()\" [appDisableControl]=\"(this.addFramesForm.get('costPrice').value&&this.addFramesForm.get('invoiceQty').value)\">\r\n        </div>\r\n      </div>\r\n      <div class=\"row m-0 m-t-20\">\r\n        <div class=\"col-md-2 col-xs-12\">\r\n          <label for=\"mrp\">Discount Percent</label>\r\n          <input  type=\"number\" id=\"discountAmt\" oninput=\"this.value=Math.abs(this.value)\"\r\n            type=\"number\" id=\"discountPercent\" oninput=\"this.value=Math.abs(this.value)\"\r\n            name=\"mrp\" formControlName=\"discountPercntg\" (keyup)=\"calculateDiscountAmount()\" [appDisableControl]=\"(this.addFramesForm.get('costPrice').value&&this.addFramesForm.get('invoiceQty').value)\">\r\n        </div>\r\n        <div class=\"col-md-2 col-xs-12 m-b-10\">\r\n          <label for=\"shortCode\">Short Code\r\n          </label>\r\n          <input type=\"text\" id=\"shortCode\" name=\"shortCode\" formControlName=\"shortCode\" maxlength=\"10\">\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </form>\r\n\r\n  <div class=\"box-panel-form bg-white lens-details-form\" *ngIf=\"menuType === 'contactLenses'\">\r\n    <table class=\"table table-bordered lens-table\">\r\n      <tr>\r\n        <th>Type</th>\r\n        <th>Sph</th>\r\n        <th>Cyl</th>\r\n        <th>Axis</th>\r\n        <th>VA</th>\r\n        <th>Add</th>\r\n        <th>Type</th>\r\n        <th>Sph</th>\r\n        <th>Cyl</th>\r\n        <th>Axis</th>\r\n        <th>VA</th>\r\n        <th>Add</th>\r\n    </tr>\r\n      <tr>\r\n        <th>Right Dist</th>\r\n        <td *ngFor=\"let rightDist of lensData.rightDist\">\r\n          <input id=\"_objectKeys1\" type=\"number\" *ngFor=\"let value of objectKeys(rightDist)\" [(ngModel)]=\"lensFormData[value]\">\r\n        </td>\r\n        <th>Left Dist</th>\r\n        <td *ngFor=\"let leftDist of lensData.leftDist\">\r\n          <input id=\"_objectKeys2\" type=\"number\" *ngFor=\"let value of objectKeys(leftDist)\" [(ngModel)]=\"lensFormData[value]\">\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <th>Right Near</th>\r\n        <td *ngFor=\"let rightNear of lensData.rightNear\">\r\n          <input id=\"_objectKeys3\" type=\"number\" *ngFor=\"let value of objectKeys(rightNear)\" [(ngModel)]=\"lensFormData[value]\">\r\n        </td>\r\n        <th>Left Near</th>\r\n        <td *ngFor=\"let leftNear of lensData.leftNear\">\r\n          <input id=\"_objectKeys4\" type=\"number\" *ngFor=\"let value of objectKeys(leftNear)\" [(ngModel)]=\"lensFormData[value]\">\r\n        </td>\r\n      </tr>\r\n    </table>\r\n    <div class=\"row m-0 m-t-20\">\r\n      <mat-checkbox [(ngModel)]=\"lensFormData.arcGlass\" color=\"primary\">Arc</mat-checkbox>\r\n      <mat-checkbox [(ngModel)]=\"lensFormData.bifocalGlass\" color=\"primary\">Bifocal</mat-checkbox>\r\n      <mat-checkbox [(ngModel)]=\"lensFormData.constGlass\" color=\"primary\">Const</mat-checkbox>\r\n      <mat-checkbox [(ngModel)]=\"lensFormData.photosunGlass\" color=\"primary\">Photosun</mat-checkbox>\r\n      <mat-checkbox [(ngModel)]=\"lensFormData.progressiveGlass\" color=\"primary\">Progressive</mat-checkbox>\r\n      <mat-checkbox [(ngModel)]=\"lensFormData.glass\" color=\"primary\">Glass</mat-checkbox>\r\n    </div>\r\n    <div class=\"row m-0 m-t-20\">\r\n      <div class=\"col-md-3\">\r\n        <label for=\"pupillaryDistance\">Pupilary Distance </label>\r\n        <input type=\"text\" id=\"pupillaryDistance\" name=\"pupillaryDistance\" [(ngModel)]=\"lensFormData.pupillaryDistance\">\r\n      </div>\r\n      <div class=\"col-md-3\">\r\n        <label for=\"lbc\">Left Base Curve </label>\r\n        <input type=\"text\" id=\"lbc\" name=\"lbc\" [(ngModel)]=\"lensFormData.leftBaseCurve\">\r\n      </div>\r\n      <div class=\"col-md-3\">\r\n        <label for=\"rbc\">Right Base Curve </label>\r\n        <input type=\"text\" id=\"rbc\" name=\"rbc\" [(ngModel)]=\"lensFormData.rightBaseCurve\">\r\n      </div>\r\n      <div class=\"col-md-3\">\r\n        <label for=\"advice\">Glass Advice</label>\r\n        <input type=\"text\" id=\"advice\" name=\"advice\" [(ngModel)]=\"lensFormData.glassTypeAdvice\">\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"col-sm-12 m-t-b-15 form-button-group\" >\r\n    <ul>\r\n    <li>\r\n      <button id=\"_Inventory1\" class=\"btn-app btn-save\" (click)=\"addToInventory()\" [disabled]=\"!addFramesForm.valid\" *ngIf=\"data.typeCheck === 'add'\">\r\n        <i class=\"fas fa-save margin-right-5\" aria-hidden=\"true\"></i> Add</button>\r\n    </li>\r\n    <li>\r\n      <button id=\"_Inventory2\" class=\"btn-app btn-save\" (click)=\"addToInventory()\" *ngIf=\"data.typeCheck === 'edit'\">\r\n        <i class=\"fas fa-save margin-right-5\" aria-hidden=\"true\"></i> Update</button>\r\n    </li>\r\n    <li>\r\n      <button id=\"_Inventory3\" type=\"button\" class=\"btn-app btn-delete\" (click)=\"cancelModal()\">\r\n        <i class=\"fas fa-times fa-btn-icon margin-right-5\" aria-hidden=\"true\"></i> Cancel</button>\r\n    </li>\r\n   </ul>\r\n  </div>\r\n</div>\r\n","import {\r\n  Component,\r\n  Inject,\r\n  OnInit,\r\n  OnChanges,\r\n  OnDestroy\r\n} from '@angular/core';\r\nimport { UserSession } from '@core/models/user-session';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport {\r\n  MatDialog,\r\n  MatDialogRef,\r\n  MAT_DIALOG_DATA,\r\n  MatDatepicker\r\n} from '@angular/material';\r\nimport { UserService } from '@core/services/user.service';\r\nimport { OpticalStoreApiService } from '@core/services';\r\nimport {\r\n  FormGroup,\r\n  FormBuilder,\r\n  Validators\r\n} from '@angular/forms';\r\nimport {\r\n  debounceTime,\r\n  distinctUntilChanged,\r\n  filter,\r\n  switchMap,\r\n  map,\r\n  catchError\r\n} from 'rxjs/operators';\r\nimport { Observable, concat, of, Subject } from 'rxjs';\r\nimport { DatePipe } from '@angular/common';\r\nimport { AutoUnsubscribe } from 'ngx-auto-unsubscribe';\r\n// @AutoUnsubscribe()\r\n@Component({\r\n  selector: 'app-frame-dialog',\r\n  templateUrl: './frameLensesVendorInvoice.modal.component.html',\r\n  styleUrls: ['./new-invoice.component.scss']\r\n})\r\nexport class FrameLensesModalComponent implements OnInit , OnChanges, OnDestroy {\r\n  addFramesForm: FormGroup;\r\n  private sessionData: UserSession;\r\n  vendorsList: any[] = [];\r\n  manufacturersList: any[] = [];\r\n  brandNameList$: Observable<any>;\r\n  lensbrandNameList$: Observable<any>;\r\n  brandNameListinput$ = new Subject<string>();\r\n  lensbrandNameListinput$ = new Subject<string>();\r\n  lensTypeList$: Observable<any>;\r\n  lensTypeListinput$ = new Subject<string>();\r\n  coatingTypeList$: Observable<any>;\r\n  coatingTypeListinput$ = new Subject<string>();\r\n  indexList$: Observable<any>;\r\n  indexListinput$ = new Subject<string>();\r\n  coatingList$: Observable<any>;\r\n  coatingListinput$ = new Subject<string>();\r\n  frameSizeList$: Observable<any>;\r\n  frameSizeListinput$ = new Subject<string>();\r\n  frameShapeList$: Observable<any>;\r\n  frameShapeListinput$ = new Subject<string>();\r\n  frameTypeList$: Observable<any>;\r\n  frameTypeListinput$ = new Subject<string>();\r\n  frameColorList$: Observable<any>;\r\n  frameColorListinput$ = new Subject<string>();\r\n  frameMaterialList$: Observable<any>;\r\n  frameMaterialListinput$ = new Subject<string>();\r\n   costPrice ;\r\n   invoiceQty ;\r\n  brandNames: any[] = [];\r\n  frameTypeList: any[] = [];\r\n  frameSizeList: any[] = [];\r\n  frameShapeList: any[] = [];\r\n  frameColorList: any[] = [];\r\n  frameMaterialList: any[] = [];\r\n  public objectKeys = Object.keys;\r\n  menuType: any;\r\n  selectedManfacNm: string;\r\n  isTax: Boolean = false;\r\n  taxPercntg: any;\r\n  dateMax = new Date();\r\n  dateMin: any;\r\n  manufacturingDt: any;\r\n  discountpercent;\r\n  discountAmt;\r\n  minDate: any;\r\n  lensFormData: any = {\r\n    arcGlass: false,\r\n    bifocalGlass: false,\r\n    constGlass: false,\r\n    photosunGlass: false,\r\n    progressiveGlass: false,\r\n    glass: false\r\n  };\r\n  lensData = {\r\n    rightDist: [\r\n      { distanceRightSph: '' },\r\n      { distanceRightCyl: '' },\r\n      { distanceRightAxis: '' },\r\n      { distanceRightVa: '' },\r\n      { distanceRightAddSph: '' }\r\n\r\n    ],\r\n    leftDist: [\r\n      { distanceLeftSph: '' },\r\n      { distanceLeftCyl: '' },\r\n      { distanceLeftAxis: '' },\r\n      { distanceLeftVa: '' },\r\n      { distanceLeftAddSph: '' }\r\n\r\n    ],\r\n    rightNear: [\r\n      { nearRightSph: '' },\r\n      { nearRightCyl: '' },\r\n      { nearRightAxis: '' },\r\n      { nearRightVa: '' },\r\n      { distanceLeftAddSph: '' }\r\n\r\n    ],\r\n    leftNear: [\r\n      { nearLeftSph: '' },\r\n      { nearLeftCyl: '' },\r\n      { nearLeftAxis: '' },\r\n      { nearLeftVa: '' },\r\n      { nearLeftAddSph: '' },\r\n    ]\r\n  };\r\n  constructor(\r\n    private formbuilder: FormBuilder,\r\n    private opticalService: OpticalStoreApiService,\r\n    private toaster: ToastrService,\r\n    private datePipe: DatePipe,\r\n    private dialogRef: MatDialogRef<FrameLensesModalComponent>,\r\n    userService: UserService,\r\n    @Inject(MAT_DIALOG_DATA) public data: any\r\n  ) {\r\n    this.sessionData = userService.getUser();\r\n    this.menuType = this.data.type;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.fetchVendorsList();\r\n    this.disableFields();\r\n\r\n    this.initForm();\r\n    this.fetchBrandNames();\r\n    this.fetchlensBrandNames();\r\n    this.fetchFrameSizes();\r\n    this.fetchFirstTenFrameSizes();\r\n\r\n    this.fetchLensTypes();\r\n    this.fetchFirstTenLensTypes();\r\n\r\n    this.fetchCoatingTypes();\r\n    this.fetchFirstTenCoatingTypes();\r\n\r\n    this.fetchIndexes();\r\n    this.fetchFirstTenIndexes();\r\n\r\n    this.fetchCoatings();\r\n    this.fetchFirstTenCoatings();\r\n\r\n    this.fetchFrameTypes();\r\n    this.fetchFirstTenFrameTypes();\r\n\r\n    this.fetchFrameShapes();\r\n    this.fetchFirstTenFrameShapes();\r\n\r\n    this.fetchFrameColors();\r\n    this.fetchFirstTenFrameColors();\r\n\r\n    this.fetchFrameMaterial();\r\n    this.fetchFirstTenFrameMaterial();\r\n    this.changeDateFunction();\r\n    if (this.data.typeCheck === 'edit') {\r\n      this.addFramesForm.patchValue(this.data.selectData);\r\n      this.addFramesForm.patchValue({'isEditAmount': false});\r\n      this.addFramesForm.get('vendor').patchValue(this.data.selectData.vendorNm);\r\n      if (this.data.selectData.hsnCode) {\r\n        this.getHsnDetails();\r\n      }\r\n      this.lensFormData = this.data.selectData.insertLensInInventory;\r\n    } else {\r\n      this.addFramesForm.get('vendor').patchValue(this.data.vendorNm);\r\n    }\r\n\r\n    this.manufacturersList = this.data.vendorData.manufacturerList;\r\n    this.addFramesForm.controls.brandName.disable();\r\n\r\n  }\r\n  initForm() {\r\n    this.addFramesForm = this.formbuilder.group({\r\n      vendor: this.formbuilder.control(\r\n         { value: ''},\r\n        Validators.required\r\n      ),\r\n      manufacturer: this.formbuilder.control(null, Validators.required),\r\n      brandName: this.formbuilder.control('', Validators.required),\r\n      modelNo: this.formbuilder.control('', Validators.required),\r\n      // batchNo: this.formbuilder.control(''),\r\n      serialNo: this.formbuilder.control('', Validators.required),\r\n      // frameTypeNm: this.formbuilder.control(null, Validators.required),\r\n      // frameSize: this.formbuilder.control(null, Validators.required),\r\n      // frameShape: this.formbuilder.control(null, Validators.required),\r\n      opticalColorNm: this.formbuilder.control(null),\r\n      opticalMaterialNm: this.formbuilder.control(null),\r\n      // gender: this.formbuilder.control(''),\r\n      receivedDt: this.formbuilder.control(''),\r\n      invoiceQty: this.formbuilder.control('', Validators.required),\r\n      // gender: this.formbuilder.control('', Validators.required),\r\n      manufacturingDt: this.formbuilder.control(''),\r\n      brandMrp: this.formbuilder.control('', Validators.required),\r\n      costPrice: this.formbuilder.control('', Validators.required),\r\n      markUp: this.formbuilder.control(\r\n        { value: '', disabled: true },\r\n        Validators.required\r\n      ),\r\n      hsnCode: this.formbuilder.control('', Validators.required),\r\n      tax: this.formbuilder.control('', Validators.required),\r\n      discountAmt: null,\r\n      discountPercntg: null,\r\n      isEditAmount: false,\r\n      shortCode: this.formbuilder.control(''),\r\n      description: this.formbuilder.control('')\r\n    });\r\n\r\n\r\n    // if (this.addFramesForm.controls['costPrice'].valueChanges || this.addFramesForm.controls['invoiceQty'].valueChanges) {\r\n    //   this.addFramesForm.patchValue({'isEditAmount': true });\r\n    //   }\r\n\r\n\r\n    if (this.menuType === 'frames') {\r\n      this.addFramesForm.addControl(\r\n        'frameTypeNm',\r\n        this.formbuilder.control('')\r\n      );\r\n      this.addFramesForm.addControl(\r\n        'frameSize',\r\n        this.formbuilder.control('')\r\n      );\r\n      this.addFramesForm.addControl(\r\n        'frameShape',\r\n        this.formbuilder.control('')\r\n      );\r\n      this.addFramesForm.addControl(\r\n        'gender',\r\n        this.formbuilder.control('', Validators.required)\r\n      );\r\n    } else if (this.menuType === 'lenses') {\r\n      this.addFramesForm.addControl(\r\n        'coatingType',\r\n        this.formbuilder.control('')\r\n      );\r\n      this.addFramesForm.addControl(\r\n        'lensIndex',\r\n        this.formbuilder.control('')\r\n      );\r\n      this.addFramesForm.addControl(\r\n        'lensType',\r\n        this.formbuilder.control('')\r\n      );\r\n      this.addFramesForm.addControl(\r\n        'lensCoating',\r\n        this.formbuilder.control('')\r\n      );\r\n      this.addFramesForm.removeControl('modelNo');\r\n      this.addFramesForm.removeControl('serialNo');\r\n    }\r\n\r\n    this.addFramesForm.get('vendor').disable();\r\n  }\r\n\r\n\r\n  // fetchMasterData(type: string) {\r\n  //   const payload = {\r\n  //     orgId: this.sessionData.orgId,\r\n  //     orgGrpId: this.sessionData.orgGroupId,\r\n  //     masterNm: type,\r\n  //     createdUsrId: this.sessionData.regId\r\n  //   };\r\n  //   this.opticalService.opticalMasterData(payload).subscribe(\r\n  //     (response: any) => {\r\n  //       if (response.responseCode === 'E200') {\r\n  //         if (type === 'Frame Type') {\r\n  //           this.frameTypeList = response.data;\r\n  //         } else if (type === 'Frame Size') {\r\n  //           this.frameSizeList = response.data;\r\n  //         } else if (type === 'Frame Shape') {\r\n  //           this.frameShapeList = response.data;\r\n  //         } else if (type === 'Frame Color') {\r\n  //           this.frameColorList = response.data;\r\n  //         } else if (type === 'Frame Material') {\r\n  //           this.frameMaterialList = response.data;\r\n  //         }\r\n  //       } else if (response.response === 'E400') {\r\n  //         this.toaster.error('Failure!', 'Something went wrong');\r\n  //       }\r\n  //     },\r\n  //     err => {\r\n  //       this.toaster.error('Failure!', 'Something went wrong');\r\n  //     }\r\n  //   );\r\n  // }\r\n  ngOnChanges(): void {\r\n    this.addFramesForm.get('discountAmt').valueChanges.subscribe(val => {\r\n      this.calculateDiscountPercent();\r\n    });\r\n    this.addFramesForm.get('discountPercntg').valueChanges.subscribe(val => {\r\n      this.calculateDiscountAmount();\r\n    });\r\n  }\r\n// calculating costprice through discount\r\nchangeAmount() {\r\n//   this.addFramesForm.get('costPrice').valueChanges.subscribe(val => {\r\n//     this.addFramesForm.patchValue({'isEditAmount': true });\r\n\r\n// });\r\n  this.addFramesForm.patchValue({'isEditAmount': true });\r\n\r\n}\r\n\r\n  // calculating costPrice used for inventory\r\n\r\n\r\n  // used for calculating the discount percentage from the discount amount\r\n  calculateDiscountPercent() {\r\n    const brMrp  = this.addFramesForm.get('brandMrp').value;\r\n    const  discountAmt = this.addFramesForm.get('discountAmt').value;\r\n     this.costPrice = this.addFramesForm.get('costPrice').value ;\r\n     this.invoiceQty = this.addFramesForm.get('invoiceQty').value ;\r\n    if (\r\n      discountAmt >\r\n      (this.costPrice * this.invoiceQty)\r\n    ) {\r\n      this.toaster.warning(\r\n        'Failure!',\r\n        'Discount Amount should not be greater than costPrice'\r\n      );\r\n      return false;\r\n    } else {\r\n    this.discountpercent = 0;\r\n     this.discountpercent =\r\n      (1 / this.invoiceQty) *\r\n      (discountAmt / this.costPrice) *\r\n      100;\r\n      this.discountpercent = this.discountpercent.toFixed(2) / 1;\r\n      this.addFramesForm.patchValue({discountPercntg: this.discountpercent});\r\n      this.changeAmount();\r\n      // const markVal = Number(brMrp) - Number(this.costPrice);\r\n      // this.addFramesForm.get('markUp').patchValue(markVal);\r\n\r\n    }\r\n    // this.calculateMarkUp();\r\n\r\n  }\r\n  // used for calculating the discount amount from the discount percentage\r\n  calculateDiscountAmount() {\r\n    const brMrp  = this.addFramesForm.get('brandMrp').value;\r\n\r\n     this.invoiceQty = this.addFramesForm.get('invoiceQty').value ;\r\n    const  discountPercntg = this.addFramesForm.get('discountPercntg').value;\r\n     this.costPrice = this.addFramesForm.get('costPrice').value ;\r\n    this.discountAmt = 0;\r\n    if (discountPercntg > 100) {\r\n      this.toaster.warning(\r\n        'Failure!',\r\n        'Discount percent should not be greater than 100'\r\n      );\r\n      return false;\r\n    } else {\r\n   this.discountAmt =\r\n      (this.invoiceQty)  *\r\n      (discountPercntg * this.costPrice) /\r\n      100;\r\n   this.discountAmt = this.discountAmt.toFixed(2) / 1;\r\n   this.addFramesForm.patchValue({discountAmt: this.discountAmt});\r\n   this.changeAmount();\r\n  //  const markVal = Number(brMrp) - Number(this.costPrice);\r\n  //     this.addFramesForm.get('markUp').patchValue(markVal);\r\n    }\r\n    // this.calculateMarkUp();\r\n\r\n  }\r\n  disableFields() {\r\n  }\r\n\r\n  onAddVendor(selectedVendor) {\r\n    this.manufacturersList = selectedVendor.manufacturerList;\r\n  }\r\n\r\n  onAddManufacturer(selectedManufacturer) {\r\n    this.selectedManfacNm = selectedManufacturer.manufacturerNm;\r\n     this.addFramesForm.controls.brandName.enable();\r\n     const tempData = Object.assign({}, {...this.data});\r\n     this.selectedManfacNm = selectedManufacturer.manufacturerNm;\r\n     this.addFramesForm.reset();\r\n     this.addFramesForm.patchValue({\r\n      vendor: {vendorId: tempData.vendorData.vendorId, vendorNm: tempData.vendorData.vendorNm}\r\n    });\r\n     this.addFramesForm.patchValue({\r\n      manufacturer: {manufacturerNm: selectedManufacturer.manufacturerNm, manufacturerId: selectedManufacturer.manufacturerId}\r\n     });\r\n    // this.addFramesForm.patchValue({manufacturerNm: this.selectedManfacNm});\r\n  }\r\n\r\n  onAddBrand(brand) {\r\n    // this.addFramesForm.patchValue(brand);\r\n    if (brand.hsnCode) {\r\n      this.getHsnDetails();\r\n    }\r\n  }\r\n\r\n  datePickerToggler(datePicker: MatDatepicker<Date>) {\r\n    datePicker[datePicker.opened ? 'close' : 'open']();\r\n  }\r\n  changeDateFunction() {\r\n    this.manufacturingDt = this.addFramesForm.value.manufacturingDt;\r\n    // this.receivedDt = this.addFramesForm.value.receivedDt;\r\n    this.minDate = this.manufacturingDt;\r\n    return this.manufacturingDt;\r\n   }\r\n  fetchVendorsList() {\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId\r\n    };\r\n    this.opticalService.fetchVendorsList(payload).subscribe(\r\n      (response: any) => {\r\n        if (response.responseCode === 'E200') {\r\n          this.vendorsList = response.data;\r\n        } else if (response.response === 'E400') {\r\n          this.toaster.error('Failure!', 'Something went wrong');\r\n        }\r\n      },\r\n      () => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n\r\n  fetchBrandNames() {\r\n    this.brandNameList$ = concat(\r\n      of([]), // default items\r\n      this.brandNameListinput$.pipe(\r\n        debounceTime(200),\r\n        distinctUntilChanged(),\r\n        filter(checkStringCount => {\r\n          if (checkStringCount.length > 1) {\r\n            return true;\r\n          }\r\n        }),\r\n        switchMap((term: string) => {\r\n          const payload = {\r\n            createdUsrId: this.sessionData.regId,\r\n            orgGrpId: this.sessionData.orgGroupId,\r\n            orgId: this.sessionData.orgId,\r\n            itemBrandNm: term,\r\n            manufacturerNm: this.selectedManfacNm\r\n          };\r\n          if (this.menuType === 'contactLenses') {\r\n            payload['itemTypeId'] = 235;\r\n          } else {\r\n            payload['itemTypeId'] = 234;\r\n          }\r\n          return this.opticalService.fetchBrandsOpticalPos<any>(payload).pipe(\r\n            map((response) => {\r\n              if (response.responseCode === 'E200') {\r\n                return response.data;\r\n              } else if (response.responseCode === 'E400') {\r\n                // return (this.manufacturersList = []);\r\n              }\r\n            }),\r\n            catchError(() => {\r\n              return of([]);\r\n            })\r\n          );\r\n        })\r\n      )\r\n    );\r\n  }\r\n\r\n  fetchlensBrandNames() {\r\n    this.lensbrandNameList$ = concat(\r\n      of([]), // default items\r\n      this.lensbrandNameListinput$.pipe(\r\n        debounceTime(200),\r\n        distinctUntilChanged(),\r\n        filter(checkStringCount => {\r\n          if (checkStringCount.length > 1) {\r\n            return true;\r\n          }\r\n        }),\r\n        switchMap((term: string) => {\r\n          const payload = {\r\n            createdUsrId: this.sessionData.regId,\r\n            orgGrpId: this.sessionData.orgGroupId,\r\n            orgId: this.sessionData.orgId,\r\n            itemBrandNm: term,\r\n            manufacturerNm: this.selectedManfacNm,\r\n            itemTypeId: 101\r\n          };\r\n          // if (this.menuType === 'lenses') {\r\n          //   payload['itemTypeId'] = 101;\r\n          // }\r\n          return this.opticalService.fetchOpticalInventoryLensForPOS<any>(payload).pipe(\r\n            map((response) => {\r\n              if (response.responseCode === 'E200') {\r\n                return response.data;\r\n              } else if (response.responseCode === 'E400') {\r\n                // return (this.manufacturersList = []);\r\n              }\r\n            }),\r\n            catchError(() => {\r\n              return of([]);\r\n            })\r\n          );\r\n        })\r\n      )\r\n    );\r\n  }\r\n  // functions for getting first ten frame Data\r\n  fetchFirstTenFrameSizes() {\r\n    this.frameSizeList$ = this.fetchFrameData('Frame Size');\r\n  }\r\n  fetchFirstTenFrameTypes() {\r\n    this.frameTypeList$ = this.fetchFrameData('Frame Type');\r\n  }\r\n  fetchFirstTenFrameShapes() {\r\n    this.frameShapeList$ = this.fetchFrameData('Frame Shape');\r\n  }\r\n  fetchFirstTenFrameColors() {\r\n    this.frameColorList$ = this.fetchFrameData('Frame Color');\r\n  }\r\n  fetchFirstTenFrameMaterial() {\r\n    this.frameMaterialList$ = this.fetchFrameData('Frame Material');\r\n  }\r\n\r\n  fetchFirstTenLensTypes() {\r\n    this.lensTypeList$ = this.fetchFrameData('Lens Type');\r\n  }\r\n  fetchFirstTenCoatingTypes() {\r\n    this.coatingTypeList$ = this.fetchFrameData('Coating Type');\r\n  }\r\n  fetchFirstTenIndexes() {\r\n    this.indexList$ = this.fetchFrameData('Index');\r\n  }\r\n  fetchFirstTenCoatings() {\r\n    this.coatingList$ = this.fetchFrameData('Coating');\r\n  }\r\n\r\n// function for getting frame sizes\r\n\r\n  fetchFrameSizes() {\r\n    this.frameSizeList$ = concat(\r\n      of([]), // default items\r\n      this.frameSizeListinput$.pipe(\r\n        debounceTime(200),\r\n        distinctUntilChanged(),\r\n        filter(checkStringCount => {\r\n          if (checkStringCount && checkStringCount.length > 1) {\r\n            return true;\r\n          }\r\n        }),\r\n        //  tap(() => this.people3Loading = true),\r\n        switchMap((opticalCode) => this.fetchFrameData('Frame Size', opticalCode))\r\n      )\r\n    );\r\n  }\r\n  // function for getting frame Shapes\r\n  fetchFrameShapes() {\r\n    this.frameShapeList$ = concat(\r\n      of([]), // default items\r\n      this.frameShapeListinput$.pipe(\r\n        debounceTime(200),\r\n        distinctUntilChanged(),\r\n       filter(checkStringCount => {\r\n          if (checkStringCount && checkStringCount.length > 1) {\r\n            return true;\r\n          }\r\n        }),\r\n        //  tap(() => this.people3Loading = true),\r\n        switchMap((opticalCode) => this.fetchFrameData('Frame Shape', opticalCode))\r\n      )\r\n    );\r\n  }\r\n\r\n  // function for getting frame Types\r\n  fetchFrameTypes() {\r\n    this.frameTypeList$ = concat(\r\n      of([]), // default items\r\n      this.frameTypeListinput$.pipe(\r\n        debounceTime(200),\r\n        distinctUntilChanged(),\r\n       filter(checkStringCount => {\r\n          if (checkStringCount && checkStringCount.length > 1) {\r\n            return true;\r\n          }\r\n        }),\r\n        //  tap(() => this.people3Loading = true),\r\n        switchMap((opticalCode) => this.fetchFrameData('Frame Type', opticalCode))\r\n      )\r\n    );\r\n  }\r\n  // function for getting frame colors\r\n  fetchFrameColors() {\r\n    this.frameColorList$ = concat(\r\n      of([]), // default items\r\n      this.frameColorListinput$.pipe(\r\n        debounceTime(200),\r\n        distinctUntilChanged(),\r\n       filter(checkStringCount => {\r\n          if (checkStringCount && checkStringCount.length > 1) {\r\n            return true;\r\n          }\r\n        }),\r\n        //  tap(() => this.people3Loading = true),\r\n        switchMap((opticalCode) => this.fetchFrameData('Frame Color', opticalCode))\r\n      )\r\n    );\r\n  }\r\n  // function for getting frame Material\r\n\r\n  fetchFrameMaterial() {\r\n    this.frameMaterialList$ = concat(\r\n      of([]), // default items\r\n      this.frameMaterialListinput$.pipe(\r\n        debounceTime(200),\r\n        distinctUntilChanged(),\r\n       filter(checkStringCount => {\r\n          if (checkStringCount && checkStringCount.length > 1) {\r\n            return true;\r\n          }\r\n        }),\r\n        //  tap(() => this.people3Loading = true),\r\n        switchMap((opticalCode) => this.fetchFrameData('Frame Material', opticalCode))\r\n      )\r\n    );\r\n  }\r\n\r\n  // function for getting lens type\r\nfetchLensTypes() {\r\n  this.lensTypeList$ = concat(\r\n    of([]), // default items\r\n    this.lensTypeListinput$.pipe(\r\n      debounceTime(200),\r\n      distinctUntilChanged(),\r\n      // tap(console.log),\r\n      filter(checkStringCount => {\r\n        if (checkStringCount && checkStringCount.length > 1) {\r\n          return true;\r\n        }\r\n      }),\r\n      //  tap(() => this.people3Loading = true),\r\n      switchMap((opticalCode) => this.fetchFrameData('Lens Type', opticalCode))\r\n    )\r\n  );\r\n}\r\n\r\n// function for getting coating types\r\nfetchCoatingTypes() {\r\n  this.coatingTypeList$ = concat(\r\n    of([]), // default items\r\n    this.coatingTypeListinput$.pipe(\r\n      debounceTime(200),\r\n      distinctUntilChanged(),\r\n      // tap(console.log),\r\n      filter(checkStringCount => {\r\n        if (checkStringCount && checkStringCount.length > 1) {\r\n          return true;\r\n        }\r\n      }),\r\n      //  tap(() => this.people3Loading = true),\r\n      switchMap((opticalCode) => this.fetchFrameData('Coating Type', opticalCode))\r\n    )\r\n  );\r\n}\r\n// function for getting indexes\r\n\r\nfetchIndexes() {\r\n  this.indexList$ = concat(\r\n    of([]), // default items\r\n    this.indexListinput$.pipe(\r\n      debounceTime(200),\r\n      distinctUntilChanged(),\r\n      // tap(console.log),\r\n      filter(checkStringCount => {\r\n        if (checkStringCount && checkStringCount.length > 1) {\r\n          return true;\r\n        }\r\n      }),\r\n      //  tap(() => this.people3Loading = true),\r\n      switchMap((opticalCode) => this.fetchFrameData('Index', opticalCode))\r\n    )\r\n  );\r\n}\r\n// function for getting coatings\r\n\r\nfetchCoatings() {\r\n  this.coatingList$ = concat(\r\n    of([]), // default items\r\n    this.coatingListinput$.pipe(\r\n      debounceTime(200),\r\n      distinctUntilChanged(),\r\n      // tap(console.log),\r\n      filter(checkStringCount => {\r\n        if (checkStringCount && checkStringCount.length > 1) {\r\n          return true;\r\n        }\r\n      }),\r\n      //  tap(() => this.people3Loading = true),\r\n      switchMap((opticalCode) => this.fetchFrameData('Coating', opticalCode))\r\n    )\r\n  );\r\n}\r\n\r\n  // api for frame data\r\n\r\n  fetchFrameData<T>(opticalType: 'Frame Size' | 'Frame Type' | 'Frame Color' | 'Frame Shape' | 'Frame Material'\r\n  | 'Coating Type' | 'Coating' | 'Index' | 'Lens Type', opticalCode?: string) {\r\n    const payload = {\r\n      createdUsrId: this.sessionData.regId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      orgId: this.sessionData.orgId,\r\n      opticalType,\r\n      opticalCode\r\n    };\r\n    return this.opticalService.opticalMasterData<T>(payload).pipe(\r\n      map((response) => {\r\n        if (response.responseCode === 'E200') {\r\n          return response.data;\r\n        } else if (response.responseCode === 'E400') {\r\n          return of([]);\r\n        }\r\n      }),\r\n      catchError(() => {\r\n        return of([]);\r\n      })\r\n    );\r\n  }\r\n\r\n  // fetchFrameSizes() {\r\n  //   this.frameSizesList$ = concat(\r\n  //     of([]), // default items\r\n  //     this.frameSizesListinput$.pipe(\r\n  //       debounceTime(200),\r\n  //       distinctUntilChanged(),\r\n  //       filter(checkStringCount => {\r\n  //         if (checkStringCount && checkStringCount.length > 1) {\r\n  //           return true;\r\n  //         }\r\n  //       }),\r\n  //       //  tap(() => this.people3Loading = true),\r\n  //       switchMap(this.fetchSizes.bind(this))\r\n  //     )\r\n  //   );\r\n  // }\r\n  // // function for getting frame sizes List\r\n\r\n  // fetchSizes(brandString) {\r\n  //   const payload = {\r\n  //     createdUsrId: this.sessionData.regId,\r\n  //     // itemTypeId: this.opticalItemType.masterId,\r\n  //     orgGrpId: this.sessionData.orgGroupId,\r\n  //     orgId: this.sessionData.orgId,\r\n  //     frameSize: brandString\r\n  //     // itemBrandNm: brandString,\r\n  //     // manufacturerNm: this.selectedManfacNm\r\n  //   };\r\n  //   console.log(payload.frameSize);\r\n  //   return this.opticalService.fetchFrameSizes(payload).pipe(\r\n  //     map((response: any) => {\r\n  //       if (response.responseCode === 'E200') {\r\n  //         return response.data;\r\n  //       } else if (response.response === 'E400') {\r\n  //         // return (this.manufacturersList = []);\r\n  //       }\r\n  //     }),\r\n  //     catchError(error => {\r\n  //       return of([]);\r\n  //     })\r\n  //   );\r\n  // }\r\n\r\n\r\n  getHsnDetails() {\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId,\r\n      hsnCode: this.addFramesForm.get('hsnCode').value\r\n    };\r\n    this.opticalService.hsnDetails<any>(payload).subscribe(\r\n      (response) => {\r\n        if (response.responseCode === 'E200') {\r\n          if (response.data && response.data.cgstTaxPercntg) {\r\n            this.addFramesForm\r\n              .get('tax')\r\n              .patchValue(\r\n                response.data.cgstTaxPercntg + response.data.sgstTaxPercntg\r\n              );\r\n            this.addFramesForm.controls.tax.disable();\r\n            this.isTax = true;\r\n          } else {\r\n            this.isTax = false;\r\n            this.addFramesForm.controls.tax.enable();\r\n          }\r\n        } else if (response.responseCode === 'E400') {\r\n          this.toaster.error('Failure!', 'Something went wrong');\r\n        }\r\n      },\r\n      () => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n\r\n  addToInventory() {\r\n    const vendorInvoiceObj = {\r\n      ...this.addFramesForm.value,\r\n      taxPercntg: this.addFramesForm.get('tax').value,\r\n      markUp: this.addFramesForm.get('markUp').value,\r\n      brandName: this.addFramesForm.get('brandName').value,\r\n      // markUp: (this.addFramesForm.get('brandMrp').value) - (this.addFramesForm.get('costPrice').value),\r\n      manufacturingDt: this.datePipe.transform(\r\n        this.addFramesForm.value.manufacturingDt,\r\n        'yyyy-MM-dd'\r\n      )\r\n    };\r\n    // const mars = this.addFramesForm.get('brandMrp').value - this.addFramesForm.get('costPrice').value;\r\n    // vendorInvoiceObj.markUp = mars;\r\n    if (this.menuType === 'contactLenses') {\r\n\r\n      vendorInvoiceObj.insertLensInInventory = this.lensFormData;\r\n    }\r\n    this.dialogRef.close(vendorInvoiceObj);\r\n    if (this.data.typeCheck === 'add') {\r\n    this.toaster.success('Success', 'Data added Successfully');\r\n    } else if (this.data.typeCheck === 'edit') {\r\n      this.toaster.success('Success', 'Data updated Successfully');\r\n    }\r\n  }\r\n  calculateMarkUp() {\r\n    if (\r\n      this.addFramesForm.get('brandMrp').value &&\r\n      this.addFramesForm.get('costPrice').value\r\n    ) {\r\n      const mrp = this.addFramesForm.get('brandMrp').value;\r\n      const cp = this.addFramesForm.get('costPrice').value;\r\n      if (cp > mrp) {\r\n        this.toaster.error('Failure!', 'COST PRICE should not be greater than BRAND MRP');\r\n       //  this.cpStatus = true;\r\n        this.addFramesForm.get('markUp').patchValue('');\r\n        this.addFramesForm.get('costPrice').patchValue('');\r\n       } else {\r\n      const markupVal = Number(mrp) - Number(cp);\r\n      this.addFramesForm.get('markUp').patchValue(markupVal);\r\n      this.calculateDiscountPercent();\r\n      this.calculateDiscountAmount();\r\n      this.changeAmount();\r\n      }\r\n    }\r\n  }\r\n\r\n  cancelModal() {\r\n    this.dialogRef.close();\r\n  }\r\n  ngOnDestroy() {\r\n  }\r\n}\r\n","<div class=\"optical-vendor-new-invoice m-b-10\">\r\n  <div>\r\n    <div class=\"menu-radio-group m-b-10\">\r\n      <input type=\"radio\" name=\"toggle\" (change)=\"onFrameTypeChange()\" id=\"frames\" value=\"frames\" [(ngModel)]=\"inventoryType\">\r\n      <label for=\"frames\">Frames</label>\r\n      <input type=\"radio\" name=\"toggle\" (change)=\"onFrameTypeChange()\" id=\"contactLenses\" value=\"contactLenses\" [(ngModel)]=\"inventoryType\">\r\n      <label for=\"contactLenses\">Contact Lens</label>\r\n      <input type=\"radio\" name=\"toggle\" (change)=\"onFrameTypeChange()\" id=\"lenses\" value=\"lenses\" [(ngModel)]=\"inventoryType\">\r\n      <label for=\"lenses\">Lenses</label>\r\n    </div>\r\n    <div class=\"box-panel-form bg-white clearfix border-radius-all-side border-all-side p-t-10 p-b-10\">\r\n      <form [formGroup]=\"vendorNewInvoiceForm\" (ngSubmit)=\"addVendorNewInvoiceForm()\">\r\n        <div class=\"row m-0 p-0\">\r\n          <div class=\"col-sm-2 p-0 col-xs-12 p-l-10\">\r\n            <label>Vendor\r\n              <span class=\"astrik-symbol\">\r\n                <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n              </span>\r\n            </label>\r\n            <ng-select id=\"_vendor1\" [items]=\"vendorsList\" bindLabel=\"vendorNm\" [hideSelected]=\"true\" (change)=\"onAddVendor($event)\" formControlName=\"vendor\">\r\n            </ng-select>\r\n          </div>\r\n          <div class=\"col-sm-3 p-0 col-xs-12 p-l-10\">\r\n            <label for=\"invoiceNo\">Enter Invoice/Bill Number\r\n              <span class=\"astrik-symbol\">\r\n                <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n              </span>\r\n            </label>\r\n            <input id=\"invoiceNo\" type=\"text\" id=\"modelNo\" name=\"modelNo\" formControlName=\"invoiceNo\">\r\n          </div>\r\n          <div class=\"col-sm-2 p-0 col-xs-12 p-l-10\">\r\n            <label for=\"manufactureDate\">Ordered Date\r\n              <span class=\"astrik-symbol\">\r\n                <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n              </span>\r\n            </label>\r\n            <p class=\"input-group m-b-0 \">\r\n              <input id=\"_orderedDate1\" type=\"text\" class=\"form-control\" [matDatepicker]=\"orderedDate\" [max] = \"dateMax\" [min] = \"dateMin\" (click)=\"datePickerToggler(orderedDate)\" (dateChange)=\"changeDateFunction()\"  formControlName=\"orderedDate\">\r\n              <mat-datepicker #orderedDate></mat-datepicker>\r\n              <span class=\"input-group-btn\">\r\n                <button id=\"_button1\" class=\"btn btn-default btn-padding\" type=\"button\" (click)=\"datePickerToggler(orderedDate)\">\r\n                  <i class=\"fa fa-calendar\"></i>\r\n                </button>\r\n              </span>\r\n            </p>\r\n          </div>\r\n          <div class=\"col-sm-2 p-0 col-xs-12 p-l-10\">\r\n            <label for=\"manufactureDate\">Delivered Date\r\n              <span class=\"astrik-symbol\">\r\n                <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n              </span>\r\n            </label>\r\n            <p class=\"input-group m-b-0 \">\r\n              <input id=\"_deliveredDate\" type=\"text\" class=\"form-control\" [matDatepicker]=\"deliveredDate\" (click)=\"datePickerToggler(deliveredDate)\" [max]=\"dateMax\" [min] = \"minDate\"  formControlName=\"deliveredDate\">\r\n              <mat-datepicker #deliveredDate></mat-datepicker>\r\n              <span class=\"input-group-btn\">\r\n                <button id=\"button2\"  class=\"btn btn-default btn-padding\" type=\"button\" (click)=\"datePickerToggler(deliveredDate)\">\r\n                  <i class=\"fa fa-calendar\"></i>\r\n                </button>\r\n              </span>\r\n            </p>\r\n          </div>\r\n          <div class=\"col-sm-2 p-0 col-xs-12 p-l-10\">\r\n            <label for=\"modeOfTransport\">Mode Of Transport</label>\r\n            <select id=\"transportName\" formControlName=\"transportName\">\r\n              <option></option>\r\n              <option *ngFor=\"let transportName of modeTransport\" [ngValue]=\"transportName\">{{transportName}}</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </form>\r\n      <!-- pull-right -->\r\n      <div class=\"row m-0\">\r\n        <div class=\"col-sm-10\"></div>\r\n        <div class=\"col-sm-2 no-padding maxwid text-right\">\r\n          <div class=\"btn-group-right\">\r\n            <button id=\"button3\"  type=\"button\" class=\"btn-sml btn btn-add btn-right-bdr\" *ngIf=\"inventoryType == 'frames'\" [disabled]=\"!vendorNewInvoiceForm.valid\"\r\n              (click)=\"addVendorInvoice('frames')\">\r\n              <i class=\"fa fa-plus\" aria-hidden=\"true\"></i>\r\n            </button>\r\n            <button id=\"button4\"  type=\"button\" class=\"btn-sml btn btn-add btn-right-bdr\" *ngIf=\"inventoryType == 'contactLenses'\" [disabled]=\"!vendorNewInvoiceForm.valid\" (click)=\"addVendorInvoice('contactLenses')\">\r\n              <i class=\"fa fa-plus\" aria-hidden=\"true\"></i>\r\n            </button>\r\n            <button id=\"button4\"  type=\"button\" class=\"btn-sml btn btn-add btn-right-bdr\" *ngIf=\"inventoryType == 'lenses'\" [disabled]=\"!vendorNewInvoiceForm.valid\" (click)=\"addVendorInvoice('lenses')\">\r\n              <i class=\"fa fa-plus\" aria-hidden=\"true\"></i>\r\n            </button>\r\n            <button id=\"button5\"  type=\"button\" class=\"btn-sml btn btn-edit btn-right-bdr\" *ngIf=\"inventoryType == 'frames'\" [disabled]=\"!selectedRows.length\" (click)=\"editVendorInvoice('frames')\">\r\n              <i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i>\r\n            </button>\r\n            <button id=\"button6\"  type=\"button\" class=\"btn-sml btn btn-edit btn-right-bdr\" *ngIf=\"inventoryType == 'contactLenses'\" [disabled]=\"!selectedRows.length\" (click)=\"editVendorInvoice('contactLenses')\">\r\n              <i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i>\r\n            </button>\r\n            <button id=\"button6\"  type=\"button\" class=\"btn-sml btn btn-edit btn-right-bdr\" *ngIf=\"inventoryType == 'lenses'\" [disabled]=\"!selectedRows.length\" (click)=\"editVendorInvoice('lenses')\">\r\n                <i class=\"fas fa-pencil-alt\" aria-hidden=\"true\"></i>\r\n              </button>\r\n            <button id=\"button7\"  type=\"button\" class=\"btn-sml btn btn-delete\" *ngIf=\"inventoryType == 'frames'\" [disabled]=\"!selectedRows.length\" (click)=\"deleteVendorInvoice('frames')\">\r\n              <i class=\"far fa-trash-alt\" aria-hidden=\"true\"></i>\r\n            </button>\r\n            <button id=\"button8\"  type=\"button\" class=\"btn-sml btn btn-delete\" *ngIf=\"inventoryType == 'contactLenses'\" [disabled]=\"!selectedRows.length\" (click)=\"deleteVendorInvoice('contactLenses')\">\r\n              <i class=\"far fa-trash-alt\" aria-hidden=\"true\"></i>\r\n            </button>\r\n            <button id=\"button8\"  type=\"button\" class=\"btn-sml btn btn-delete\" *ngIf=\"inventoryType == 'lenses'\" [disabled]=\"!selectedRows.length\" (click)=\"deleteVendorInvoice('lenses')\">\r\n                <i class=\"far fa-trash-alt\" aria-hidden=\"true\"></i>\r\n              </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-12 p-l-10 p-r-10 p-t-10\">\r\n        <ag-grid-angular style=\"height:300px;\" class=\"ag-theme-balham\" (gridReady)=\"gridReady($event)\" [enableSorting]=\"true\" [enableFilter]=\"true\"\r\n          [columnDefs]=\"columnDefsFrames\" [rowData]=\"rowData\" [defaultColDef]=\"defaultColDef\" [floatingFilter]=\"true\" (selectionChanged)=\"onSelectionChanged($event)\"\r\n          #grid>\r\n        </ag-grid-angular>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"col-sm-12 p-l-r-5 m-t-b-15 form-button-group\">\r\n  <ul>\r\n    <li>\r\n      <button id=\"_button9\"  class=\"btn-app btn-save m-t-10 m-r-10\" (click)=\"addToInventory()\">Add To Inventory </button>\r\n    </li>\r\n  </ul>\r\n</div>\r\n</div>\r\n","import { Component, OnInit, Inject, OnDestroy } from '@angular/core';\r\nimport { MatDatepicker } from '@angular/material/datepicker';\r\nimport {\r\n  FormGroup,\r\n  FormBuilder,\r\n  Validators,\r\n  FormControl\r\n} from '@angular/forms';\r\nimport { Observable, concat, of, Subject } from 'rxjs';\r\nimport {\r\n  debounceTime,\r\n  distinctUntilChanged,\r\n  filter,\r\n  switchMap,\r\n  map,\r\n  catchError\r\n} from 'rxjs/operators';\r\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\r\nimport { DatePipe } from '@angular/common';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { OpticalStoreService } from '@app/modules/optical-store/opticalStore.service';\r\nimport { OpticalStoreApiService, UtilService, CLONEDEEP, MOMENT } from '@core/services';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { GridOptions, GridApi, ColumnApi, ColDef } from 'ag-grid/main';\r\nimport { FrameLensesModalComponent } from './frameLensesVendorInvoice.modal.component';\r\nimport { UserSession } from '@core/models/user-session';\r\nimport { UserService } from '@core/services/user.service';\r\nimport { ConfirmationDialogComponent } from '@shared/components/confirmation-dialog/confirmation-dialog.component';\r\nimport { AutoUnsubscribe } from 'ngx-auto-unsubscribe';\r\n// @AutoUnsubscribe()\r\n@Component({\r\n  selector: 'app-new-invoice',\r\n  templateUrl: './new-invoice.component.html',\r\n  styleUrls: ['./new-invoice.component.scss']\r\n})\r\nexport class NewInvoiceComponent implements OnInit, OnDestroy {\r\n  vendorNewInvoiceForm: FormGroup;\r\n  inventoryType = 'frames';\r\n  private sessionData: UserSession;\r\n  public modeTransport: any[] = [];\r\n  vendorsList: any[] = [];\r\n  index = 0;\r\n  brandNameList$: Observable<any>;\r\n  brandNameListinput$ = new Subject<string>();\r\n  public vendorNm;\r\n  private gridApi: GridApi;\r\n  private gridColumnApi: ColumnApi;\r\n  vendorDataObj: any;\r\n  defaultColDef: any;\r\n  vendorArry: any[] = [];\r\n  selectedRows: any[] = [];\r\n  totalAmountWithoutTax: any;\r\n  totalCgstAmt: any;\r\n  totalSgstAmt: any;\r\n  finalAmt: any;\r\n  getTotalAmountWithoutTax: any;\r\n  getTotalCgstAmt: any;\r\n  getTotalSgstAmt: any;\r\n  getFinalAmt: any;\r\n  vendorSelectData: any;\r\n  itemId: any;\r\n  itemNm: any;\r\n  components;\r\n  discountAmt;\r\n  discountPercntg;\r\n  vendorData = {};\r\n  columnDefsFrames: Array<ColDef>;\r\n  columnDefsContactLenses: Array<ColDef>;\r\n  columnDefsLenses: Array<ColDef>;\r\n  frameLensData = {\r\n    frames: [],\r\n    contactLenses: [],\r\n    lenses: []\r\n  };\r\n\r\n  rowData: any;\r\n  dateMax = new Date();\r\n  dateMin: any;\r\n  orderedDate: any;\r\n  minDate: any;\r\n  constructor(\r\n    @Inject(MOMENT) private moment,\r\n    private formbuilder: FormBuilder,\r\n    private componentOpticalService: OpticalStoreService,\r\n    private opticalService: OpticalStoreApiService,\r\n    private toaster: ToastrService,\r\n    private datePipe: DatePipe,\r\n    public dialog: MatDialog,\r\n    @Inject(CLONEDEEP) private cloner,\r\n    private utilService: UtilService,\r\n    userService: UserService\r\n  ) {\r\n    this.sessionData = userService.getUser();\r\n  }\r\n\r\n\r\n  initializeGridColDefns() {\r\n    this.columnDefsContactLenses = [\r\n      { headerName: 'Brand Name', field: 'itemBrandNm', checkboxSelection: true },\r\n      { headerName: 'Vendor Name', field: 'vendorNm' },\r\n      { headerName: 'Model Number', field: 'modelNo' },\r\n      { headerName: 'Serial Number', field: 'serialNo' },\r\n      // { headerName: 'Description', field: 'description' },\r\n      { headerName: 'Quantity', field: 'invoiceQty' },\r\n      { headerName: 'Brand MRP', field: 'brandMrp' },\r\n      { headerName: 'Cost Price', field: 'costPrice' },\r\n      { headerName: 'Mark Up', field: 'markUp', editable: false },\r\n      { headerName: 'HSN', field: 'hsnCode', editable: false },\r\n      { headerName: 'Tax(%)', field: 'taxPercntg' },\r\n      { headerName: 'Discount Amount', field: 'discountAmt'},\r\n      { headerName: 'Discount Percent', field: 'discountPercntg'},\r\n    ];\r\n\r\n    this.columnDefsFrames = [\r\n      ...this.cloner(this.columnDefsContactLenses),\r\n      { headerName: 'Frame Type', field: 'frameTypeNm' },\r\n      { headerName: 'Frame Size', field: 'frameSize' },\r\n      { headerName: 'Frame Shape', field: 'frameShape' },\r\n      { headerName: 'Frame Color', field: 'opticalColorNm' },\r\n      { headerName: 'Frame Material', field: 'opticalMaterialNm' },\r\n      { headerName: 'Manufacture Date', field: 'manufacturingDt',\r\n      valueFormatter: this.agGridDateFormatter.bind(this)\r\n     }\r\n    ];\r\n\r\n    this.columnDefsLenses = [\r\n      { headerName: 'Brand Name', field: 'itemBrandNm', checkboxSelection: true },\r\n      { headerName: 'Vendor Name', field: 'vendorNm'},\r\n      { headerName: 'Lens Type', field: 'lensType'},\r\n      { headerName: 'Coating Type', field: 'coatingType'},\r\n      { headerName: 'Coating', field: 'lensCoating'},\r\n      { headerName: 'Index', field: 'lensIndex'},\r\n      { headerName: 'Quantity', field: 'invoiceQty' },\r\n      { headerName: 'Brand MRP', field: 'brandMrp' },\r\n      { headerName: 'Cost Price', field: 'costPrice' },\r\n      { headerName: 'Discount Amount', field: 'discountAmt'},\r\n      { headerName: 'Discount Percent', field: 'discountPercntg'},\r\n      { headerName: 'Mark Up', field: 'markUp', editable: false },\r\n      { headerName: 'HSN', field: 'hsnCode', editable: false },\r\n      { headerName: 'Tax(%)', field: 'taxPercntg' }\r\n\r\n    ];\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.initializeGridColDefns();\r\n    this.modeOfTransport();\r\n    this.init();\r\n    this.fetchVendorsList();\r\n    this.fetchBrandNames();\r\n    this.selectedRows = [];\r\n    this.changeDateFunction();\r\n  }\r\n  agGridDateFormatter(params) {\r\n    console.log(params);\r\n    if (params.value) {\r\n      return this.moment(params.value).format('DD/MM/YYYY');\r\n    }\r\n  }\r\n\r\n  init() {\r\n    this.vendorNewInvoiceForm = this.formbuilder.group({\r\n      vendor: this.formbuilder.control(null, Validators.required),\r\n      invoiceNo: this.formbuilder.control('', Validators.required),\r\n      orderedDate: this.formbuilder.control('', Validators.required),\r\n      deliveredDate: this.formbuilder.control('', Validators.required),\r\n      transportName: this.formbuilder.control(''),\r\n      brandName: this.formbuilder.control('')\r\n    });\r\n  }\r\n  datePickerToggler(datePicker: MatDatepicker<Date>) {\r\n    datePicker[datePicker.opened ? 'close' : 'open']();\r\n    // if (this.vendorNewInvoiceForm.get('deliveredDate').value) {\r\n    //   this.dateMax = this.vendorNewInvoiceForm.get('deliveredDate').value;\r\n    // }\r\n    // if (this.vendorNewInvoiceForm.get('orderedDate').value) {\r\n    //   this.dateMin = this.vendorNewInvoiceForm.get('orderedDate').value;\r\n    // }\r\n  }\r\n\r\n  changeDateFunction() {\r\n    this.orderedDate = this.vendorNewInvoiceForm.value.orderedDate;\r\n    this.minDate = this.orderedDate;\r\n    return this.orderedDate;\r\n   }\r\n  addVendorInvoice(typeOfVendor: String): void {\r\n    const vendorObj = this.vendorNewInvoiceForm.value.vendor;\r\n    const typeCheckObj = {};\r\n    typeCheckObj['type'] = typeOfVendor;\r\n    typeCheckObj['typeCheck'] = 'add';\r\n    typeCheckObj['vendorNm'] = vendorObj.vendorNm;\r\n    typeCheckObj['vendorData'] = this.vendorSelectData;\r\n    const dialogRef = this.dialog.open(FrameLensesModalComponent, {\r\n      // height: '350px'\r\n      data: typeCheckObj,\r\n      disableClose: true\r\n    });\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      if (result) {\r\n        this.selectedRows = [];\r\n        const dcostPrice = ((result.invoiceQty * result.costPrice) - result.discountAmt) / result.invoiceQty;\r\n        const payload = {\r\n          ...result,\r\n          vendorNm: vendorObj.vendorNm,\r\n          itemBrandNm: result.brandName.itemBrandNm || result.brandName,\r\n          manufacturerNm: result.manufacturer.manufacturerNm,\r\n          manufacturerId: result.manufacturer.manufacturerId,\r\n          totalCostPrice: result.costPrice,\r\n          costPrice: dcostPrice,\r\n          markUp: result.brandMrp - dcostPrice,\r\n          $$key: `${this.utilService.generateUniqueId()}-${this.index++}`\r\n        };\r\n        delete payload.manufacturer;\r\n        // delete payload.costPrice;\r\n        this.frameLensData[this.inventoryType].push(payload);\r\n        this.gridApi.setRowData(this.frameLensData[this.inventoryType]);\r\n      }\r\n    });\r\n  }\r\n\r\n  editVendorInvoice(typeOfVendor: String): void {\r\n    const vendorObj = this.vendorNewInvoiceForm.value.vendor;\r\n    this.selectedRows[0].manufacturer = this.selectedRows[0].manufacturerNm;\r\n    this.selectedRows[0].manufactureId = this.selectedRows[0].manufacturerId;\r\n    const typeCheckObj = {};\r\n    typeCheckObj['type'] = typeOfVendor;\r\n    typeCheckObj['typeCheck'] = 'edit';\r\n    typeCheckObj['selectData'] = this.selectedRows[0];\r\n    typeCheckObj['vendorData'] = vendorObj;\r\n    const dialogRef = this.dialog.open(FrameLensesModalComponent, {\r\n      // height: '350px' manufacturer\r\n      data: typeCheckObj,\r\n      disableClose: true\r\n    });\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      if (result) {\r\n        console.log(result);\r\n        this.selectedRows = [];\r\n        let   dcostPrice = result.costPrice ;\r\n        if (result.isEditAmount) {\r\n        dcostPrice = ((result.invoiceQty * result.costPrice) - result.discountAmt) / result.invoiceQty;\r\n        }\r\n      const payload = {\r\n          ...result,\r\n          vendorNm: vendorObj.vendorNm,\r\n          itemBrandNm: result.brandName.itemBrandNm || result.brandName,\r\n          manufacturerNm: result.manufacturer,\r\n          manufacturerId: result.manufactureId,\r\n          totalCostPrice: result.costPrice,\r\n          costPrice: dcostPrice,\r\n          markUp: result.brandMrp - dcostPrice,\r\n        };\r\n        delete payload.manufacturer;\r\n        let index = -1, selectedNodeIndex = -1;\r\n        this.gridApi.forEachNode((val) => {\r\n          index += 1;\r\n          if (val.isSelected()) {\r\n            selectedNodeIndex = index;\r\n          }\r\n        });\r\n        const [selectedRowNode] = this.gridApi.getSelectedNodes();\r\n        selectedRowNode.setData(payload);\r\n        if (selectedNodeIndex !== -1 &&\r\n          this.frameLensData[this.inventoryType] && this.frameLensData[this.inventoryType][selectedNodeIndex]) {\r\n            this.frameLensData[this.inventoryType][selectedNodeIndex] = payload;\r\n        }\r\n        // this.frameLensData[this.inventoryType].push(payload);\r\n        // this.selectedRows[0].setData(payload);\r\n        // this.gridApi.setRowData(this.frameLensData[this.inventoryType]);\r\n        // this.totalAmountCalculation();\r\n        this.selectedRows = [];\r\n        this.gridApi.deselectAll();\r\n      }\r\n    });\r\n  }\r\n\r\n  totalAmountCalculation() {\r\n    this.vendorArry = [];\r\n    this.gridApi.forEachNode(({ data }) => {\r\n      this.vendorArry.push(data);\r\n    });\r\n    const getTotalcostPrice = this.vendorArry.reduce(\r\n      (acc, val) => (acc += val.costPrice * val.invoiceQty),\r\n      0\r\n    );\r\n    const totalServiceAmt = getTotalcostPrice;\r\n    const totaltTaxAmt = this.vendorArry.reduce(\r\n      (acc, val) =>\r\n        (acc += (val.costPrice * val.invoiceQty * val.taxPercntg) / 100),\r\n      0\r\n    );\r\n    const totalAmt = getTotalcostPrice;\r\n    this.getTotalAmountWithoutTax = getTotalcostPrice;\r\n    this.getTotalCgstAmt = totaltTaxAmt / 2;\r\n    this.getTotalSgstAmt = totaltTaxAmt / 2;\r\n    this.getFinalAmt = totalAmt + totaltTaxAmt - this.discountAmt;\r\n  }\r\n\r\n  // deleteVendorInvoice(data) {\r\n  //   const selected = this.gridApi.getSelectedRows();\r\n  //   this.gridApi.updateRowData({ remove: selected });\r\n  //   const [rowToRemove] = selected;\r\n  //   const index = this.frameLensData[this.inventoryType].findIndex(\r\n  //     val => val.$$key === rowToRemove.$$key\r\n  //   );\r\n  //   this.frameLensData[this.inventoryType].splice(index, 1);\r\n  // }\r\n\r\n\r\n  deleteVendorInvoice(data) {\r\n    const selected = this.gridApi.getSelectedRows();\r\n    if (data) {\r\n      const dialogRef = this.dialog.open(ConfirmationDialogComponent, {\r\n        data: {\r\n          title: 'Are you sure want to delete ?'\r\n        },\r\n        disableClose: true\r\n      });\r\n\r\n      dialogRef.afterClosed().subscribe(result => {\r\n        if (result === true) {\r\n        this.gridApi.updateRowData({ remove: selected });\r\n        const [rowToRemove] = selected;\r\n        const index = this.frameLensData[this.inventoryType].findIndex(\r\n          val => val.$$key === rowToRemove.$$key\r\n        );\r\n        this.frameLensData[this.inventoryType].splice(index, 1);\r\n    this.toaster.success('Success', 'Deleted Successfully');\r\n      }\r\n      });\r\n    }\r\n    // this.toaster.success('Success', 'Deleted Successfully');\r\n  }\r\n\r\n\r\n  fetchVendorsList() {\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId\r\n    };\r\n    this.opticalService.fetchVendorsList(payload).subscribe(\r\n      (response: any) => {\r\n        if (response.responseCode === 'E200') {\r\n          this.vendorsList = response.data;\r\n        } else if (response.response === 'E400') {\r\n          this.toaster.error('Failure!', 'Something went wrong');\r\n        }\r\n      },\r\n      err => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n\r\n  fetchBrandNames() {\r\n    this.brandNameList$ = concat(\r\n      of([]), // default items\r\n      this.brandNameListinput$.pipe(\r\n        debounceTime(200),\r\n        distinctUntilChanged(),\r\n        filter(checkStringCount => {\r\n          if (checkStringCount.length > 1) {\r\n            return true;\r\n          }\r\n        }),\r\n        //  tap(() => this.people3Loading = true),\r\n        switchMap((term: string) => {\r\n          const payload = {\r\n            createdUsrId: this.sessionData.regId,\r\n            itemTypeId: 234,\r\n            orgGrpId: this.sessionData.orgGroupId,\r\n            orgId: this.sessionData.orgId,\r\n            itemBrandNm: term\r\n          };\r\n          return this.opticalService.fetchInventoryList(payload).pipe(\r\n            map((response: any) => {\r\n              if (response.responseCode === 'E200') {\r\n                return response.data;\r\n              } else if (response.response === 'E400') {\r\n                // return (this.manufacturersList = []);\r\n              }\r\n            }),\r\n            catchError(error => {\r\n              return of([]);\r\n            })\r\n          );\r\n        })\r\n      )\r\n    );\r\n  }\r\n  modeOfTransport() {\r\n    this.modeTransport = ['Roadways', 'Railways', 'Airways', 'Waterways'];\r\n  }\r\n\r\n  onAddVendor(selectedVendor) {\r\n    this.vendorSelectData = selectedVendor;\r\n  }\r\n  onAddBrand(brand) {\r\n    this.vendorNewInvoiceForm.patchValue(brand);\r\n  }\r\n  onSelectionChanged(ev) {\r\n    this.selectedRows = this.gridApi.getSelectedRows();\r\n  }\r\n\r\n  gridReady(params) {\r\n    this.gridApi = params.api;\r\n    this.gridColumnApi = params.columnApi;\r\n    this.gridApi.setRowData([]);\r\n  }\r\n  // onGridReady(params) {\r\n  //   this.gridOneApi = params.api;\r\n  //   this.gridOneColumnApi = params.columnApi;\r\n  // }\r\n\r\n  addVendorNewInvoiceForm() {\r\n    const vendorObj = this.vendorNewInvoiceForm.value.vendor;\r\n    this.vendorData['vendorInvoiceDt'] = this.datePipe.transform(\r\n      this.vendorNewInvoiceForm.value.deliveredDate,\r\n      'yyyy-MM-dd'\r\n    );\r\n    this.vendorData['orderedDt'] = this.datePipe.transform(\r\n      this.vendorNewInvoiceForm.value.orderedDate,\r\n      'yyyy-MM-dd'\r\n    );\r\n    this.vendorData['barcode'] = this.vendorNewInvoiceForm.get(\r\n      'invoiceNo'\r\n    ).value;\r\n    this.vendorData['deliveryDt'] = this.datePipe.transform(\r\n      this.vendorNewInvoiceForm.value.deliveredDate,\r\n      'yyyy-MM-dd'\r\n    );\r\n    this.vendorData['vendorInvoiceNo'] = this.vendorNewInvoiceForm.get(\r\n      'invoiceNo'\r\n    ).value;\r\n    this.vendorData['shippingType'] = this.vendorNewInvoiceForm.get(\r\n      'transportName'\r\n    ).value;\r\n    this.vendorData['vendorId'] = vendorObj.vendorId;\r\n    this.vendorData['vendorNm'] = vendorObj.vendorNm;\r\n  }\r\n\r\n  addToInventory() {\r\n\r\n    if (this.vendorNewInvoiceForm.invalid) {\r\n      this.toaster.warning('Please fill all the mandatory fields');\r\n      return;\r\n    }\r\n\r\n    this.addVendorNewInvoiceForm();\r\n    this.vendorArry = [];\r\n\r\n    const { frames, contactLenses, lenses } = this.cloner(this.frameLensData);\r\n\r\n    frames.forEach((val) => {\r\n      val.itemType = 'FRAME';\r\n    });\r\n\r\n    contactLenses.forEach((val) => {\r\n      val.itemType = 'CONTACTLENS';\r\n    });\r\n\r\n    lenses.forEach((val) => {\r\n      val.itemType = 'LENS';\r\n    });\r\n\r\n    this.vendorArry = [...frames, ...contactLenses, ...lenses];\r\n\r\n    if (!this.vendorArry.length) {\r\n      this.toaster.warning('Please add at least one item');\r\n      return;\r\n    }\r\n\r\n    const totalcostPrice = this.vendorArry.reduce(\r\n      (acc, val) => (acc += val.costPrice * val.invoiceQty),\r\n      0\r\n    );\r\n\r\n    const totaltTaxAmt = this.vendorArry.reduce(\r\n      (acc, val) =>\r\n        (acc += (val.costPrice * val.invoiceQty * val.taxPercntg) / 100),\r\n      0\r\n    );\r\n    this.discountAmt  = this.vendorArry.reduce(\r\n      (acc, val) =>\r\n        (acc += val.discountAmt),\r\n      0\r\n    );\r\n    this.discountPercntg = this.vendorArry.reduce(\r\n      (acc, val) =>\r\n        (acc += val.discountPercntg),\r\n      0\r\n    );\r\n    const totalServiceAmt = totalcostPrice - totaltTaxAmt;\r\n    const totalAmt = totalcostPrice;\r\n    this.totalAmountWithoutTax = totalcostPrice;\r\n    this.totalCgstAmt = totaltTaxAmt / 2;\r\n    this.totalSgstAmt = totaltTaxAmt / 2;\r\n    this.finalAmt = totalAmt + totaltTaxAmt - this.discountAmt;\r\n    if (this.inventoryType === 'contactLenses') {\r\n      this.itemId = 235;\r\n      this.itemNm = 'Contact Lense';\r\n    } else if (this.inventoryType === 'frames') {\r\n      this.itemId = 234;\r\n      this.itemNm = 'Frame';\r\n    } else if (this.inventoryType === 'lenses') {\r\n      this.itemId = 101;\r\n      this.itemNm = 'Lense';\r\n    }\r\n    this.vendorArry = this.vendorArry.map(el => {\r\n      const taxObject = Object.assign({}, el);\r\n      taxObject['cgstTaxPercntg'] = el.taxPercntg / 2;\r\n      taxObject['sgstTaxPercntg'] = el.taxPercntg / 2;\r\n      taxObject['sgstTaxAmt'] =\r\n        (el.costPrice * el.invoiceQty * el.taxPercntg) / 100 / 2;\r\n      taxObject['cgstTaxAmt'] =\r\n        (el.costPrice * el.invoiceQty * el.taxPercntg) / 100 / 2;\r\n      taxObject['taxAmt'] =\r\n        (el.costPrice * el.invoiceQty * el.taxPercntg) / 100;\r\n      taxObject['markUp'] = el.brandMrp - el.costPrice;\r\n      taxObject['rowTotalAmt'] = el.costPrice * el.invoiceQty;\r\n      taxObject['itemTypeId'] =  el.itemType === 'FRAME' ?  234 : (el.itemType === 'CONTACTLENS' ? 235 : 101) ;\r\n      taxObject['categoryType'] = taxObject['itemTypeNm'] = el.itemType === 'FRAME' ? 'Frame' : (el.itemType === 'CONTACTLENS' ?\r\n       'Contact Lense' : 'Lense');\r\n      taxObject['createdUsrId'] = this.sessionData.regId;\r\n      taxObject['orgGrpId'] = this.sessionData.orgGroupId;\r\n      taxObject['orgId'] = this.sessionData.orgId;\r\n      const { itemType, $$key, ...rest } = taxObject;\r\n      return rest;\r\n    });\r\n\r\n    // const totalAmt = totalcostPrice + taxAmt;\r\n    // below is the final object which is sent into insert api\r\n    const obj = <any>{\r\n      createdUsrId: this.sessionData.regId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      orgId: this.sessionData.orgId,\r\n      taxAmt: totaltTaxAmt,\r\n      totalAmt: totalAmt,\r\n      totalDueAmt: totalAmt,\r\n      totalCgstTaxAmt: this.totalCgstAmt,\r\n      totalSgstTaxAmt: this.totalSgstAmt,\r\n      totalServiceAmt: totalServiceAmt,\r\n      discountAmt: this.discountAmt,\r\n      discountPercntg : this.discountPercntg,\r\n      ...this.vendorData\r\n    };\r\n    // const vendorInvoiceItemReqList = this.vendorArry.map(vendor => {\r\n    //   const { brandName, ...rest } = this.cloner(vendor);\r\n    //   return {\r\n    //     ...rest,\r\n    //     ...(brandName.opticalItemId ? { opticalItemId: brandName.opticalItemId } : { opticalItemId: null }),\r\n    //     ...{\r\n    //       insertOpticalItemReq: [\r\n    //         {\r\n    //           ...rest,\r\n    //           ...(brandName.opticalItemId ? { opticalItemId: brandName.opticalItemId } : { opticalItemId: null }),\r\n    //           ...(rest.vendorInvoiceItemReqList\r\n    //             ? {\r\n    //                 insertLensInInventory: {\r\n    //                   ...rest.vendorInvoiceItemReqList\r\n    //                 }\r\n    //               } : {})\r\n    //         }\r\n    //       ]\r\n    //     }\r\n    //   };\r\n    // });\r\n    const vendorInvoiceItemReqList = this.vendorArry.map(vendor => {\r\n      const { brandName, ...rest } = this.cloner(vendor);\r\n      return {\r\n        ...rest,\r\n        ...(rest.itemTypeId === 101 ? {reqForLens: {\r\n          ...rest,\r\n          // totalCostPrice : null\r\n        }\r\n       } :\r\n        {\r\n          reqForFramesAndContactLens: {\r\n            ...rest,\r\n            // totalCostPrice : null,\r\n          ...(rest.insertLensInInventory\r\n              ? {\r\n                insertContactLensSaleOrOrder: {\r\n                  ...rest.insertLensInInventory\r\n                }\r\n              } : {})\r\n             }\r\n           })\r\n      };\r\n    });\r\n    obj.vendorInvoiceItemReqList = vendorInvoiceItemReqList;\r\n\r\n\r\n    this.opticalService.insertOpticalVendorInvoice(obj).subscribe(\r\n      (response: any) => {\r\n        if (response.responseCode === 'E200') {\r\n          this.frameLensData[this.inventoryType] = [];\r\n          this.frameLensData = {\r\n            frames: [],\r\n            contactLenses: [],\r\n            lenses: []\r\n          };\r\n          this.gridApi.setRowData([]);\r\n          this.toaster.success('Success', 'Insert Successfully');\r\n          this.vendorNewInvoiceForm.reset();\r\n        } else if (response.response === 'E400') {\r\n          this.toaster.error('Failure!', response.responseMessage);\r\n        }\r\n      },\r\n      () => {\r\n        this.toaster.error('Failure!', 'vendor invoice number combination already available');\r\n      }\r\n    );\r\n  }\r\n\r\n  onFrameTypeChange() {\r\n    this.gridApi.setRowData([]);\r\n    if (this.inventoryType === 'frames') {\r\n      this.gridApi.setColumnDefs(this.columnDefsFrames);\r\n    } else if (this.inventoryType === 'contactLenses') {\r\n      this.gridApi.setColumnDefs(this.columnDefsContactLenses);\r\n    } else if (this.inventoryType === 'lenses') {\r\n       this.gridApi.setColumnDefs(this.columnDefsLenses);\r\n     }\r\n    this.gridApi.setRowData(this.frameLensData[this.inventoryType]);\r\n  }\r\n\r\n  getMethod() {}\r\n  ngOnDestroy() {\r\n  }\r\n}\r\n","<div class=\"add-supplier-section\">\r\n  <div class=\"row m-0 p-0\">\r\n  <div class=\"col-sm-2 p-0 p-r-10 p-l-10\">\r\n    <div class=\"select-image\">\r\n      <div class=\"box-panel-form bg-white col-md-12 border-radius-all-side border-all-side p-t-10 p-b-10\" *ngIf=\"!url\">\r\n        <div class=\"select-image-text\">\r\n          <p>\r\n            <i class=\"fas fa-camera\"></i>\r\n          </p>\r\n          <p>Upload Image</p>\r\n        </div>\r\n      </div>\r\n      <div *ngIf=\"url\" class=\"selected-image\">\r\n        <img src=\"{{url}}\">\r\n      </div>\r\n      <div class=\"overlay\"></div>\r\n      <input id=\"_file\" type=\"file\" (change)=\"onFileChanged($event.target.files)\" #fileInput>\r\n      <div class=\"button\">\r\n        <a (click)=\"fileInput.click()\"> Select File </a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"col-sm-10 p-0 p-r-10\">\r\n    <form [formGroup]=\"addSupplierForm\" #form=\"ngForm\" id=\"supplier-form\">\r\n      <div class=\"row m-0\">\r\n        <div class=\"col-sm-9 p-0\">\r\n          <div class=\"box-panel-form bg-white supplier-details-form p-b-0 p-t-0 border-radius-all-side border-all-side\">\r\n            <div class=\"row m-t-10 m-b-10\">\r\n              <div class=\"col-sm-6\">\r\n                <label for=\"vendorNm\">Vendor Name\r\n                  <span class=\"astrik-symbol\"><i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i></span>\r\n                </label>\r\n                <input id=\"vendorNm\" type=\"text\" id=\"vendorNm\" name=\"vendorNm\" formControlName=\"vendorNm\">\r\n                <ng-container *ngIf=\"supplierFormSubmitted\">\r\n                    <div *ngFor=\"let validation of supplier_details_validation_messages.vendorName\" class=\"has-error popover-style\">\r\n                        <div class=\"dynamic_popover\" *ngIf=\"addSupplierForm.get('vendorNm').hasError(validation.type)\">{{validation.message}}\r\n                          <span class=\"doArrow\"></span>\r\n                        </div>\r\n                      </div>\r\n                </ng-container>\r\n\r\n              </div>\r\n              <div class=\"col-md-6 p-l-0\">\r\n                <label for=\"vendorLicence\">{{ 'ADDRESSCONTACTLABELS.LICENCE_NO_TEXT' | translate }}\r\n                  <span class=\"astrik-symbol\"><i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i></span>\r\n                </label>\r\n                <input type=\"text\" id=\"vendorLicenseId\" name=\"vendorLicence\" formControlName=\"vendorLicenseId\">\r\n                <ng-container *ngIf=\"supplierFormSubmitted\">\r\n                <div *ngFor=\"let validation of supplier_details_validation_messages.vendorLicence\" class=\"has-error popover-style\">\r\n                  <div class=\"dynamic_popover\" *ngIf=\"addSupplierForm.get('vendorLicenseId').hasError(validation.type)\">{{validation.message}}\r\n                    <span class=\"doArrow\"></span>\r\n                  </div>\r\n                </div>\r\n                </ng-container>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row m-b-10\">\r\n              <div class=\"col-md-6\">\r\n                <label for=\"narcosc\">{{ 'OPTICALSTORE.NARCOSC_TEXT' | translate }}</label>\r\n                <input type=\"text\" id=\"narcoSc\" name=\"narcosc\" formControlName=\"narcoSc\">\r\n                <ng-container *ngIf=\"supplierFormSubmitted\">\r\n                <div *ngFor=\"let validation of supplier_details_validation_messages.narcosc\" class=\"has-error popover-style\">\r\n                  <div class=\"dynamic_popover\" *ngIf=\"addSupplierForm.get('narcoSc').hasError(validation.type) && (addSupplierForm.get('narcoSc').dirty || addSupplierForm.get('narcoSc').touched)\">{{validation.message}}\r\n                    <span class=\"doArrow\"></span>\r\n                  </div>\r\n                </div>\r\n                </ng-container>\r\n              </div>\r\n              <div class=\"col-md-6 p-l-0\">\r\n                <label for=\"supplierGst\">{{ 'ADDRESSCONTACTLABELS.GST_NO_TEXT' | translate }}\r\n                  <span class=\"astrik-symbol\"><i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i></span>\r\n                </label>\r\n                <input type=\"text\" id=\"vendorGst\" name=\"supplierGst\" formControlName=\"vendorGst\">\r\n                <ng-container *ngIf=\"supplierFormSubmitted\">\r\n                <div *ngFor=\"let validation of supplier_details_validation_messages.vendorGST\" class=\"has-error popover-style\">\r\n                  <div class=\"dynamic_popover\" *ngIf=\"addSupplierForm.get('vendorGst').hasError(validation.type)\">{{validation.message}}\r\n                    <span class=\"doArrow\"></span>\r\n                  </div>\r\n                </div>\r\n                </ng-container>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row m-b-10\">\r\n              <div class=\"col-md-6 \">\r\n                <label for=\"mname\">{{ 'ADDRESSCONTACTLABELS.TAN_NO_TEXT' | translate }}\r\n                  <span class=\"astrik-symbol\"><i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i></span>\r\n                </label>\r\n                <input type=\"text\" id=\"vendorTan\" name=\"mname\" formControlName=\"vendorTan\">\r\n                <ng-container *ngIf=\"supplierFormSubmitted\">\r\n                <div *ngFor=\"let validation of supplier_details_validation_messages.vendorTAN\" class=\"has-error popover-style\">\r\n                  <div class=\"dynamic_popover\" *ngIf=\"addSupplierForm.get('vendorTan').hasError(validation.type)\">{{validation.message}}\r\n                    <span class=\"doArrow\"></span>\r\n                  </div>\r\n                </div>\r\n                </ng-container>\r\n              </div>\r\n              <div class=\"btn-group btn-group-sm d-block col-md-6 p-l-0\">\r\n                <label for=\"mname\">Is Local\r\n                  <span class=\"astrik-symbol\"><i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i></span>\r\n                </label>\r\n                <div>\r\n                  <label class=\"btn bg-dark-white-smoke btn-success-hz\" (click)=\"localYes = true\" [class.active]=\"localYes\">Yes</label>\r\n                  <label class=\"btn bg-dark-white-smoke btn-danger-hz\" (click)=\"localYes = false\" [class.active]=\"!localYes\">No</label>\r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row m-b-10\">\r\n              <div class=\"col-md-6\">\r\n                <label for=\"phone1\">{{'ADDRESSCONTACTLABELS.PHONE_ONE_TEXT' | translate}}</label>\r\n                <input type=\"text\" id=\"vendorContactNo1\" name=\"phone1\" formControlName=\"vendorContactNo1\" maxlength=\"10\">\r\n                <ng-container *ngIf=\"supplierFormSubmitted\">\r\n                <div *ngFor=\"let validation of supplier_details_validation_messages.mobileNo\" class=\"has-error popover-style\">\r\n                  <div class=\"dynamic_popover\" *ngIf=\"addSupplierForm.get('vendorContactNo1').hasError(validation.type) && (addSupplierForm.get('vendorContactNo1').dirty || addSupplierForm.get('vendorContactNo1').touched)\">{{validation.message}}\r\n                    <span class=\"doArrow\"></span>\r\n                  </div>\r\n                </div>\r\n                </ng-container>\r\n              </div>\r\n              <div class=\"col-md-6 p-l-0\">\r\n                <label for=\"phone2\">{{'ADDRESSCONTACTLABELS.PHONE_TWO_TEXT' | translate}}</label>\r\n                <input type=\"text\" id=\"vendorContactNo2\" name=\"phone2\" formControlName=\"vendorContactNo2\" maxlength=\"10\">\r\n                <ng-container *ngIf=\"supplierFormSubmitted\">\r\n                <div *ngFor=\"let validation of supplier_details_validation_messages.mobileNoalt\" class=\"has-error popover-style\">\r\n                  <div class=\"dynamic_popover\" *ngIf=\"addSupplierForm.get('vendorContactNo2').hasError(validation.type) && (addSupplierForm.get('vendorContactNo2').dirty || addSupplierForm.get('vendorContactNo2').touched)\">{{validation.message}}\r\n                    <span class=\"doArrow\"></span>\r\n                  </div>\r\n                </div>\r\n                </ng-container>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row m-b-10\">\r\n              <div class=\"col-md-6\">\r\n                <label for=\"emailId\">{{'ADDRESSCONTACTLABELS.EMAIL_TEXT' | translate}}</label>\r\n                <input type=\"text\" id=\"emailId\" name=\"emailId\" formControlName=\"emailId\">\r\n                <ng-container *ngIf=\"supplierFormSubmitted\">\r\n                <div *ngFor=\"let validation of supplier_details_validation_messages.email\" class=\"has-error popover-style\">\r\n                  <div class=\"dynamic_popover\" *ngIf=\"addSupplierForm.get('emailId').hasError(validation.type) && (addSupplierForm.get('emailId').dirty || addSupplierForm.get('emailId').touched)\">{{validation.message}}\r\n                    <span class=\"doArrow\"></span>\r\n                  </div>\r\n                </div>\r\n                </ng-container>\r\n              </div>\r\n              <div class=\"col-md-6 p-l-0\">\r\n                <label for=\"website\">{{'ADDRESSCONTACTLABELS.WEBSITE_TEXT' | translate}}</label>\r\n                <input type=\"text\" id=\"webSite\" name=\"website\" formControlName=\"webSite\">\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row m-b-10\">\r\n              <div class=\"col-md-12  col-xs-12\">\r\n                <label for=\"description\">{{'COMMONLABELS.DESCRIPTION_TEXT' | translate}}</label>\r\n                <textarea cdkTextareaAutosize class=\"minheight\" type=\"text\" id=\"description\" name=\"description\" formControlName=\"description\"></textarea>\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n        <div class=\"col-sm-3 p-0 p-r-10 p-l-10\">\r\n          <div class=\"box-panel-form bg-white col-md-12 p-0 border-radius-all-side border-all-side p-t-10 p-b-10\">\r\n            <div class=\"col-md-12  col-xs-12 m-b-10\">\r\n              <label for=\"addressone\">{{ 'ADDRESSCONTACTLABELS.ADDRESS_TEXT' | translate }}\r\n                <span class=\"astrik-symbol\"><i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i></span>\r\n              </label>\r\n              <textarea type=\"text\" id=\"vendorAddress1\" name=\"addressone\" formControlName=\"vendorAddress1\"></textarea>\r\n              <ng-container *ngIf=\"supplierFormSubmitted\">\r\n              <div *ngFor=\"let validation of supplier_details_validation_messages.address\" class=\"has-error popover-style\">\r\n                <div class=\"dynamic_popover\" *ngIf=\"addSupplierForm.get('vendorAddress1').hasError(validation.type)\">{{validation.message}}\r\n                  <span class=\"doArrow\"></span>\r\n                </div>\r\n              </div>\r\n              </ng-container>\r\n            </div>\r\n            <div class=\"col-md-12  col-xs-12 m-b-10\">\r\n              <label for=\"pincode\">{{ 'ADDRESSCONTACTLABELS.PIN_TEXT' | translate }}</label>\r\n              <input type=\"text\" id=\"pincode\" name=\"pincode\" formControlName=\"pincode\">\r\n              <ng-container *ngIf=\"supplierFormSubmitted\">\r\n              <div *ngFor=\"let validation of supplier_details_validation_messages.pincode\" class=\"has-error popover-style\">\r\n                <div class=\"dynamic_popover\" *ngIf=\"addSupplierForm.get('pincode').hasError(validation.type) && (addSupplierForm.get('pincode').dirty || addSupplierForm.get('pincode').touched)\">{{validation.message}}\r\n                  <span class=\"doArrow\"></span>\r\n                </div>\r\n              </div>\r\n              </ng-container>\r\n            </div>\r\n            <div class=\"col-md-12  col-xs-12 m-b-10\">\r\n              <label for=\"city\">{{ 'ADDRESSCONTACTLABELS.CITY_TEXT' | translate }}\r\n                <span class=\"astrik-symbol\"><i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i></span>\r\n              </label>\r\n              <input type=\"text\" id=\"vendorCityNm\" name=\"city\" formControlName=\"vendorCityNm\">\r\n              <ng-container *ngIf=\"supplierFormSubmitted\">\r\n              <div *ngFor=\"let validation of supplier_details_validation_messages.cityName\" class=\"has-error popover-style\">\r\n                <div class=\"dynamic_popover\" *ngIf=\"addSupplierForm.get('vendorCityNm').hasError(validation.type)\">{{validation.message}}\r\n                  <span class=\"doArrow\"></span>\r\n                </div>\r\n              </div>\r\n              </ng-container>\r\n            </div>\r\n            <div class=\"col-md-12  col-xs-12 m-b-10\">\r\n              <label for=\"district\">{{ 'ADDRESSCONTACTLABELS.DISTRICT_TEXT' | translate }}</label>\r\n              <input type=\"text\" id=\"vendorDist\" name=\"district\" formControlName=\"vendorDist\">\r\n            </div>\r\n            <div class=\"col-md-12  col-xs-12 m-b-10\">\r\n              <label for=\"state\">{{ 'ADDRESSCONTACTLABELS.STATE_TEXT' | translate }}</label>\r\n              <input type=\"text\" id=\"vendorState\" name=\"state\" formControlName=\"vendorState\">\r\n            </div>\r\n            <div class=\"col-md-12  col-xs-12 m-b-10\">\r\n              <label for=\"country\">{{ 'ADDRESSCONTACTLABELS.COUNTRY_TEXT' | translate }}\r\n                <span class=\"astrik-symbol\"><i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i></span>\r\n              </label>\r\n              <input type=\"text\" id=\"vendorCountry\" name=\"country\" formControlName=\"vendorCountry\">\r\n              <ng-container *ngIf=\"supplierFormSubmitted\">\r\n              <div *ngFor=\"let validation of supplier_details_validation_messages.CountryName\" class=\"has-error popover-style\">\r\n                <div class=\"dynamic_popover\" *ngIf=\"addSupplierForm.get('vendorCountry').hasError(validation.type)\">{{validation.message}}\r\n                  <span class=\"doArrow\"></span>\r\n                </div>\r\n              </div>\r\n              </ng-container>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n    <div class=\"col-sm-12 add-manufacturers p-0 p-t-10 p-r-10\">\r\n      <div class=\"box-panel-form bg-white p-0 col-sm-12 border-radius-all-side border-all-side p-b-10\">\r\n        <div class=\"form-header\">\r\n          <p class=\"text-uppercase txt-scarletgum\">{{ 'OPTICALSTORE.ADD_MANUFACTURERS_TEXT' | translate }}</p>\r\n        </div>\r\n\r\n        <div class=\"row m-0 add-manufacturers-form\">\r\n          <div class=\"col-sm-7  col-xs-12\">\r\n            <label for=\"mname\">{{ 'OPTICALSTORE.SELECT_MANUFACTURER_TEXT' | translate }}</label>\r\n            <ng-select id=\"manufacturer_Nm\" [items]=\"manufacurersList$ | async\" bindLabel=\"manufacturerNm\" [addTag]=\"true\" [hideSelected]=\"true\" [typeahead]=\"manufacurersListinput$\"\r\n              [(ngModel)]=\"selectedManufacturer\">\r\n            </ng-select>\r\n          </div>\r\n          <div class=\"col-sm-3  col-xs-12\">\r\n            <label for=\"mname\">{{ 'OPTICALSTORE.DELIVERY_TIME_TEXT' | translate }}(Days)</label>\r\n            <input type=\"text\" #deliveryTimeModel=\"ngModel\" id=\"mname\" name=\"mname\" minlength=\"1\" maxlength=\"5\" [(ngModel)]=\"deliveryTime\"\r\n              pattern=\"[0-9]+\">\r\n            <div *ngIf=\"deliveryTimeModel.invalid\" class=\"has-error popover-style\">\r\n              <div class=\"dynamic_popover\">Only Numbers are allowed\r\n                <span class=\"doArrow\"></span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-sm-2  col-xs-12 add-to-list-btn\">\r\n            <button id=\"secondary_Button\" class=\"secondaryButton\" (click)=\"addMnanufacturerToList()\" [disabled]=\"!selectedManufacturer || deliveryTimeModel.invalid || !deliveryTime\">{{ 'OPTICALSTORE.ADD_TO_LIST' | translate }}</button>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"add-manufacturers-list\">\r\n          <div class=\"row m-0 manufacturers-list-header\">\r\n            <div class=\"col-sm-9\">\r\n              <p class=\"text-uppercase txt-scarletgum pl-3\">{{ 'OPTICALSTORE.MANUFACTURERS_TEXT' | translate }}</p>\r\n            </div>\r\n            <div class=\"col-sm-2\">\r\n              <p>{{ 'OPTICALSTORE.DELIVERY_TIME_TEXT' | translate }}</p>\r\n            </div>\r\n            <div class=\"col-sm-1\">\r\n\r\n            </div>\r\n          </div>\r\n          <div class=\"manufacturers-list-data col-sm-12\" *ngIf=\"currentManufacturersList.length > 0; else elseBlock\">\r\n            <div *ngFor=\"let manufacturer of currentManufacturersList; index as _indx\" class=\"row m-0 single-manufacturer\">\r\n              <p class=\"col-sm-9\">{{manufacturer.manufacturerNm}}</p>\r\n              <p class=\"col-sm-2\">{{manufacturer.expectedDeliveryTime}} Days</p>\r\n              <p class=\"col-sm-1 delete-icon\" (click)=\"removeCurrentManufacturer(manufacturer,_indx)\">\r\n                <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\r\n              </p>\r\n            </div>\r\n\r\n          </div>\r\n          <ng-template #elseBlock>\r\n            <div class=\"col-sm-12\">\r\n              <div class=\"grid-msg-text-branch margin-top-40\" role=\"alert\">{{ 'COMMONLABELS.NO_DATA_TEXT' | translate }}</div>\r\n            </div>\r\n\r\n          </ng-template>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-12 p-l-r-5 m-t-b-15 form-button-group\">\r\n    <ul>\r\n      <li>\r\n          <button id=\"supplierform1\" type=\"submit\" form=\"supplier-form\" class=\"btn-app btn-save\" (click)=\"submitAddSupplierForm(addSupplierForm)\" *ngIf=\"!editVendor\">\r\n              <i class=\"fas fa-save margin-right-5\" aria-hidden=\"true\"></i> Save</button>\r\n      </li>\r\n      <li>\r\n          <button id=\"supplierform2\" type=\"submit\" form=\"supplier-form\" class=\"btn-app btn-save\" (click)=\"submitUpdateSupplierForm(addSupplierForm)\"\r\n          *ngIf=\"editVendor\">\r\n          <i class=\"fas fa-save margin-right-5\" aria-hidden=\"true\"></i> Update</button>\r\n      </li>\r\n      <li>\r\n          <button id=\"editVendor\" type=\"button\" class=\"btn-app btn-delete\" *ngIf=\"editVendor\" (click)=\"cancelSupplierEdit()\">\r\n              <i class=\"fas fa-times fa-btn-icon margin-right-5\" aria-hidden=\"true\"></i> Cancel</button>\r\n      </li>\r\n     </ul>\r\n  </div>\r\n  </div>\r\n  </div>\r\n</div>\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  NgModule,\r\n  ViewChild,\r\n  ChangeDetectorRef,\r\n  ElementRef,\r\n  OnDestroy\r\n} from '@angular/core';\r\nimport {\r\n  FormControl,\r\n  FormGroup,\r\n  FormBuilder,\r\n  ReactiveFormsModule,\r\n  FormsModule,\r\n  Validators\r\n} from '@angular/forms';\r\nimport { NgSelectModule, NgOption } from '@ng-select/ng-select';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Subject, Subscription, Observable, of, concat, from } from 'rxjs';\r\nimport {\r\n  distinctUntilChanged,\r\n  debounceTime,\r\n  switchMap,\r\n  tap,\r\n  catchError,\r\n  map,\r\n  count,\r\n  filter\r\n} from 'rxjs/operators';\r\nimport { UserSession } from '@core/models/user-session';\r\nimport {\r\n  Router,\r\n  ActivatedRouteSnapshot,\r\n  ActivatedRoute\r\n} from '@angular/router';\r\nimport { OpticalStoreService } from '../../../opticalStore.service';\r\nimport { ConfirmationDialogComponent } from '@shared/components/confirmation-dialog/confirmation-dialog.component';\r\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\r\nimport { OpticalStoreApiService, UtilService } from '@core/services';\r\nimport { Store } from '@ngrx/store';\r\nimport * as S3 from 'aws-sdk/clients/s3';\r\nimport { AutoUnsubscribe } from 'ngx-auto-unsubscribe';\r\nimport { UserService } from '@core/services/user.service';\r\n\r\n@AutoUnsubscribe()\r\n@Component({\r\n  selector: 'app-add-optical-suppliers',\r\n  templateUrl: './add-optical-suppliers.component.html',\r\n  styleUrls: ['./add-optical-suppliers.component.scss']\r\n})\r\nexport class AddOpticalSuppliersComponent implements OnInit, OnDestroy {\r\n  // items = [{name: true, id: 1}, {name : 'Two'}, {name : 3}];\r\n  // private sessionData: UserSession;\r\n  public manufacturersList: any[] = [];\r\n  currentManufacturersList: any[] = [];\r\n  selectedManufacturer: any;\r\n  deliveryTime: any;\r\n  addSupplierForm: FormGroup;\r\n  vendorId: any;\r\n  private sessionData: UserSession;\r\n  localYes: Boolean = true;\r\n  editVendorData: any;\r\n  editVendor: Boolean;\r\n  manufacturerStatus: Boolean = false;\r\n  // manufacurersListSubscription: Subscription;\r\n  manufacurersList$: Observable<any>;\r\n  // manufacurersList = [];\r\n  // people3$: Observable<Person[]>;\r\n  // people3Loading = false;\r\n  manufacurersListinput$ = new Subject<string>();\r\n  public patient: any;\r\n\r\n  public bucket = new S3(this.componentOpticalStoreService.getBucketsConfig());\r\n\r\n  acceptedMimeTypes = ['image/gif', 'image/jpeg', 'image/png'];\r\n  public imageUploadSubscription: Subscription;\r\n  @ViewChild('fileInput') fileInput: ElementRef;\r\n  public url;\r\n  public imageFile;\r\n  public supplierFormSubmitted = false;\r\n  supplier_details_validation_messages = {\r\n    vendorName: [\r\n      { type: 'required', message: '* Supplier Name is required' },\r\n      {\r\n        type: 'minlength',\r\n        message: '* Supplier Name must be at least 3 characters long'\r\n      },\r\n      {\r\n        type: 'maxlength',\r\n        message: '* Supplier Name cannot be more than 50 characters long'\r\n      },\r\n      { type: 'pattern', message: 'Supplier Name must contain only letters' }\r\n    ],\r\n    vendorLicence: [\r\n      { type: 'required', message: '* Licence Id is required' },\r\n      {\r\n        type: 'minlength',\r\n        message: '* Licence Id must be at least 3 characters long'\r\n      },\r\n      {\r\n        type: 'maxlength',\r\n        message: '* Licence Id cannot be more than 50 characters long'\r\n      }\r\n    ],\r\n    vendorGST: [\r\n      { type: 'required', message: '* GST No is required' },\r\n      {\r\n        type: 'minlength',\r\n        message: '* GST No must be at least 3 characters long'\r\n      },\r\n      {\r\n        type: 'maxlength',\r\n        message: '* GST No cannot be more than 50 characters long'\r\n      }\r\n    ],\r\n    vendorTAN: [\r\n      { type: 'required', message: '* TAN No is required' },\r\n      {\r\n        type: 'minlength',\r\n        message: '* TAN No must be at least 3 characters long'\r\n      },\r\n      {\r\n        type: 'maxlength',\r\n        message: '* TAN No cannot be more than 50 characters long'\r\n      }\r\n    ],\r\n    narcosc: [\r\n      {\r\n        type: 'minlength',\r\n        message: '* Narcosc must be at least 3 characters long'\r\n      },\r\n      {\r\n        type: 'maxlength',\r\n        message: '* Narcosc cannot be more than 50 characters long'\r\n      }\r\n    ],\r\n    email: [{ type: 'pattern', message: 'Enter a valid email' }],\r\n    address: [\r\n      { type: 'required', message: '* Address is required' },\r\n      { type: 'minlength', message: '* Address is Too Small' },\r\n      { type: 'maxlength', message: '* Address is Too Long' }\r\n    ],\r\n    pincode: [\r\n      { type: 'minlength', message: '* Pincode is Too Small' },\r\n      { type: 'maxlength', message: '* Pincode is Too Long' },\r\n      { type: 'pattern', message: 'Enter Valid Pincode' }\r\n    ],\r\n    cityName: [\r\n      { type: 'required', message: '* City is required' },\r\n      { type: 'minlength', message: '* City is Too Small' },\r\n      { type: 'maxlength', message: '* City is Too Long' },\r\n      { type: 'pattern', message: 'Enter a Valid City' }\r\n    ],\r\n    CountryName: [\r\n      { type: 'required', message: '* Country is required' },\r\n      { type: 'minlength', message: '* Country is Too Small' },\r\n      { type: 'maxlength', message: '* Country is Too Long' },\r\n      { type: 'pattern', message: 'Enter a Valid Country' }\r\n    ],\r\n    mobileNo: [\r\n      { type: 'minlength', message: 'Contact No is Too Small' },\r\n      { type: 'maxlength', message: 'Contact No is Too Long' },\r\n      { type: 'pattern', message: 'Enter a Valid Contact No' }\r\n    ],\r\n    mobileNoalt: [\r\n      { type: 'minlength', message: 'Contact No 2 is Too Small' },\r\n      { type: 'maxlength', message: 'Contact No 2 is Too Long' },\r\n      { type: 'pattern', message: 'Enter a Valid Contact No 2' }\r\n    ]\r\n  };\r\n  constructor(\r\n    private opticalService: OpticalStoreApiService,\r\n    private componentOpticalStoreService: OpticalStoreService,\r\n    private toaster: ToastrService,\r\n    private router: Router,\r\n    private activatedRoute: ActivatedRoute,\r\n    private formbuilder: FormBuilder,\r\n    public dialog: MatDialog,\r\n    private store: Store<any>,\r\n    private changeDecRef: ChangeDetectorRef,\r\n    private utilService: UtilService,\r\n    userService: UserService,\r\n  ) {\r\n    this.sessionData = userService.getUser();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.fetchManufacturersList();\r\n    this.initForm();\r\n    this.getEditVendorData();\r\n  }\r\n\r\n  ngOnDestroy() { }\r\n  initForm() {\r\n    this.addSupplierForm = this.formbuilder.group({\r\n      vendorNm: this.formbuilder.control('', [\r\n        Validators.required,\r\n        Validators.minLength(3),\r\n        Validators.maxLength(50),\r\n        Validators.pattern(/^[a-zA-Z ]*$/)\r\n      ]),\r\n      vendorLicenseId: this.formbuilder.control('', [\r\n        Validators.required,\r\n        Validators.minLength(3),\r\n        Validators.maxLength(50)\r\n      ]),\r\n      narcoSc: this.formbuilder.control(null, [\r\n        Validators.minLength(3),\r\n        Validators.maxLength(50)\r\n      ]),\r\n      vendorGst: this.formbuilder.control('', [\r\n        Validators.required,\r\n        Validators.minLength(3),\r\n        Validators.maxLength(50)\r\n      ]),\r\n      vendorTan: this.formbuilder.control('', [\r\n        Validators.required,\r\n        Validators.minLength(3),\r\n        Validators.maxLength(50)\r\n      ]),\r\n      vendorContactNo1: this.formbuilder.control(null, [\r\n        Validators.minLength(10),\r\n        Validators.maxLength(10),\r\n        Validators.pattern(/(5|6|7|8|9)\\d{9}$/)\r\n      ]),\r\n      vendorContactNo2: this.formbuilder.control(null, [\r\n        Validators.minLength(10),\r\n        Validators.maxLength(10),\r\n        Validators.pattern(/(5|6|7|8|9)\\d{9}$/)\r\n      ]),\r\n      emailId: this.formbuilder.control(null, [\r\n        Validators.pattern(/^[a-z]+[a-z0-9._]+@[a-z]+\\.[a-z.]{2,5}$/)\r\n      ]),\r\n      webSite: this.formbuilder.control(null),\r\n      description: this.formbuilder.control(null),\r\n      vendorAddress1: this.formbuilder.control(null, [\r\n        Validators.required,\r\n        Validators.minLength(1),\r\n        Validators.maxLength(300)\r\n      ]),\r\n      pincode: this.formbuilder.control(null, [\r\n        Validators.minLength(6),\r\n        Validators.maxLength(6),\r\n        Validators.pattern(/^[1-9][0-9]{5}$/)\r\n      ]),\r\n      vendorCityNm: this.formbuilder.control(null, [\r\n        Validators.required,\r\n        Validators.minLength(3),\r\n        Validators.maxLength(20),\r\n        Validators.pattern(/^[a-zA-Z ]*$/)\r\n      ]),\r\n      vendorDist: this.formbuilder.control(null),\r\n      vendorState: this.formbuilder.control(null),\r\n      vendorCountry: this.formbuilder.control('India', [\r\n        Validators.required,\r\n        Validators.minLength(3),\r\n        Validators.maxLength(30),\r\n        Validators.pattern(/^[a-zA-Z ]*$/)\r\n      ])\r\n    });\r\n  }\r\n\r\n  getEditVendorData() {\r\n    this.editVendorData = this.componentOpticalStoreService.vendorData;\r\n    if (this.editVendorData) {\r\n      this.activatedRoute.queryParams.subscribe(params => {\r\n        if (params['isEditable']) {\r\n          this.addSupplierForm.patchValue(this.editVendorData);\r\n          this.editVendor = true;\r\n          this.vendorId = this.editVendorData.vendorId;\r\n          this.localYes = this.editVendorData.isLocal;\r\n          this.url =\r\n            this.editVendorData.imagePath && this.editVendorData.imagePath[0];\r\n          this.currentManufacturersList = this.editVendorData.manufacturerList\r\n            ? this.editVendorData.manufacturerList\r\n            : [];\r\n        } else {\r\n          this.componentOpticalStoreService.removeVendorData();\r\n          this.editVendor = false;\r\n        }\r\n      });\r\n    } else {\r\n      this.editVendor = false;\r\n    }\r\n  }\r\n\r\n  fetchManufacturersList() {\r\n    this.manufacurersList$ = concat(\r\n      of([]), // default items\r\n      this.manufacurersListinput$.pipe(\r\n        debounceTime(200),\r\n        distinctUntilChanged(),\r\n        filter(checkStringCount => {\r\n          if (checkStringCount.length > 1) {\r\n            return true;\r\n          }\r\n        }),\r\n        //  tap(() => this.people3Loading = true),\r\n        switchMap((term: string) => {\r\n          const payload = {\r\n            orgId: this.sessionData.orgId,\r\n            orgGrpId: this.sessionData.orgGroupId,\r\n            createdUsrId: this.sessionData.regId,\r\n            manufacturerNm: term\r\n          };\r\n          return this.opticalService.fetchManufacturersList(payload).pipe(\r\n            map((response: any) => {\r\n              if (response.responseCode === 'E200') {\r\n                return (this.manufacturersList = response.data);\r\n              } else if (response.response === 'E400') {\r\n                return (this.manufacturersList = []);\r\n              }\r\n            }),\r\n            catchError(error => {\r\n              return of([]);\r\n            })\r\n          );\r\n        })\r\n      )\r\n    );\r\n  }\r\n\r\n  addMnanufacturerToList() {\r\n    if (typeof this.selectedManufacturer === 'string') {\r\n      this.selectedManufacturer = { manufacturerNm: this.selectedManufacturer };\r\n    }\r\n    this.selectedManufacturer.expectedDeliveryTime = this.deliveryTime;\r\n    this.currentManufacturersList.forEach(val => {\r\n      if (val.manufacturerId && val.manufacturerId === this.selectedManufacturer.manufacturerId) {\r\n        this.manufacturerStatus = true;\r\n      }\r\n    });\r\n    if (this.manufacturerStatus === true) {\r\n      this.toaster.error('Failure!', 'Manufacturer name already selected');\r\n      this.manufacturerStatus = false;\r\n    } else {\r\n      this.manufacturerStatus = false;\r\n      this.currentManufacturersList.push(this.selectedManufacturer);\r\n    }\r\n    //  this.currentManufacturersList.push(this.selectedManufacturer);\r\n    this.selectedManufacturer = null;\r\n    delete this.deliveryTime;\r\n  }\r\n  removeCurrentManufacturer(manufacturer, index) {\r\n    if (this.editVendor) {\r\n      const dialogRef = this.dialog.open(ConfirmationDialogComponent, {\r\n        // data: 'Are You Sure Want To Unmap Manufacturer ?',\r\n        data: { title: 'Are You Sure Want To Unmap Manufacturer ?' },\r\n        disableClose: true\r\n      });\r\n      dialogRef.afterClosed().subscribe(result => {\r\n        if (result === true) {\r\n          (manufacturer.orgId = this.sessionData.orgId),\r\n            (manufacturer.orgGrpId = this.sessionData.orgGroupId),\r\n            (manufacturer.createdUsrId = this.sessionData.regId),\r\n            this.opticalService\r\n              .unMapManufacturerFromVendor(manufacturer)\r\n              .subscribe(\r\n                (response: any) => {\r\n                  if (response.responseCode === 'E200') {\r\n                    this.currentManufacturersList.splice(index, 1);\r\n                    this.toaster.success('Success!', response.responseMessage);\r\n                  } else if (response.response === 'E400') {\r\n                    this.toaster.error('Failure!', response.responseMessage);\r\n                  }\r\n                },\r\n                err => {\r\n                  this.toaster.error('Failure!', 'Something went wrong');\r\n                }\r\n              );\r\n        }\r\n      });\r\n    } else {\r\n      this.currentManufacturersList.splice(index, 1);\r\n    }\r\n  }\r\n\r\n  submitAddSupplierForm(value) {\r\n    this.supplierFormSubmitted = true;\r\n    if (this.currentManufacturersList.length === 0) {\r\n      this.toaster.warning('Please select atleast one Manufacturer');\r\n      return;\r\n    }\r\n    if (this.addSupplierForm.valid) {\r\n      if (this.imageFile) {\r\n        const bucketDetails = this.componentOpticalStoreService.getBucketName();\r\n        if (this.editVendor && this.editVendorData.imagePath) {\r\n          const params = {\r\n            Bucket: bucketDetails.bucketURL,\r\n            Key: this.editVendorData.imagePath[0].split('/')[4]\r\n          };\r\n          this.bucket.deleteObject(params, (error, data) => {\r\n            if (data) {\r\n              this.uploadImage();\r\n            } else {\r\n              this.toaster.error('Failure!', 'Something went wrong');\r\n            }\r\n          });\r\n        } else {\r\n          this.uploadImage();\r\n        }\r\n      } else {\r\n        this.insertSupplierForm();\r\n      }\r\n    } else {\r\n      this.validateAllFormFields(this.addSupplierForm);\r\n    }\r\n  }\r\n\r\n  uploadImage() {\r\n    const bucketDetails = this.componentOpticalStoreService.getBucketName();\r\n    const key = this.utilService.generateUniqueId() + '-' + this.imageFile.name;\r\n    const params = {\r\n      Bucket: bucketDetails.bucketURL,\r\n      Key: key,\r\n      Body: this.imageFile\r\n    };\r\n    // const awsImgUpload =\r\n\r\n    this.bucket\r\n      .putObject(params)\r\n      .promise()\r\n      .then(() => {\r\n        const imgUrl = bucketDetails.url + key;\r\n        this.insertSupplierForm(imgUrl);\r\n      })\r\n      .catch(console.error);\r\n\r\n    // this.imageUploadSubscription = from(awsImgUpload).subscribe(() => {\r\n    //   const imgUrl = bucketDetails.url + key;\r\n    //   this.insertSupplierForm(imgUrl);\r\n    // });\r\n  }\r\n\r\n  insertSupplierForm(img?: string) {\r\n    let url = 'insertVendor';\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId,\r\n      ...this.addSupplierForm.value\r\n    };\r\n    // payload.imagePath = img && [img];\r\n    if (img) {\r\n      payload.imagePath = [img];\r\n    } else if (this.editVendor && this.editVendorData.imagePath) {\r\n      payload.imagePath = this.editVendorData.imagePath;\r\n    }\r\n    if (this.editVendor) {\r\n      payload.vendorId = this.vendorId;\r\n      url = 'updateVendor';\r\n    }\r\n    payload.listOfManufactureReq = this.currentManufacturersList;\r\n    payload.isLocal = this.localYes;\r\n    payload.vendorTypeId = 332;\r\n    this.opticalService[url](payload).subscribe(\r\n      (response: any) => {\r\n        if (response.responseCode === 'E200') {\r\n          if (!this.editVendor) {\r\n            this.addSupplierForm.reset();\r\n            // this.addSupplierForm.markAsPristine();\r\n            // this.addSupplierForm.markAsUntouched();\r\n            // this.addSupplierForm.updateValueAndValidity();\r\n            this.supplierFormSubmitted = false;\r\n            this.currentManufacturersList = [];\r\n            this.url = '';\r\n          }\r\n          this.toaster.success('Success!', response.responseMessage);\r\n          if (this.editVendor) {\r\n            this.router.navigate(['/opticalStore/optical-all-suppliers']);\r\n          }\r\n        } else if (response.response === 'E400') {\r\n          this.toaster.error('Failure!', response.responseMessage);\r\n        }\r\n      },\r\n      err => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n\r\n  submitUpdateSupplierForm(updateValues) {\r\n    this.submitAddSupplierForm(updateValues);\r\n    //  this.router.navigate(['/opticalStore/optical-all-suppliers']);\r\n  }\r\n\r\n  cancelSupplierEdit() {\r\n    if (this.editVendor) {\r\n      this.router.navigate(['/opticalStore/optical-all-suppliers']);\r\n    }\r\n  }\r\n\r\n  validateAllFormFields(formGroup: FormGroup) {\r\n    Object.keys(formGroup.controls).forEach(field => {\r\n      const control = formGroup.get(field);\r\n      if (control instanceof FormControl) {\r\n        control.markAsTouched({ onlySelf: true });\r\n      } else if (control instanceof FormGroup) {\r\n        this.validateAllFormFields(control);\r\n      }\r\n    });\r\n  }\r\n\r\n  onFileChanged($event) {\r\n    const file = this.fileInput.nativeElement.files[0];\r\n    this.imageFile = this.fileInput.nativeElement.files[0];\r\n    if (file && this.validateFile(file)) {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(this.fileInput.nativeElement.files[0]);\r\n      reader.onload = () => {\r\n        this.url = reader.result;\r\n        this.changeDecRef.detectChanges();\r\n      };\r\n    } else {\r\n      this.toaster.warning(\r\n        'Failure!',\r\n        'File must be jpg, png, or gif and cannot be exceed 3 MB in size'\r\n      );\r\n    }\r\n  }\r\n\r\n  validateFile(file) {\r\n    return this.acceptedMimeTypes.includes(file.type) && file.size < 3000000;\r\n  }\r\n\r\n}\r\n","<div class=\"all-optical-vendors clearfix m-b-10\">\r\n    <div class=\"col-md-12 p-l-10 p-r-10\">\r\n        <div\r\n            class=\"box-panel-form bg-white white-bg-border p-0 frames-order-form col-md-12 bg-white border-all-side border-radius-all-side\">\r\n            <div class=\"row m-0 p-0\" *ngIf=\"vendorsList.length > 0; else elseBlock\">\r\n                <div class=\"col-md-3 p-0\">\r\n                    <div class=\"form-header\">\r\n                        <p class=\"text-uppercase txt-scarletgum\">Vendors</p>\r\n                        <a class=\"text-uppercase close-search\" *ngIf=\"backToAll\" (click)=\"backToAllVendors()\">Show\r\n                            All</a>\r\n                    </div>\r\n                    <div *ngFor=\"let vendor of vendorsList;let i = index\" class=\"col-md-12 vendor-block p-0\"\r\n                        (click)=\"selectedVendor(vendor, i)\" [class.selectedSupplier]=\"vendor.selected === true\">\r\n                        <div class=\"col-md-12 p-0\">\r\n                            <span>\r\n                                <h5>{{vendor.vendorNm}}</h5>\r\n                            </span>\r\n                            <ul>\r\n                                <li class=\"top-corner-icons edit-icon\" >\r\n                                    <i class=\"fas fa-pencil-alt\" (click)=\"editVendor(vendor)\"></i>\r\n                                </li>\r\n                                <li class=\"top-corner-icons delete-icon\" >\r\n                                    <i class=\"fa fa-trash\" (click)=\"deleteVendor(vendor, i)\"></i>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                        <div class=\" p-0\">\r\n                            <p>{{vendor.vendorAddress1}}<i *ngIf=\"vendor.vendorAddress1\">,</i> {{vendor.vendorCityNm}}<i\r\n                                    *ngIf=\"vendor.vendorCityNm\">,</i> {{vendor.vendorDist}}<i\r\n                                    *ngIf=\"vendor.vendorDist\">,</i> {{vendor.vendorState}}<i\r\n                                    *ngIf=\"vendor.vendorState\">,</i> {{vendor.vendorCountry}}.</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-md-3 supplier-total-details selectedSupplier sup-height\" *ngIf=\"currentSupplier\">\r\n                    <div *ngIf=\"currentSupplier.imagePath\" class=\"supplier-img\">\r\n                        <img src=\"{{currentSupplier.imagePath[0]}}\">\r\n                    </div>\r\n                    <h4 class=\"text-center font-uppercase mt-2 m-b-0\">{{currentSupplier.vendorNm}}</h4>\r\n                    <div class=\"col-md-12 suppliers-details\">\r\n                        <ul>\r\n                            <li class=\"row m-0\">\r\n                                <div class=\"col-md-4 p-0 text-right\">\r\n                                    <div class=\"label-sp-sty\">LICENSE:</div>\r\n                                </div>\r\n                                <div class=\"col-md-8 p-0 text-left\">\r\n                                    <div class=\"para-sp-sty\">{{currentSupplier.vendorLicenseId}}</div>\r\n                                </div>\r\n                            </li>\r\n                            <li class=\"row m-0\">\r\n                                <div class=\"col-md-4 p-0 text-right\">\r\n                                    <div class=\"label-sp-sty\">NARCOSC:</div>\r\n                                </div>\r\n                                <div class=\"col-md-8 p-0 text-left\">\r\n                                    <div class=\"para-sp-sty\">{{currentSupplier.narcoSc}}</div>\r\n                                </div>\r\n                            </li>\r\n                            <li class=\"row m-0\">\r\n                                <div class=\"col-md-4 p-0 text-right\">\r\n                                    <div class=\"label-sp-sty\">GST:</div>\r\n                                </div>\r\n                                <div class=\"col-md-8 p-0 text-left\">\r\n                                    <div class=\"para-sp-sty\">{{currentSupplier.vendorGst}}</div>\r\n                                </div>\r\n                            </li>\r\n                            <li class=\"row m-0\">\r\n                                <div class=\"col-md-4 p-0 text-right\">\r\n                                    <div class=\"label-sp-sty\">TAN:</div>\r\n                                </div>\r\n                                <div class=\"col-md-8 p-0 text-left\">\r\n                                    <div class=\"para-sp-sty\">{{currentSupplier.vendorTan}}</div>\r\n                                </div>\r\n                            </li>\r\n                            <li class=\"row m-0\">\r\n                                <div class=\"col-md-4 p-0 text-right\">\r\n                                    <div class=\"label-sp-sty\">PHONE 1:</div>\r\n                                </div>\r\n                                <div class=\"col-md-8 p-0 text-left\">\r\n                                    <div class=\"para-sp-sty\">{{currentSupplier.vendorContactNo1}}</div>\r\n                                </div>\r\n                            </li>\r\n                            <li class=\"row m-0\">\r\n                                <div class=\"col-md-4 p-0 text-right\">\r\n                                    <div class=\"label-sp-sty\">PHONE 2:</div>\r\n                                </div>\r\n                                <div class=\"col-md-8 p-0 text-left\">\r\n                                    <div class=\"para-sp-sty\">{{currentSupplier.vendorContactNo2}}</div>\r\n                                </div>\r\n                            </li>\r\n                            <li class=\"row m-0\">\r\n                                <div class=\"col-md-4 p-0 text-right\">\r\n                                    <div class=\"label-sp-sty\">EMAIL:</div>\r\n                                </div>\r\n                                <div class=\"col-md-8 p-0 text-left\">\r\n                                    <div class=\"para-sp-sty\">{{currentSupplier.emailId}}</div>\r\n                                </div>\r\n                            </li>\r\n                            <li class=\"row m-0\">\r\n                                <div class=\"col-md-4 p-0 text-right\">\r\n                                    <div class=\"label-sp-sty\">WEBSITE:</div>\r\n                                </div>\r\n                                <div class=\"col-md-8 p-0 text-left\">\r\n                                    <div class=\"para-sp-sty\">{{currentSupplier.webSite}}</div>\r\n                                </div>\r\n                            </li>\r\n                            <li class=\"row m-0\">\r\n                                <div class=\"col-md-4 p-0 text-right\">\r\n                                    <div class=\"label-sp-sty\">ADDRESS:</div>\r\n                                </div>\r\n                                <div class=\"col-md-8 p-0 text-left\">\r\n                                    <div class=\"para-sp-sty\">{{currentSupplier.vendorAddress1}}</div>\r\n                                </div>\r\n                            </li>\r\n                            <li class=\"row m-0\">\r\n                                <div class=\"col-md-4 p-0 text-right\">\r\n                                    <div class=\"label-sp-sty\">CITY NAME:</div>\r\n                                </div>\r\n                                <div class=\"col-md-8 p-0 text-left\">\r\n                                    <div class=\"para-sp-sty\">{{currentSupplier.vendorCityNm}}</div>\r\n                                </div>\r\n                            </li>\r\n                            <li class=\"row m-0\">\r\n                                <div class=\"col-md-4 p-0 text-right\">\r\n                                    <div class=\"label-sp-sty\">DISTRICT:</div>\r\n                                </div>\r\n                                <div class=\"col-md-8 p-0 text-left\">\r\n                                    <div class=\"para-sp-sty\">{{currentSupplier.vendorDist}}</div>\r\n                                </div>\r\n                            </li>\r\n                            <li class=\"row m-0\">\r\n                                <div class=\"col-md-4 p-0 text-right\">\r\n                                    <div class=\"label-sp-sty\">STATE:</div>\r\n                                </div>\r\n                                <div class=\"col-md-8 p-0 text-left\">\r\n                                    <div class=\"para-sp-sty\">{{currentSupplier.vendorState}}</div>\r\n                                </div>\r\n                            </li>\r\n                            <li class=\"row m-0\">\r\n                                <div class=\"col-md-4 p-0 text-right\">\r\n                                    <div class=\"label-sp-sty\">COUNTRY:</div>\r\n                                </div>\r\n                                <div class=\"col-md-8 p-0 text-left\">\r\n                                    <div class=\"para-sp-sty\"> {{currentSupplier.vendorCountry}}</div>\r\n                                </div>\r\n                            </li>\r\n                            <li class=\"row m-0\">\r\n                                <div class=\"col-md-4 p-0 text-right\">\r\n                                    <div class=\"label-sp-sty\">PIN:</div>\r\n                                </div>\r\n                                <div class=\"col-md-8 p-0 text-left\">\r\n                                    <div class=\"para-sp-sty\">{{currentSupplier.pincode}}</div>\r\n                                </div>\r\n                            </li>\r\n                            <li class=\"row m-0\">\r\n                                <div class=\"col-md-4 p-0 text-right\">\r\n                                    <div class=\"label-sp-sty\">DESCRIPTION:</div>\r\n                                </div>\r\n                                <div class=\"col-md-8 p-0 text-left\">\r\n                                    <div class=\"para-sp-sty\"> {{currentSupplier.description}}</div>\r\n                                </div>\r\n                            </li>\r\n                            <li class=\"row m-0\">\r\n                                <div class=\"col-md-4 p-0 text-right\">\r\n                                    <div class=\"label-sp-sty\">IS LOCAL:</div>\r\n                                </div>\r\n                                <div class=\"col-md-8 p-0 text-left\">\r\n                                    <div class=\"para-sp-sty\">{{currentSupplier.isLocal ? 'Yes': 'No'}}</div>\r\n                                </div>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-md-6 p-0\"\r\n                    *ngIf=\"currentSupplier.manufacturerList && currentSupplier.manufacturerList.length > 0\">\r\n                    <div class=\"form-header\">\r\n                        <p class=\"text-uppercase txt-scarletgum\">Point Of Contact</p>\r\n                    </div>\r\n                    <div class=\"row m-0 p-t-10\">\r\n                        <p class=\"col-md-6 d-flex\">\r\n                            <label>Name : </label>&nbsp; {{currentSupplier.vendorNm}}\r\n                        </p>\r\n                        <p class=\"col-md-6 d-flex\">\r\n                            <label>Phone No : </label>&nbsp; {{currentSupplier.vendorContactNo1}}\r\n                        </p>\r\n                    </div>\r\n                    <div class=\"col-sm-12 col-xs-12 p-0\">\r\n                        <div class=\"menu-radio-group optical-menu d-flex\">\r\n                            <input id=\"radio1\" type=\"radio\" name=\"manufacturers\" id=\"manufacturers\"\r\n                                value=\"manufacturers\" [(ngModel)]=\"menuType\">\r\n                            <label for=\"manufacturers\" class=\"col-md-6\">Manufacturers</label>\r\n                            <input id=\"radio2\" type=\"radio\" name=\"transactions\" id=\"transactions\" value=\"transactions\"\r\n                                [(ngModel)]=\"menuType\">\r\n                            <label for=\"transactions\" class=\"col-md-6\">Transactions</label>\r\n                        </div>\r\n                        <div *ngIf=\"menuType === 'manufacturers'\">\r\n                            <div class=\"manufacturer-block m-t-30\"></div>\r\n                            <div class=\"col-md-12 manufacturer-block form-header\">\r\n                                <p class=\"txt-scarletgum\">NAME</p>\r\n                                <p class=\"txt-scarletgum pull-right p-r-10\">DELIVERY TIME</p>\r\n                            </div>\r\n                            <div *ngFor=\"let manufacturer of currentSupplier.manufacturerList;let i = index\"\r\n                                class=\"col-md-12 manufacturer-block p-2\">\r\n                                <p>{{manufacturer.manufacturerNm}}</p>\r\n                                <p class=\"pull-right padding-right-70\">{{manufacturer.expectedDeliveryTime}} Days</p>\r\n                            </div>\r\n                        </div>\r\n                        <div *ngIf=\"menuType === 'transactions'\">\r\n                            <div class=\"dru-grid dru-gridtop-radius fl-left\">\r\n                                <ag-grid-angular style=\"height:300px;\" class=\"ag-theme-balham\" [enableSorting]=\"true\"\r\n                                    [enableFilter]=\"true\" [columnDefs]=\"columnDefs\" [floatingFilter]=\"true\"\r\n                                    (gridReady)=\"onGridReady($event)\" (selectionChanged)=\"onSelectionChanged($event)\">\r\n                                </ag-grid-angular>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <ng-template #elseBlock>\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"grid-msg-text-branch margin-top-40\" role=\"alert\">\r\n                        {{ 'COMMONLABELS.NO_DATA_TEXT' | translate }}</div>\r\n                    <div *ngIf=\"backToAll\" class='show-all-btn'>\r\n                        <button id=\"AllVendors\" class=\"btn-app btn-save\" (click)=\"backToAllVendors()\">Show All</button>\r\n                    </div>\r\n                </div>\r\n            </ng-template>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit, NgModule, ViewChild, OnDestroy, SimpleChanges, OnChanges, Inject } from '@angular/core';\r\nimport {\r\n  FormControl,\r\n  FormGroup,\r\n  FormBuilder,\r\n  ReactiveFormsModule,\r\n  FormsModule,\r\n  Validators\r\n} from '@angular/forms';\r\nimport { GridOptions, GridApi, ColumnApi } from 'ag-grid/main';\r\nimport { NgSelectModule, NgOption } from '@ng-select/ng-select';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Subject, Subscription, Observable, of, concat } from 'rxjs';\r\nimport {\r\n  distinctUntilChanged,\r\n  debounceTime,\r\n  switchMap,\r\n  tap,\r\n  catchError,\r\n  map,\r\n  count,\r\n  filter\r\n} from 'rxjs/operators';\r\nimport { UserSession } from '@core/models/user-session';\r\nimport {\r\n  Router,\r\n  ActivatedRouteSnapshot,\r\n  ActivatedRoute,\r\n  NavigationExtras\r\n} from '@angular/router';\r\nimport {MatDialog, MatDialogRef, MAT_DIALOG_DATA} from '@angular/material';\r\nimport { OpticalStoreService } from '../../../opticalStore.service';\r\nimport { ConfirmationDialogComponent } from '@shared/components/confirmation-dialog/confirmation-dialog.component';\r\nimport { OpticalStoreApiService, MOMENT} from '@core/services';\r\nimport { Store, select } from '@ngrx/store';\r\nimport { getOpticalVendors } from '@app/modules/optical-store/reducers';\r\nimport { AutoUnsubscribe } from '../../../../../../../node_modules/ngx-auto-unsubscribe';\r\nimport { UserService } from '@core/services/user.service';\r\nimport { FetchOpticalInventorySuccess, FetchOpticalVendorSuccess } from '@app/modules/optical-store/actions';\r\n\r\n@AutoUnsubscribe()\r\n@Component({\r\n  selector: 'app-all-optical-suppliers',\r\n  templateUrl: './all-optical-suppliers.component.html',\r\n  styleUrls: ['./all-optical-suppliers.component.scss']\r\n})\r\nexport class AllOpticalSuppliersComponent implements OnInit, OnDestroy, OnChanges {\r\n  private sessionData: UserSession;\r\n  private gridApi: GridApi;\r\n  private gridColumnApi: ColumnApi;\r\n  private selectedRows: any[];\r\n  vendorsList: any[] = [];\r\n  clickedEdit: Boolean;\r\n  currentSupplier: any;\r\n  objectKeys = Object.keys;\r\n  vendorManufacturers: any[] = [];\r\n  menuType = 'manufacturers';\r\n  public vendorList$: Observable<any>;\r\n  public vendorListSubscription: Subscription;\r\n  public backToAll = false;\r\n  public tempVendorsList;\r\n  columnDefs = [\r\n    { headerName: 'Invoice Number', field: 'vendorInvoiceNo'},\r\n    { headerName: 'Ordered Date', field: 'orderedDt', valueFormatter : this.agGridDateFormatter.bind(this) },\r\n    { headerName: 'Invoice Date', field: 'vendorInvoiceDt', valueFormatter : this.agGridDateFormatter.bind(this)},\r\n    {\r\n      headerName: 'Invoice Amount',\r\n      field: 'totalAmt',\r\n\r\n    },\r\n    { headerName: 'Paid Amount', field: 'paidAmt' },\r\n\r\n  ];\r\n\r\n  constructor(\r\n    @Inject(MOMENT) private moment,\r\n    private opticalService: OpticalStoreApiService,\r\n    private componentOpticalStoreService: OpticalStoreService,\r\n    private toaster: ToastrService,\r\n    private router: Router,\r\n    private activatedRoute: ActivatedRoute,\r\n    private formbuilder: FormBuilder,\r\n    public dialog: MatDialog,\r\n    private store: Store<any>,\r\n    userService: UserService,\r\n  ) {\r\n    this.vendorList$ = this.store.pipe(select(getOpticalVendors));\r\n    this.sessionData = userService.getUser();\r\n  }\r\n\r\n  ngOnInit() {\r\n    // this.store.dispatch(new FetchOpticalInventorySuccess({clickedOnSearch: false,\r\n    //   data: []}));\r\n    this.selectedRows = [];\r\n      this.fetchVendorsList();\r\n      this.store.dispatch(new FetchOpticalVendorSuccess({clickedOnSearch: false, data: []}));\r\n      this.vendorListSubscription = this.vendorList$.subscribe(\r\n        vendorListData => {\r\n            this.backToAll = vendorListData.data.clickedOnSearch ? true : false;\r\n            this.vendorsList = vendorListData.data.data;\r\n          if (vendorListData.data.data.length > 0) {\r\n            this.currentSupplier = this.vendorsList[0];\r\n            this.vendorsList[0].selected = true;\r\n          }\r\n        }\r\n      );\r\n\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    // this.store.dispatch(new FetchOpticalInventorySuccess({clickedOnSearch: false, data: []}));\r\n  }\r\n\r\n  ngOnDestroy() {\r\n  }\r\n  agGridDateFormatter(params) {\r\n    return this.moment(params.value).format('DD/MM/YYYY');\r\n  }\r\n  getStoreData() {\r\n    this.vendorListSubscription = this.vendorList$.subscribe(\r\n      vendorListData => {\r\n          this.backToAll = vendorListData.data.clickedOnSearch ? true : false;\r\n          this.vendorsList = vendorListData.data.data;\r\n        if (vendorListData.data.data.length > 0) {\r\n          this.currentSupplier = this.vendorsList[0];\r\n          this.vendorsList[0].selected = true;\r\n        }\r\n        this.store.dispatch(new FetchOpticalInventorySuccess({clickedOnSearch: false, data: []}));\r\n      }\r\n    );\r\n  }\r\n\r\n  fetchVendorsList() {\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId,\r\n      isFullDetails: 'true'\r\n    };\r\n    this.opticalService.fetchVendorsList(payload).subscribe(\r\n      (response: any) => {\r\n        if (response.responseCode === 'E200') {\r\n          this.vendorsList = response.data;\r\n          this.tempVendorsList = response.data;\r\n          if (this.vendorsList.length > 0) {\r\n            this.currentSupplier = this.vendorsList[0];\r\n            this.vendorsList[0].selected = true;\r\n          }\r\n        } else if (response.response === 'E400') {\r\n          this.toaster.error('Failure!', 'Something went wrong');\r\n        }\r\n\r\n      },\r\n      err => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n\r\n  selectedVendor(vendor, pos) {\r\n    this.vendorsList.forEach(function(element) {\r\n     if (element.vendorId === vendor.vendorId) {\r\n      element.selected = true;\r\n     } else {\r\n      element.selected = false;\r\n     }\r\n    });\r\n    this.currentSupplier = vendor;\r\n  }\r\n\r\n\r\n  editVendor(vendor) {\r\n    this.componentOpticalStoreService.vendorData = vendor;\r\n    const navigationExtras: NavigationExtras = {\r\n      queryParams: {\r\n         'isEditable': true\r\n      }\r\n  };\r\n    this.router.navigate(['/opticalStore/optical-add-suppliers'], navigationExtras);\r\n  }\r\n\r\n  deleteVendor(vendor, index) {\r\n    const dialogRef = this.dialog.open(ConfirmationDialogComponent, {\r\n      data: {title: 'Are You Sure Want To Delete Vendor ?'},\r\n      disableClose: true\r\n    });\r\n    dialogRef.afterClosed().subscribe(result => {\r\n     if (result === true) {\r\n       const deletePayload = {\r\n        orgId: this.sessionData.orgId,\r\n        orgGrpId: this.sessionData.orgGroupId,\r\n        createdUsrId: this.sessionData.regId,\r\n        vendorId: vendor.vendorId\r\n       };\r\n      this.opticalService.deleteVendor(deletePayload).subscribe((response: any ) => {\r\n      if (response.responseCode === 'E200') {\r\n        this.vendorsList.splice(index, 1);\r\n        if (index === 0) {\r\n          this.currentSupplier = this.vendorsList[0];\r\n          this.vendorsList[0].selected = true;\r\n          // this.fetchManufacturerVendors(this.vendorsList[0]);\r\n        }\r\n        this.toaster.success('Success!', response.responseMessage);\r\n      } else if (response.response === 'E400') {\r\n        this.toaster.error('Failure!', response.responseMessage);\r\n      }\r\n    }, err => {\r\n      this.toaster.error('Failure!', 'Something went wrong');\r\n    });\r\n     }\r\n    });\r\n  }\r\n\r\n  backToAllVendors() {\r\n    this.vendorsList = this.tempVendorsList;\r\n    if (this.vendorsList.length > 0) {\r\n      this.currentSupplier = this.vendorsList[0];\r\n      this.vendorsList[0].selected = true;\r\n    }\r\n    this.backToAll = false;\r\n  }\r\n  onGridReady(params) {\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId,\r\n      vendorId: this.currentSupplier.vendorId\r\n\r\n    };\r\n    this.gridApi = params.api;\r\n    this.gridColumnApi = params.columnApi;\r\n    this.fetchVendorInvoiceDetails(payload);\r\n  }\r\n\r\n  onSelectionChanged($event) {\r\n    this.selectedRows = this.gridApi.getSelectedRows();\r\n  }\r\n\r\n  fetchVendorInvoiceDetails(payload){\r\n    this.opticalService.fetchVendorInvoiceDetails(payload).subscribe(\r\n      (response: any) => {\r\n        if (response.responseCode === 'E200') {\r\n          this.gridApi.setRowData(response.data);\r\n          // this.toastr.success('Success!', response.responseMessage);\r\n        } else if (response.response === 'E400') {\r\n          this.toaster.error('Failure!', response.responseMessage);\r\n        }\r\n      },\r\n      err => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n\r\n}\r\n","<div class=\"rtldirection\">\r\n  <div class=\"ltrDirection\">\r\n    <div class=\"col-md-12 col-xs-12 col-sm-12 p-0\">\r\n      <div class=\"col-xs-12 col-md-12 col-sm-12 text-uppercase\" *ngIf=\"orderKey\">\r\n        <h3>ORDER DETAILS FOR :{{ opticalOrderNo }}</h3>\r\n      </div>\r\n      <div class=\"col-xs-12 col-md-12 col-sm-12 text-uppercase\" *ngIf=\"editKey\">\r\n        <h3>EDIT DETAILS FOR :{{ opticalOrderNo }}</h3>\r\n      </div>\r\n      <div class=\"col-md-12 m-nl-2 p-0\">\r\n        <mat-tab-group class=\"flex-tab-panel\">\r\n          <mat-tab label=\"FRAMES\" class=\"text-uppercase\">\r\n            <form [formGroup]=\"framesForm\">\r\n              <div class=\"row m-0 p-t-10\">\r\n                <div class=\"col-md-3 m-t-10\">\r\n                  <label for=\"select_by\">SELECT BY-</label>\r\n                </div>\r\n                <select class=\"col-md-3 col-sm-3 col-xs-3\" formControlName=\"itemBrandNm\" (change)=\"selectedFramesBrandName()\">\r\n                  <option [ngValue]=\"null\"></option>\r\n                  <option *ngFor=\"let item of framesList; index as i\" [ngValue]=\"item\">\r\n                    {{ item.itemBrandNm }}\r\n                  </option>\r\n                </select>\r\n              </div>\r\n              <div class=\"col-md-12  col-xs-12\">\r\n                <div class=\"row m-t-10\">\r\n                  <div class=\"col-md-4 col-xs-12\">\r\n                    <label for=\"barcode\">Barcode</label>\r\n                    <input type=\"text\" id=\"barcode\" name=\"barcode\" disabled=\"true\" formControlName=\"barcode\" />\r\n                  </div>\r\n                  <div class=\"col-md-4 col-xs-12\">\r\n                    <label for=\"brandNm\">Brand Name</label>\r\n                    <input type=\"text\" id=\"brandNm\" name=\"brandNm\" disabled=\"true\" formControlName=\"itemBrandNm\" />\r\n                  </div>\r\n                  <div class=\"col-md-4 col-xs-12\">\r\n                    <label for=\"serialNo\">Serial No</label>\r\n                    <input type=\"text\" id=\"serialNo\" name=\"serialNo\" disabled=\"true\" formControlName=\"serialNo\" />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-md-12 col-xs-12\">\r\n                <div class=\"row m-t-10\">\r\n                  <div class=\"col-md-4\">\r\n                    <label for=\"modelNo\">Model No</label>\r\n                    <input type=\"text\" id=\"modelNo\" name=\"modelNo\" disabled=\"true\" formControlName=\"modelNo\" />\r\n                  </div>\r\n                  <div class=\"col-md-4\">\r\n                    <label for=\"frameType\">Frame Type</label>\r\n                    <input type=\"text\" id=\"frameType\" name=\"frameType\" disabled=\"true\" formControlName=\"frameTypeNm\" />\r\n                  </div>\r\n                  <div class=\"col-md-4\">\r\n                    <label for=\"frameShape\">Frame Shape</label>\r\n                    <input type=\"text\" id=\"frameShape\" name=\"frameShape\" disabled=\"true\" />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-md-12 col-xs-12\">\r\n                <div class=\"row m-t-10\">\r\n                  <div class=\"col-md-4\">\r\n                    <label for=\"frameColor\">Frame Color</label>\r\n                    <input type=\"text\" id=\"frameColor\" name=\"frameColor\" disabled=\"true\" />\r\n                  </div>\r\n                  <div class=\"col-md-4\">\r\n                    <label for=\"frameMaterial\">Frame Material</label>\r\n                    <input type=\"text\" id=\"frameMaterial\" name=\"frameMaterial\" disabled=\"true\" />\r\n                  </div>\r\n                  <div class=\"col-md-4\">\r\n                    <label for=\"gender\">Gender</label>\r\n                    <input type=\"text\" id=\"gender\" name=\"gender\" disabled=\"true\" formControlName=\"gender\" />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-md-12 col-xs-12\">\r\n                <div class=\"row m-t-10\">\r\n                  <div class=\"col-md-3\" *ngIf=\"orderKey\">\r\n                    <label for=\"orderQty\">Quantity</label>\r\n                    <input id=\"quantity\" type=\"text\" disabled=\"true\" name=\"orderQty\" formControlName=\"orderQty\" />\r\n                  </div>\r\n                  <div class=\"col-md-3\" *ngIf=\"editKey\">\r\n                    <label for=\"quantity\">Quantity</label>\r\n                    <input id=\"quantity\" type=\"text\" name=\"quantity\" formControlName=\"orderQty\" />\r\n                  </div>\r\n                  <div class=\"col-md-3 \">\r\n                    <label for=\"mrp\">MRP</label>\r\n                    <input id=\"mrp\" type=\"text\" id=\"brandMrp\" name=\"mrp\" disabled=\"true\" formControlName=\"brandMrp\" />\r\n                  </div>\r\n\r\n                  <div class=\"col-md-3 \">\r\n                    <label for=\"hsn\">HSN</label>\r\n                    <input id=\"hsn\" type=\"text\" id=\"hsnCode\" name=\"hsn\" formControlName=\"hsnCode\" disabled=\"true\" />\r\n                  </div>\r\n                  <div class=\"col-md-3\">\r\n                    <label for=\"tax\">Tax(%)</label>\r\n                    <input id=\"tax\" type=\"text\" id=\"tax\" name=\"tax\" disabled=\"true\" formControlName=\"taxPercntg\" />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div\r\n              class=\"col-sm-12 m-t-b-15 form-button-group\" >\r\n              <ul>\r\n                <li>\r\n                    <button type=\"button\" value=\"Close\" class=\"btn-app btn-delete \" (click)=\"closeSideNav()\">\r\n                        CLOSE\r\n                      </button>\r\n                </li>\r\n               </ul>\r\n            </div>\r\n            </form>\r\n          </mat-tab>\r\n          <mat-tab label=\"SPECTACLES\" class=\"text-uppercase\">\r\n            <form [formGroup]=\"lensForm\">\r\n              <div class=\"col-md-12 col-xs-12 col-sm-12\">\r\n                <div class=\"row m-0 p-0\">\r\n                  <div class=\"col-md-5 col-xs-5 col-sm-5\">\r\n                    <div class=\"menu-radio-group m-t-10\">\r\n                      <input type=\"radio\" id=\"lens\" formControlName=\"posType\" checked=\"name\" value=\"lens\" />\r\n                      <label for=\"lens\" (click)=\"lensDataTrigger()\">Lens</label>\r\n                      <input type=\"radio\" formControlName=\"posType\" id=\"contactlens\" value=\"contactlens\" checked=\"name\" />\r\n                      <label for=\"contactlens\" (click)=\"contactLensDataTrigger()\">Contact Lens</label>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-md-7 col-xs-7 col-sm-7 p-0 m-t-10\" *ngIf=\"posType === 'lens'\">\r\n                    <div class=\"col-md-12 power-container p-l-0\">\r\n                      <input type=\"radio\" name=\"power\" id=\"zeroPower\" checked=\"name\" value=\"zeroPower\" (click)=\"zeroPower()\" />\r\n                      <label for=\"zeroPower\" class=\"p-r-5\">Zero Power</label>\r\n                      <input type=\"radio\" name=\"power\" id=\"withPower\" checked=\"name\" value=\"withPower\" (click)=\"withPower()\" />\r\n                      <label for=\"withPower\">With Power</label>\r\n                    </div>\r\n\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-md-12 col-sm-12 col-xs-12\" *ngIf=\"posType === 'lens'\">\r\n                  <div class=\"col-md-12 col-sm-12 col-xs-12 p-0\">\r\n                    <div class=\"row m-0 p-t-10\">\r\n                      <div class=\"col-md-3 m-t-10\">\r\n                        <label for=\"select_by\">SELECT BY-</label>\r\n                      </div>\r\n\r\n                      <select class=\"col-md-3\" formControlName=\"itemBrandNm\" (change)=\"selectedlensBrandName()\" *ngIf=\"tableData\">\r\n                        <option [ngValue]=\"null\"></option>\r\n                        <option *ngFor=\"let item of withPowerList\" [ngValue]=\"item\">\r\n                          {{ item.itemBrandNm }}\r\n                        </option>\r\n                      </select>\r\n                      <select class=\"col-md-3\" formControlName=\"itemBrandNm\" (change)=\"selectedlensBrandName()\" *ngIf=\"!tableData\">\r\n                        <option [ngValue]=\"null\"></option>\r\n                        <option *ngFor=\"let item of zeroPowerList\" [ngValue]=\"item\">\r\n                          {{ item.itemBrandNm }}\r\n                        </option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"\">\r\n                      <div class=\"col-md-12 col-sm-12 col-xs-12\" *ngIf=\"tableData\" (click)=\"viewMethod()\">\r\n                        <button>View Rx</button>\r\n                      </div>\r\n                      <div class=\"col-md-12 col-sm-12 col-xs-12 p-0\" *ngIf=\"viewRxData\">\r\n                        <div class=\"col-md-12 p-0\" *ngIf=\"tableData\">\r\n                          <table class=\"table table-bordered lens-price-table m-t-10\" *ngIf=\"editKey\">\r\n                            <tr>\r\n                              <td>Type</td>\r\n                              <td>Sph</td>\r\n                              <td>Cyl</td>\r\n                              <td>Axis</td>\r\n                              <td>VA</td>\r\n                              <td>Add</td>\r\n                            </tr>\r\n\r\n                            <tr>\r\n                              <th>RIGHT DIST</th>\r\n                              <td *ngFor=\"let rightDist of lensData.rightDist\">\r\n                                <span *ngFor=\"let value of objectKeys(rightDist)\">{{ lensTableData[value] }}\r\n                                </span>\r\n                              </td>\r\n                            </tr>\r\n                            <tr>\r\n                              <th>RIGHT NEAR</th>\r\n\r\n                              <td *ngFor=\"let rightNear of lensData.rightNear\">\r\n                                <span *ngFor=\"let value of objectKeys(rightNear)\">{{ lensTableData[value] }}</span>\r\n                              </td>\r\n                            </tr>\r\n                          </table>\r\n\r\n                          <table class=\"table table-bordered lens-price-table \" *ngIf=\"editKey\">\r\n                            <tr>\r\n                              <th>Type</th>\r\n                              <th>Sph</th>\r\n                              <th>Cyl</th>\r\n                              <th>Axis</th>\r\n                              <th>VA</th>\r\n                              <th>Add</th>\r\n                            </tr>\r\n                            <tr>\r\n                              <th>LEFT DIST</th>\r\n                              <td *ngFor=\"let leftDist of lensData.leftDist\">\r\n                                <span *ngFor=\"let value of objectKeys(leftDist)\">{{ lensTableData[value] }}\r\n                                </span>\r\n                              </td>\r\n                            </tr>\r\n                            <tr>\r\n                              <th>LEFT NEAR</th>\r\n                              <td *ngFor=\"let leftNear of lensData.leftNear\">\r\n                                <span *ngFor=\"let value of objectKeys(leftNear)\">{{ lensTableData[value] }}</span>\r\n                              </td>\r\n                            </tr>\r\n                          </table>\r\n\r\n                          <table class=\"table table-bordered lens-price-table m-t-10\" *ngIf=\"orderKey\">\r\n                            <tr>\r\n                              <td>Type</td>\r\n                              <td>Sph</td>\r\n                              <td>Cyl</td>\r\n                              <td>Axis</td>\r\n                              <td>VA</td>\r\n                              <td>Add</td>\r\n                            </tr>\r\n                            <tr>\r\n                              <th>RIGHT DIST</th>\r\n                              <td *ngFor=\"let rightDist of lensData.rightDist\">\r\n                                <span *ngFor=\"let value of objectKeys(rightDist)\">{{ lensTableData[value] }}\r\n                                </span>\r\n                              </td>\r\n                            </tr>\r\n                            <tr>\r\n                              <th>RIGHT NEAR</th>\r\n\r\n                              <td *ngFor=\"let rightNear of lensData.rightNear\">\r\n                                <span *ngFor=\"let value of objectKeys(rightNear)\">{{ lensTableData[value] }}</span>\r\n                              </td>\r\n                            </tr>\r\n                          </table>\r\n\r\n                          <table class=\"table table-bordered lens-price-table \" *ngIf=\"orderKey\">\r\n                            <tr>\r\n                              <th>Type</th>\r\n                              <th>Sph</th>\r\n                              <th>Cyl</th>\r\n                              <th>Axis</th>\r\n                              <th>VA</th>\r\n                              <th>Add</th>\r\n                            </tr>\r\n                            <tr>\r\n                              <th>LEFT DIST</th>\r\n                              <td *ngFor=\"let leftDist of lensData.leftDist\">\r\n                                <span *ngFor=\"let value of objectKeys(leftDist)\">{{ lensTableData[value] }}\r\n                                </span>\r\n                              </td>\r\n                            </tr>\r\n                            <tr>\r\n                              <th>LEFT NEAR</th>\r\n                              <td *ngFor=\"let leftNear of lensData.leftNear\">\r\n                                <span *ngFor=\"let value of objectKeys(leftNear)\">{{ lensTableData[value] }}</span>\r\n                              </td>\r\n                            </tr>\r\n                          </table>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-md-12  col-xs-12 \">\r\n                    <div class=\"row m-t-10\">\r\n                      <div class=\"col-md-4 col-xs-12\">\r\n                        <label for=\"mname\">Barcode</label>\r\n                        <input type=\"text\" id=\"barcodeNm\" name=\"barcodeNm\" disabled=\"true\" formControlName=\"barcode\" />\r\n                      </div>\r\n                      <div class=\"col-md-4 col-xs-12\">\r\n                        <label for=\"itemBrandNm\">Brand Name</label>\r\n                        <input type=\"text\" id=\"itemBrandNm\" name=\"itemBrandNm\" formControlName=\"itemBrandNm\" disabled=\"true\" />\r\n                      </div>\r\n\r\n                      <div class=\"col-md-4 col-xs-12\">\r\n                        <label for=\"lensType\">LENS TYPE</label>\r\n                        <input type=\"text\" id=\"lensType\" name=\"lensType\" formControlName=\"lensType\" disabled=\"true\" />\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"row m-t-10\">\r\n                      <div class=\"col-md-4 col-xs-12\">\r\n                        <label for=\"mname\">COATING TYPE</label>\r\n                        <input type=\"text\" id=\"coatingType\" name=\"coatingType\" disabled=\"true\" formControlName=\"coatingType\" />\r\n                      </div>\r\n                      <div class=\"col-md-4 col-xs-12\">\r\n                        <label for=\"mname\">INDEX</label>\r\n                        <input type=\"text\" id=\"index\" name=\"index\" disabled=\"true\" formControlName=\"lensIndex\" />\r\n                      </div>\r\n\r\n                      <div class=\"col-md-4 col-xs-12\">\r\n                        <label for=\"lensCoating\">LENS COATING</label>\r\n                        <input type=\"text\" id=\"lensCoating\" name=\"lensCoating\" formControlName=\"lensCoating\" disabled=\"true\" />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row m-0 m-t-10 p-0\">\r\n                    <div class=\"col-md-3 col-xs-3\" *ngIf=\"editKey\">\r\n                      <label for=\"qty\">QTY</label>\r\n                      <input type=\"text\" id=\"qty\" name=\"qty\" formControlName=\"orderQty\" />\r\n                    </div>\r\n                    <div class=\"col-md-3 col-xs-3\" *ngIf=\"orderKey\">\r\n                      <label for=\"qty\">QTY</label>\r\n                      <input type=\"text\" id=\"qty\" name=\"qty\" disabled=\"true\" formControlName=\"orderQty\"/>\r\n                    </div>\r\n                    <div class=\"col-md-3 col-xs-3\">\r\n                      <label for=\"mrp\">MRP</label>\r\n                      <input type=\"text\" id=\"mrp\" name=\"mrp\" [appDisableControl]=\"false\" formControlName=\"brandMrp\" />\r\n                    </div>\r\n                    <div class=\"col-md-6 col-xs-6 col-sm-6 p-0\" *ngIf=\"orderKey\">\r\n                      <label>EXPECTED DELIVERY DATE</label>\r\n                      <p class=\"input-group  \">\r\n                        <input type=\"text\" id=\"toDt\" [matDatepicker]=\"toDt\" [min]=\"dateMax\" class=\"form-control\"\r\n                          [disabled]=\"true\" formControlName=\"expectedDt\" />\r\n                        <mat-datepicker #toDt></mat-datepicker>\r\n                        <span class=\"input-group-btn\">\r\n                          <button class=\"btn btn-default\" id=\"toggle-toDt\" type=\"button\" (click)=\"datePickerToggler(toDt)\">\r\n                            <i class=\"fa fa-calendar\"></i>\r\n                          </button>\r\n                        </span>\r\n                      </p>\r\n                    </div>\r\n                    <div class=\"col-md-6 col-xs-6 col-sm-6 p-0\" *ngIf=\"editKey\">\r\n                      <label>EXPECTED DELIVERY DATE</label>\r\n                      <p class=\"input-group  \">\r\n                        <input type=\"text\" id=\"toDt\" [matDatepicker]=\"toDt\" [min]=\"dateMax\" class=\"form-control\"\r\n                          [disabled]=\"true\" />\r\n                        <mat-datepicker #toDt></mat-datepicker>\r\n                        <span class=\"input-group-btn\">\r\n                          <button class=\"btn btn-default\" id=\"toggle-toDt\" type=\"button\" (click)=\"datePickerToggler(toDt)\">\r\n                            <i class=\"fa fa-calendar\"></i>\r\n                          </button>\r\n                        </span>\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  <div\r\n                  class=\"col-sm-12 m-t-b-15 form-button-group\" >\r\n                  <ul>\r\n                      <li [routerLink]=\"['optical-point-of-sale']\" routerLinkActive=\"router-link-active\" id=\"pendingOrders\"\r\n                      (click)=\"proceedToPay()\" class=\"btn-cont\">\r\n                      <button class=\"col-md-4\" type=\"submit\" class=\"btn-app btn-save booknow\" *ngIf=\"orderKey\"\r\n                        [disabled]=\"proceedToPayKey\">\r\n\r\n                        PROCEED TO PAY\r\n                      </button>\r\n                    </li>\r\n                    <li>\r\n                        <button type=\"submit\" class=\"btn-app btn-save booknow\" *ngIf=\"editKey\" [disabled]=\"true\"\r\n                        title=\"It will be implemented soon\">\r\n                        UPDATE\r\n                      </button>\r\n                    </li>\r\n                    <li>\r\n                        <button type=\"button\" value=\"Close\" class=\"btn-app btn-delete \" (click)=\"closeSideNav()\">\r\n                            CLOSE\r\n                          </button>\r\n                    </li>\r\n                   </ul>\r\n                </div>\r\n\r\n                </div>\r\n              </div>\r\n            </form>\r\n            <form [formGroup]=\"contactLensForm\">\r\n              <div class=\"col-md-12 col-sm-12 col-xs-12 \" *ngIf=\"posType === 'contactlens'\">\r\n                <div class=\"row m-0 p-t-10\">\r\n                  <div class=\"col-md-3 m-t-10\">\r\n                    <label for=\"select_by\">SELECT BY-</label>\r\n                  </div>\r\n                  <select class=\"col-md-3 col-sm-3 col-xs-3\" formControlName=\"itemBrandNm\" (change)=\"selectedContactLensBrandName()\">\r\n                    <option [ngValue]=\"null\"></option>\r\n                    <option *ngFor=\"let item of contactLens\" [ngValue]=\"item\">\r\n                      {{ item.itemBrandNm }}\r\n                    </option>\r\n                  </select>\r\n                </div>\r\n                <div class=\"col-md-12 col-sm-12  col-xs-12  p-0 \">\r\n                  <div class=\"row m-t-10\">\r\n                    <div class=\"col-md-4 col-xs-12\">\r\n                      <label for=\"barcodeNm\">Barcode</label>\r\n                      <input type=\"text\" id=\"barcodeNm\" name=\"barcodeNm\" disabled=\"true\" formControlName=\"barcode\" />\r\n                    </div>\r\n                    <div class=\"col-md-4 col-xs-12\">\r\n                      <label for=\"brandNm\">Brand Name</label>\r\n                      <input type=\"text\" id=\"brandNm\" name=\"brandNm\" disabled=\"true\" formControlName=\"itemBrandNm\" />\r\n                    </div>\r\n                    <div class=\"col-md-4 col-xs-12\">\r\n                      <label for=\"serialNo\">Serial No</label>\r\n                      <input type=\"text\" id=\"serialNo\" name=\"serialNo\" disabled=\"true\" formControlName=\"serialNo\" />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-md-12 col-sm-12 col-xs-12  p-0\">\r\n                  <div class=\"row m-t-10\">\r\n                    <div class=\"col-md-4\">\r\n                      <label for=\"modelNo\">Model No</label>\r\n                      <input type=\"text\" id=\"modelNo\" name=\"modelNo\" disabled=\"true\" formControlName=\"modelNo\" />\r\n                    </div>\r\n                    <div class=\"col-md-4\">\r\n                      <label for=\"color\">Color</label>\r\n                      <input type=\"text\" id=\"color\" name=\"color\" disabled=\"true\" />\r\n                    </div>\r\n                    <div class=\"col-md-4\">\r\n                      <label for=\"pupillaryDistance\">Pupilary Distance </label>\r\n                      <input type=\"text\" id=\"pupillaryDistance\" name=\"pupillaryDistance\" disabled=\"true\" />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-md-12 col-sm-12  p-0\">\r\n                  <div class=\"row m-t-10\">\r\n                    <div class=\"col-md-4\">\r\n                      <label for=\"lbc\">Left Base Curve </label>\r\n                      <input type=\"text\" id=\"lbc\" name=\"lbc\" disabled=\"true\" />\r\n                    </div>\r\n                    <div class=\"col-md-4\">\r\n                      <label for=\"rbc\">Right Base Curve </label>\r\n                      <input type=\"text\" id=\"rbc\" name=\"rbc\" disabled=\"true\" />\r\n                    </div>\r\n                    <div class=\"col-md-4\">\r\n                      <label for=\"advice\">Glass Advice</label>\r\n                      <input type=\"text\" id=\"advice\" name=\"advice\" disabled=\"true\" />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-md-12 col-sm-12 col-xs-12  \">\r\n                  <div class=\"row m-t-10 p-0\">\r\n                    <div class=\"col-md-3 \" *ngIf=\"orderKey\">\r\n                      <label for=\"quantity\">Quantity</label>\r\n                      <input type=\"text\" id=\"quantity\" name=\"quantity\" disabled=\"true\" formControlName=\"orderQty\" />\r\n                    </div>\r\n                    <div class=\"col-md-3 \" *ngIf=\"editKey\">\r\n                      <label for=\"quantity\">Quantity</label>\r\n                      <input type=\"text\" id=\"quantity\" name=\"quantity\" formControlName=\"orderQty\" />\r\n                    </div>\r\n                    <div class=\"col-md-3\">\r\n                      <label for=\"mrp\">MRP</label>\r\n                      <input type=\"text\" id=\"mrp\" name=\"mrp\" disabled=\"true\" formControlName=\"brandMrp\" />\r\n                    </div>\r\n                    <div class=\"col-md-3\">\r\n                      <label for=\"hsn\">HSN</label>\r\n                      <input type=\"text\" id=\"hsn\" name=\"hsn\" disabled=\"true\" formControlName=\"hsnCode\" />\r\n                    </div>\r\n                    <div class=\"col-md-3\">\r\n                      <label for=\"tax\">Tax(%)</label>\r\n                      <input type=\"text\" id=\"tax\" name=\"tax\" disabled=\"true\" formControlName=\"taxPercntg\" />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"col-md-12 col-sm-12 col-xs-12 p-0\">\r\n                  <table class=\"table table-bordered lens-price-table m-t-10\">\r\n                    <tr>\r\n                      <td>Type</td>\r\n                      <td>Sph</td>\r\n                      <td>Cyl</td>\r\n                      <td>Axis</td>\r\n                      <td>VA</td>\r\n                      <td>Add</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>RIGHT DIST</th>\r\n                      <td *ngFor=\"let rightDist of lensData.rightDist\">\r\n                        <span *ngFor=\"let value of objectKeys(rightDist)\">{{ contactLensTableData[value] }}\r\n                        </span>\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>RIGHT NEAR</th>\r\n\r\n                      <td *ngFor=\"let rightNear of lensData.rightNear\">\r\n                        <span *ngFor=\"let value of objectKeys(rightNear)\">{{\r\n                          contactLensTableData[value]\r\n                          }}</span>\r\n                      </td>\r\n                    </tr>\r\n                  </table>\r\n                </div>\r\n                <div class=\"col-md-12 col-sm-12 col-xs-12 p-0\">\r\n                  <table class=\"table table-bordered lens-price-table m-t-10\">\r\n                    <tr>\r\n                      <td>Type</td>\r\n                      <td>Sph</td>\r\n                      <td>Cyl</td>\r\n                      <td>Axis</td>\r\n                      <td>VA</td>\r\n                      <td>Add</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>LEFT DIST</th>\r\n                      <td *ngFor=\"let leftDist of lensData.leftDist\">\r\n                        <span *ngFor=\"let value of objectKeys(leftDist)\">{{ contactLensTableData[value] }}\r\n                        </span>\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>LEFT NEAR</th>\r\n                      <td *ngFor=\"let leftNear of lensData.leftNear\">\r\n                        <span *ngFor=\"let value of objectKeys(leftNear)\">{{\r\n                          contactLensTableData[value]\r\n                          }}</span>\r\n                      </td>\r\n                    </tr>\r\n                  </table>\r\n                </div>\r\n                <div class=\"col-md-12 col-xs-12 col-sm-12 p-0\">\r\n                  <mat-checkbox [disabled]=\"true\" class=\"col-md-4\" color=\"primary\" [checked]=\"arcGlass\">Arc</mat-checkbox>\r\n                  <mat-checkbox [disabled]=\"true\" class=\"col-md-4\" color=\"primary\" [checked]=\"bifocalGlass\">Bifocal</mat-checkbox>\r\n                  <mat-checkbox [disabled]=\"true\" class=\"col-md-4\" color=\"primary\" [checked]=\"constGlass\">Const</mat-checkbox>\r\n                </div>\r\n                <div class=\"col-md-12 col-sm-12 col-xs-12 p-0\">\r\n                  <mat-checkbox [disabled]=\"true\" class=\"col-md-4\" color=\"primary\" [checked]=\"phontosunGlass\">Photosun</mat-checkbox>\r\n                  <mat-checkbox [disabled]=\"true\" class=\"col-md-4\" color=\"primary\" [checked]=\"progressiveGlass\">Progressive</mat-checkbox>\r\n                  <mat-checkbox [disabled]=\"true\" class=\"col-md-4\" color=\"primary\" [checked]=\"glass\">Glass</mat-checkbox>\r\n                </div>\r\n                <div\r\n                class=\"col-sm-12 m-t-b-15 form-button-group\" >\r\n                <ul>\r\n                    <li [routerLink]=\"['optical-point-of-sale']\" routerLinkActive=\"router-link-active\" id=\"pendingOrders\" (click)=\"proceedToPay()\" class=\"btn-cont\">\r\n                        <button type=\"submit\" (click)=\"proceedToPay()\" class=\"btn-app btn-save booknow \"\r\n                          *ngIf=\"orderKey\" [disabled]=\"proceedToPayKey\">\r\n                          PROCEED TO PAY\r\n                        </button>\r\n                      </li>\r\n                  <li>\r\n\r\n                  <button  type=\"button\" class=\"btn-app btn-save \" *ngIf=\"editKey\" >\r\n                      UPDATE\r\n                    </button>\r\n                  </li>\r\n                  <li>\r\n                      <button type=\"button\"  value=\"Close\" class=\" btn-app btn-delete \" (click)=\"closeSideNav()\">\r\n                          CLOSE\r\n                        </button>\r\n                  </li>\r\n                 </ul>\r\n              </div>\r\n              </div>\r\n            </form>\r\n          </mat-tab>\r\n        </mat-tab-group>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit, Input, OnDestroy } from '@angular/core';\r\nimport { MatSidenav, MatDatepicker } from '@angular/material';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\nimport { OpticalStoreService } from '@app/modules/optical-store/opticalStore.service';\r\nimport {\r\n  UtilService,\r\n  UserService,\r\n  OpticalStoreApiService\r\n} from '@core/services';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { UserSession } from '@core/models/user-session';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { AutoUnsubscribe } from 'ngx-auto-unsubscribe';\r\n// @AutoUnsubscribe()\r\n@Component({\r\n  selector: 'app-orderdetails',\r\n  templateUrl: './orderdetails.component.html',\r\n  styleUrls: ['./orderdetails.component.scss']\r\n})\r\nexport class OrderdetailsComponent implements OnInit, OnDestroy {\r\n  @Input()\r\n  sideNavRef: MatSidenav;\r\n  lensForm: FormGroup;\r\n  framesForm: FormGroup;\r\n  contactLensForm: FormGroup;\r\n  viewRxData = true;\r\n  dateMax = new Date();\r\n  tableData = true;\r\n  editKey;\r\n  orderKey: any;\r\n  posType = 'lens';\r\n  editData: any;\r\n  opticalOrderNo: number;\r\n  fetchOpticalDetailsList: any = [];\r\n  public lensList = [];\r\n  public framesList: any = [];\r\n  public contactLens: any = [];\r\n  public framesBrandName: any = [];\r\n  public lensTableData: any = [];\r\n  componentDestroyNotifier = new Subject();\r\n  powerType = 'withPower';\r\n  private sessionData: UserSession;\r\n  taxPercentage: any = [];\r\n  tax: any = [];\r\n  percentage = false;\r\n  public objectKeys = Object.keys;\r\n  lensData = {\r\n    rightDist: [\r\n      { distanceRightSph: '' },\r\n      { distanceRightCyl: '' },\r\n      { distanceRightAxis: '' },\r\n      { distanceRightVa: '' },\r\n      { distanceRightAddSph: '' },\r\n    ],\r\n    leftDist: [\r\n      { distanceLeftSph: '' },\r\n      { distanceLeftCyl: '' },\r\n      { distanceLeftAxis: '' },\r\n      { distanceLeftVa: '' },\r\n      { distanceLeftAddSph: '' },\r\n    ],\r\n    rightNear: [\r\n      { nearRightSph: '' },\r\n      { nearRightCyl: '' },\r\n      { nearRightAxis: '' },\r\n      { nearRightVa: '' },\r\n      { nearRightAddSph: '' },\r\n    ],\r\n    leftNear: [\r\n      { nearLeftSph: '' },\r\n      { nearLeftCyl: '' },\r\n      { nearLeftAxis: '' },\r\n      { nearLeftVa: '' },\r\n      { nearLeftAddSph: '' },\r\n    ]\r\n  };\r\n\r\n  framesMrp: any;\r\n  framesQuantity: any;\r\n  orderQty: any;\r\n  framesdiscPer: any;\r\n  framesbrandItems: any = [];\r\n  updatedoverallQuantityCgst: any;\r\n  updatedoverallQuantitysgst: any;\r\n  updatedoverallQuantityTax: any;\r\n  itemBrandCgst: any;\r\n  itemBrandSgst: any;\r\n  updateTaxPercentage: any;\r\n  proceedToPayKey: any;\r\n  barcode: any;\r\n  public arcGlass = false;\r\n  public bifocalGlass = false;\r\n  public constGlass = false;\r\n  public phontosunGlass = false;\r\n  public progressiveGlass = false;\r\n  public glass = false;\r\n  zeroPowerList: any = [];\r\n  withPowerList: any = [];\r\n  contactLensTableData: any;\r\n\r\n  constructor(\r\n    private componentOpticalService: OpticalStoreService,\r\n    private lensFormBuilder: FormBuilder,\r\n    private frameFormBuilder: FormBuilder,\r\n    private contactLensFormBuilder: FormBuilder,\r\n    private utilService: UtilService,\r\n    private userService: UserService,\r\n    private opticalService: OpticalStoreApiService,\r\n    private toaster: ToastrService\r\n  ) {\r\n    this.sessionData = userService.getUser();\r\n  }\r\n  datePickerToggler(datePicker: MatDatepicker<Date>) {\r\n    datePicker[datePicker.opened ? 'close' : 'open']();\r\n  }\r\n  ngOnInit() {\r\n    this.frameFormInitForm();\r\n    this.lensFormInitForm();\r\n    this.contactLensFormInitForm();\r\n    this.componentOpticalService.editKey.subscribe(data => {\r\n      if (data) {\r\n        this.orderKey = data;\r\n        this.editKey = '';\r\n      }\r\n    });\r\n    this.componentOpticalService.orderKey.subscribe(data => {\r\n      if (data) {\r\n        this.editKey = data;\r\n        this.orderKey = '';\r\n      }\r\n    });\r\n    this.componentOpticalService.editData.subscribe(data => {\r\n      if (data) {\r\n        this.barcode = data.barcode;\r\n        this.framesForm.patchValue({barcode: this.barcode});\r\n        this.lensForm.patchValue({barcode: this.barcode});\r\n        this.contactLensForm.patchValue({barcode: this.barcode});\r\n        this.editData = data;\r\n        // this.proceedToPayKey = data.lensWithoutInv;\r\n        this.opticalOrderNo = data.opticalOrderNo;\r\n        this.fetchOpticalDetails();\r\n      }\r\n    });\r\n  }\r\n\r\n  frameFormInitForm() {\r\n    this.framesForm = this.frameFormBuilder.group({\r\n      itemBrandNm: '',\r\n      brandMrp: '',\r\n      serialNo: '',\r\n      gender: '',\r\n      frameTypeNm: '',\r\n      modelNo: '',\r\n      hsnCode: '',\r\n      taxPercntg: '',\r\n      lensType: '',\r\n      lensCoating: '',\r\n      orderQty: '',\r\n      barcode: ''\r\n    });\r\n    this.framesForm.get('orderQty').valueChanges.subscribe(data => {\r\n      if (data) {\r\n        this.orderQty = data;\r\n        // this.fetchInventoryQtyForFrames();\r\n      }\r\n    });\r\n  }\r\n  lensFormInitForm() {\r\n    this.lensForm = this.lensFormBuilder.group({\r\n      mname: '',\r\n      posType: 'lens',\r\n      powerType: 'withPower',\r\n      brandMrp: '',\r\n      itemBrandNm: '',\r\n      lensType: '',\r\n      lensCoating: '',\r\n      orderQty: '',\r\n      barcode: '',\r\n      coatingType: '',\r\n      lensIndex: '',\r\n      expectedDt: ''\r\n    });\r\n\r\n    this.lensForm\r\n      .get('posType')\r\n      .valueChanges.pipe(takeUntil(this.componentDestroyNotifier))\r\n      .subscribe(posType => (this.posType = posType));\r\n     this.lensForm\r\n      .get('powerType')\r\n      .valueChanges.pipe(takeUntil(this.componentDestroyNotifier))\r\n      .subscribe(powerType => (this.powerType = powerType));\r\n  }\r\n  contactLensFormInitForm() {\r\n    this.contactLensForm = this.contactLensFormBuilder.group({\r\n      itemBrandNm: '',\r\n      serialNo: '',\r\n      brandMrp: '',\r\n      orderQty: '',\r\n      hsnCode: '',\r\n      taxPercntg: '',\r\n      modelNo: '',\r\n      arcGlass: '',\r\n      barcode: ''\r\n    });\r\n  }\r\n  closeSideNav() {\r\n    this.sideNavRef.close();\r\n    this.framesForm.reset();\r\n    this.lensList = [];\r\n    this.contactLens = [];\r\n    // this.lensForm.reset();\r\n    // this.contactLens.reset();\r\n  }\r\n\r\n  viewMethod() {\r\n    this.viewRxData = !this.viewRxData;\r\n  }\r\n  zeroPower() {\r\n    this.tableData = false;\r\n    this.viewRxData = false;\r\n  }\r\n  withPower() {\r\n    this.tableData = true;\r\n    this.viewRxData = true;\r\n  }\r\n  fetchOpticalDetails() {\r\n    this.framesList = [];\r\n    this.lensList = [];\r\n    this.contactLens = [];\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId,\r\n      opticalOrderNo: this.opticalOrderNo\r\n    };\r\n    this.opticalService.fetchPendingOrders(payload).subscribe(\r\n      response => {\r\n        if (response.responseCode === 'E200') {\r\n          this.fetchOpticalDetailsList = response.data;\r\n          if (\r\n            this.fetchOpticalDetailsList &&\r\n            this.fetchOpticalDetailsList.length\r\n          ) {\r\n            this.fetchOpticalDetailsList.forEach(element1 => {\r\n              if (\r\n                element1.insertOpticalOrdersFrameAndContactLensItemsReqAndRes\r\n              ) {\r\n                element1.insertOpticalOrdersFrameAndContactLensItemsReqAndRes.forEach(\r\n                  element => {\r\n                    if (element.itemTypeId && element.itemTypeId === 234) {\r\n                      this.framesList.push(element);\r\n                    } else if (\r\n                      element.itemTypeId &&\r\n                      element.itemTypeId === 235\r\n                    ) {\r\n                      this.contactLens.push(element);\r\n                    }\r\n                  }\r\n                );\r\n              }\r\n            });\r\n            this.fetchOpticalDetailsList.forEach(element1 => {\r\n              this.lensList = this.lensList.concat(\r\n                element1.insertOpticalOrdersLensItemReqAndRes\r\n\r\n              );\r\n              console.log(element1.insertOpticalOrdersLensItemReqAndRes);\r\n\r\n            });\r\n            if (this.lensList.length > 0) {\r\n              this.withPowerList = [];\r\n              this.zeroPowerList = [] ;\r\n              this.lensList.forEach((obj) => {\r\n                if (obj.isHavingPower === true) {\r\n                  this.withPowerList.push(obj);\r\n                } else  {\r\n                  this.zeroPowerList.push(obj);\r\n                }\r\n\r\n              });\r\n            }\r\n          }\r\n        } else if (response.responseCode === 'E400') {\r\n          this.toaster.error('Failure!', response.responseMessage);\r\n        }\r\n      },\r\n      () => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n  // fetchInventoryQtyForFrames() {\r\n  //   const payload = {\r\n  //     orgId: this.sessionData.orgId,\r\n  //     orgGrpId: this.sessionData.orgGroupId,\r\n  //     createdUsrId: this.sessionData.regId,\r\n  //     opticalInventoryId: this.editData\r\n  //       .insertOpticalOrdersFrameAndContactLensItemsReqAndRes[0]\r\n  //       .opticalInventoryId\r\n  //   };\r\n  //   this.opticalService.fetchInventoryQty(payload).subscribe(\r\n  //     response => {\r\n  //       if (response.responseCode === 'E200') {\r\n  //         this.framesQuantity = response.data;\r\n  //         console.log(this.framesQuantity);\r\n  //         this.framesMrp = this.editData.insertOpticalOrdersFrameAndContactLensItemsReqAndRes[0].brandMrp;\r\n  //         console.log(this.framesMrp);\r\n  //       } else if (response.responseCode === 'E400') {\r\n  //         this.toaster.error('failure', response.responseCode);\r\n  //       }\r\n  //     },\r\n  //     () => {\r\n  //       this.toaster.error('failure', 'Something went wrong');\r\n  //     }\r\n  //   );\r\n  // }\r\n  // fetchInventoryQtyForLens() {\r\n  //   const payload = {\r\n  //     orgId: this.sessionData.orgId,\r\n  //     orgGrpId: this.sessionData.orgGroupId,\r\n  //     createdUsrId: this.sessionData.regId,\r\n  //     opticalInventoryId: this.editData\r\n  //       .insertOpticalOrdersFrameAndContactLensItemsReqAndRes[0]\r\n  //       .opticalInventoryId\r\n  //   };\r\n  //   this.opticalService.fetchInventoryQty(payload).subscribe(\r\n  //     response => {\r\n  //       if (response.responseCode === 'E200') {\r\n  //         const totalTax = this.editData\r\n  //           .insertOpticalOrdersFrameAndContactLensItemsReqAndRes[0].hsnCode;\r\n\r\n  //         const sgstTax = totalTax / 2;\r\n  //         const cgst = totalTax / 2;\r\n  //         const total = this.framesMrp * this.orderQty;\r\n  //         const tax = (total * cgst) / 100;\r\n  //         // const cgstTax = this.editData\r\n  //         // .insertOpticalOrdersFrameAndContactLensItemsReqAndRes[0].cgstTaxPercntg;\r\n\r\n  //         // const tax =  100 + cgstTax + sgstTax ;\r\n  //         // const taxPercent = Number(((this.framesMrp * 100) / tax)(2));\r\n  //       } else if (response.responseCode === 'E400') {\r\n  //         this.toaster.error('failure', response.responseCode);\r\n  //       }\r\n  //     },\r\n  //     () => {\r\n  //       this.toaster.error('failure', 'Something went wrong');\r\n  //     }\r\n  //   );\r\n  // }\r\n  // fetchInventoryQtyForContactLens() {\r\n  //   const payload = {\r\n  //     orgId: this.sessionData.orgId,\r\n  //     orgGrpId: this.sessionData.orgGroupId,\r\n  //     createdUsrId: this.sessionData.regId,\r\n  //     opticalInventoryId: this.editData\r\n  //       .insertOpticalOrdersFrameAndContactLensItemsReqAndRes[0]\r\n  //       .opticalInventoryId\r\n  //   };\r\n  //   this.opticalService.fetchInventoryQty(payload).subscribe( (response) => {\r\n  //       if (response.responseCode === 'E200') {\r\n  //       } else if (response.responseCode === 'E400') {\r\n  //         this.toaster.error('failure', response.responseCode);\r\n  //       }\r\n  //     },\r\n  //     () => {\r\n  //       this.toaster.error('failure', 'Something went wrong');\r\n  //     }\r\n  //   );\r\n  // }\r\n  lensDataTrigger() {\r\n    this.viewRxData = true;\r\n    this.tableData = true;\r\n  }\r\n  contactLensDataTrigger() {\r\n    this.viewRxData = false;\r\n  }\r\n  selectedFramesBrandName() {\r\n    this.framesbrandItems = this.framesForm.get('itemBrandNm').value;\r\n    this.framesForm.patchValue(this.framesbrandItems);\r\n  }\r\n  selectedlensBrandName() {\r\n    const lensbrandItems = this.lensForm.get('itemBrandNm').value;\r\n    this.lensForm.patchValue(lensbrandItems);\r\n    this.lensTableData = lensbrandItems.ordersLensConfigurationItemReqAndRes;\r\n  }\r\n  selectedContactLensBrandName() {\r\n    const contactLensBrandItems = this.contactLensForm.get('itemBrandNm').value;\r\n    if (contactLensBrandItems && contactLensBrandItems.insertContactLensSaleOrOrder) {\r\n      const insertContactLensSaleOrOrder = contactLensBrandItems.insertContactLensSaleOrOrder;\r\n      if (insertContactLensSaleOrOrder.arcGlass) {\r\n        this.arcGlass = insertContactLensSaleOrOrder.arcGlass;\r\n      }\r\n      if (insertContactLensSaleOrOrder.bifocalGlass) {\r\n        this.bifocalGlass = insertContactLensSaleOrOrder.bifocalGlass;\r\n      }\r\n      if (insertContactLensSaleOrOrder.constGlass) {\r\n        this.constGlass = insertContactLensSaleOrOrder.constGlass;\r\n      }\r\n      if (insertContactLensSaleOrOrder.phontosunGlass) {\r\n        this.phontosunGlass = insertContactLensSaleOrOrder.phontosunGlass;\r\n      }\r\n      if (insertContactLensSaleOrOrder.progressiveGlass) {\r\n        this.progressiveGlass = insertContactLensSaleOrOrder.progressiveGlass;\r\n      }\r\n      if (insertContactLensSaleOrOrder.glass) {\r\n        this.glass = insertContactLensSaleOrOrder.glass;\r\n      }\r\n    }\r\n    this.contactLensForm.patchValue(contactLensBrandItems);\r\n    this.contactLensTableData = contactLensBrandItems.insertContactLensSaleOrOrder;\r\n  }\r\n  proceedToPay(editData) {\r\n    this.closeSideNav();\r\n    this.componentOpticalService.paymentData.next(this.editData);\r\n    this.componentOpticalService.showsBilling.next('pendingOrders');\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.componentDestroyNotifier.next();\r\n  }\r\n}\r\n","<p>\r\n  os-accessories works!\r\n</p>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-os-accessories',\r\n  templateUrl: './os-accessories.component.html',\r\n  styleUrls: ['./os-accessories.component.scss']\r\n})\r\nexport class OsAccessoriesComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<p>\r\n  os-contact-lens works!\r\n</p>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-os-contact-lens',\r\n  templateUrl: './os-contact-lens.component.html',\r\n  styleUrls: ['./os-contact-lens.component.scss']\r\n})\r\nexport class OsContactLensComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<div class=\"glass-details col-md-12 zero-padding\">\r\n  <div *ngIf=\"data === 'distanceRight' || data === 'distanceLeft'\" class=\"col-md-12 zero-padding\">\r\n    <div class=\"col-md-12 zero-padding\">\r\n      <label>Spherical</label>\r\n      <input id=\"readings.Sph\" class=\"fl-rt-auto record-input\" type=\"text\" [(ngModel)]=\"readings.Sph\" />\r\n      <mat-radio-group [(ngModel)]=\"isSphPlus\">\r\n        <mat-radio-button [value]=true>+ve</mat-radio-button>\r\n        <mat-radio-button [value]=false>-ve</mat-radio-button>\r\n      </mat-radio-group>\r\n    </div>\r\n    <table class=\"w-100 table table-bordered glass-details-table\" *ngIf=\"isSphPlus\">\r\n      <tr *ngFor=\"let value of distPlusSphData\">\r\n        <td *ngFor=\"let subvalue of value\" (click)=\"saveReading('Sph',subvalue)\">\r\n          <span>{{subvalue}}</span>\r\n        </td>\r\n      </tr>\r\n    </table>\r\n    <table class=\"glass-details-table table-bordered glass-details-table\" *ngIf=\"!isSphPlus\">\r\n      <tr *ngFor=\"let value of distMinusSphData\">\r\n        <td *ngFor=\"let subvalue of value\" (click)=\"saveReading('Sph',subvalue)\">\r\n          <span>{{subvalue}}</span>\r\n        </td>\r\n      </tr>\r\n    </table>\r\n    <div class=\"col-md-12 zero-padding\">\r\n      <label>Cylindrical</label>\r\n      <input id=\"readings.Cyl\" class=\"fl-rt-auto record-input\" type=\"text\" [(ngModel)]=\"readings.Cyl\" />\r\n      <mat-radio-group [(ngModel)]=\"isCylPlus\">\r\n        <mat-radio-button [value]=true>+ve</mat-radio-button>\r\n        <mat-radio-button [value]=false>-ve</mat-radio-button>\r\n      </mat-radio-group>\r\n    </div>\r\n    <table class=\"w-100 table table-bordered glass-details-table\" *ngIf=\"isCylPlus\">\r\n      <tr *ngFor=\"let value of distPlusCylData\">\r\n        <td *ngFor=\"let subvalue of value\" (click)=\"saveReading('Cyl',subvalue)\">\r\n          <span>{{subvalue}}</span>\r\n        </td>\r\n      </tr>\r\n    </table>\r\n    <table class=\"w-100 table table-bordered glass-details-table\" *ngIf=\"!isCylPlus\">\r\n      <tr *ngFor=\"let value of distMinusCylData\">\r\n        <td *ngFor=\"let subvalue of value\" (click)=\"saveReading('Cyl',subvalue)\">\r\n          <span>{{subvalue}}</span>\r\n        </td>\r\n      </tr>\r\n    </table>\r\n    <div class=\"col-md-12 zero-padding\">\r\n      <label>Axis</label>\r\n      <input id=\"readings.Axis\" class=\"fl-rt-auto record-input\" type=\"text\" [(ngModel)]=\"readings.Axis\" />\r\n    </div>\r\n    <table class=\"glass-details-table table-bordered\">\r\n      <tr *ngFor=\"let value of distAxisData\">\r\n        <td *ngFor=\"let subvalue of value\" (click)=\"saveReading('Axis',subvalue)\">\r\n          <span>{{subvalue}}</span>\r\n        </td>\r\n      </tr>\r\n    </table>\r\n    <div class=\"col-md-12 zero-padding\">\r\n      <label>VA</label>\r\n      <input id=\"_readings.Va\" class=\"fl-rt-auto record-input\" type=\"text\" [(ngModel)]=\"readings.Va\" />\r\n    </div>\r\n    <table class=\"glass-details-table table-bordered\">\r\n      <tr *ngFor=\"let value of distVaData\">\r\n        <td *ngFor=\"let subvalue of value\" (click)=\"saveReading('Va',subvalue)\">\r\n          <span>{{subvalue}}</span>\r\n        </td>\r\n      </tr>\r\n    </table>\r\n    <div class=\"col-md-12 zero-padding\">\r\n      <div class=\"col-md-6\">\r\n        <label>Add</label>\r\n        <input id=\"readings.AddSph\" class=\"fl-rt-auto\" type=\"text\" [(ngModel)]=\"readings.AddSph\" />\r\n      </div>\r\n    </div>\r\n\r\n\r\n\r\n  </div>\r\n\r\n  <div *ngIf=\"data === 'nearRight' || data == 'nearLeft'\">\r\n    <div class=\"col-md-12 zero-padding\">\r\n      <label>Spherical</label>\r\n      <input id=\"readings.Sph2\" class=\"fl-rt-auto record-input\" type=\"text\" [(ngModel)]=\"readings.Sph\" />\r\n    </div>\r\n    <table class=\"w-100 table table-bordered glass-details-table\">\r\n      <tr *ngFor=\"let value of nearSphData\">\r\n        <td *ngFor=\"let subvalue of value\" (click)=\"saveReading('Sph',subvalue)\">\r\n          <span>{{subvalue}}</span>\r\n        </td>\r\n      </tr>\r\n    </table>\r\n\r\n\r\n    <div class=\"col-md-12 zero-padding\">\r\n      <label>VA</label>\r\n      <input id=\"readings.Va2\" class=\"fl-rt-auto record-input\" type=\"text\" [(ngModel)]=\"readings.Va\" />\r\n    </div>\r\n    <table class=\"w-100 table table-bordered glass-details-table\">\r\n      <tr *ngFor=\"let value of nearVaData\">\r\n        <td *ngFor=\"let subvalue of value\" (click)=\"saveReading('Va',subvalue)\">\r\n          <span>{{subvalue}}</span>\r\n        </td>\r\n      </tr>\r\n    </table>\r\n  </div>\r\n\r\n\r\n    <div *ngIf=\"data === 'patientList'\" class=\"patient-list-table\">\r\n        <table class=\"table table-bordered\" *ngIf=\"patientList.length > 0\">\r\n            <tr>\r\n                <th>Patient Id</th>\r\n                <th>Name</th>\r\n                <th>Age / DOB</th>\r\n                <th>Gender</th>\r\n            </tr>\r\n            <tr  *ngFor=\"let patient of patientList; index as i\">\r\n                <th><a (click)=\"selectedPatient(i)\">{{patient.hosPatientId}}</a></th>\r\n                <td>{{patient.patientNm}}</td>\r\n                <td>\r\n                  <span *ngIf=\"patient.age\">{{patient.age/365 | number:'1.0-0'}} Y</span>\r\n                  <span *ngIf=\"patient.age && patient.birthDt\"> / </span>\r\n                  <span *ngIf=\"patient.birthDt\">{{patient.birthDt | date:'dd-MM-yyyy'}}</span>\r\n                </td>\r\n                <td><span>{{patient.gender}}</span></td>\r\n                <!-- <td><span *ngIf=\"patient.age\">{{patient.age}}/365 Y</span></td> -->\r\n\r\n            </tr>\r\n        </table>\r\n    </div>\r\n\r\n    <!-- <div class=\"col-md-12 zero-padding btns-section\">\r\n      <button id=\"addReadings\" class=\"btn-app btn-add\" type=\"button\" (click)=\"addReadings()\" *ngIf=\"data === 'nearRight' || data == 'nearLeft' || data === 'distanceRight' || data === 'distanceLeft'\">\r\n        <i class=\"fa fa-arrow-circle-up fa-btn-icon\" aria-hidden=\"true\"></i> Add </button>\r\n      <button id=\"closeDialogue\" type=\"button\" class=\"btn-app btn-delete\" (click)=\"closeDialogue()\">\r\n        <i class=\"fa fa-times-circle fa-btn-icon\" aria-hidden=\"true\"></i> Cancel</button>\r\n    </div> -->\r\n    <div\r\n    class=\"col-sm-12 p-l-r-5 m-t-b-15 form-button-group\" >\r\n    <ul>\r\n      <li>\r\n          <button id=\"addReadings\" class=\"btn-app btn-add\" type=\"button\" (click)=\"addReadings()\" *ngIf=\"data === 'nearRight' || data == 'nearLeft' || data === 'distanceRight' || data === 'distanceLeft'\">\r\n              <i class=\"fa fa-arrow-circle-up fa-btn-icon\" aria-hidden=\"true\"></i> Add </button>\r\n      </li>\r\n      <li>\r\n          <button id=\"closeDialogue\" type=\"button\" class=\"btn-app btn-delete\" (click)=\"closeDialogue()\">\r\n              <i class=\"fa fa-times-circle fa-btn-icon\" aria-hidden=\"true\"></i> Cancel</button>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { MatDialogRef , MAT_DIALOG_DATA } from '@angular/material';\r\nimport { SpectacleReadings } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-os-dialog',\r\n  templateUrl: './os-dialog.component.html',\r\n  styleUrls: ['./os-dialog.component.scss']\r\n})\r\nexport class OsDialogComponent implements OnInit {\r\n  isSphPlus: Boolean = true;\r\n  isCylPlus: Boolean = true;\r\n  readings = <SpectacleReadings>{};\r\n  distPlusSphData = [\r\n    ['0.00', '+0.25', '+0.50', '+0.75', 'Plain', '', ' ', 'same'],\r\n    ['+1.00', '+1.25', '+1.50', '+1.75', '+9.00', '+9.50', '+17.00', '+17.50'],\r\n    [\r\n      '+2.00',\r\n      '+2.25',\r\n      '+2.50',\r\n      '+2.75',\r\n      '+10.00',\r\n      '+10.50',\r\n      '+18.00',\r\n      '+18.50'\r\n    ],\r\n    [\r\n      '+3.00',\r\n      '+3.25',\r\n      '+3.50',\r\n      '+3.75',\r\n      '+11.00',\r\n      '+11.50',\r\n      '+19.00',\r\n      '+19.50'\r\n    ],\r\n    [\r\n      '+4.00',\r\n      '+4.25',\r\n      '+4.50',\r\n      '+4.75',\r\n      '+12.00',\r\n      '+12.50',\r\n      '+20.00',\r\n      '+20.50'\r\n    ],\r\n    [\r\n      '+5.00',\r\n      '+5.25',\r\n      '+5.50',\r\n      '+5.75',\r\n      '+13.00',\r\n      '+13.50',\r\n      '+21.00',\r\n      '+21.50'\r\n    ],\r\n    [\r\n      '+6.00',\r\n      '+6.25',\r\n      '+6.50',\r\n      '+6.75',\r\n      '+14.00',\r\n      '+14.50',\r\n      '+22.00',\r\n      '+22.50'\r\n    ],\r\n    [\r\n      '+7.00',\r\n      '+7.25',\r\n      '+7.50',\r\n      '+7.75',\r\n      '+15.00',\r\n      '+15.50',\r\n      '+23.00',\r\n      '+23.50'\r\n    ],\r\n    ['+8.00', '+8.25', '+8.50', '+8.75', '+16.00', '+16.50', '+24.00', '+24.50']\r\n  ];\r\n  distMinusSphData = [\r\n    ['0.00', '-0.25', '-0.50', '-0.75', 'Plain', '', ' ', 'same'],\r\n    ['-1.00', '-1.25', '-1.50', '-1.75', '-9.00', '-9.50', '-17.00', '-17.50'],\r\n    [\r\n      '-2.00',\r\n      '-2.25',\r\n      '-2.50',\r\n      '-2.75',\r\n      '-10.00',\r\n      '-10.50',\r\n      '-18.00',\r\n      '-18.50'\r\n    ],\r\n    [\r\n      '-3.00',\r\n      '-3.25',\r\n      '-3.50',\r\n      '-3.75',\r\n      '-11.00',\r\n      '-11.50',\r\n      '-19.00',\r\n      '-19.50'\r\n    ],\r\n    [\r\n      '-4.00',\r\n      '-4.25',\r\n      '-4.50',\r\n      '-4.75',\r\n      '-12.00',\r\n      '-12.50',\r\n      '-20.00',\r\n      '-20.50'\r\n    ],\r\n    [\r\n      '-5.00',\r\n      '-5.25',\r\n      '-5.50',\r\n      '-5.75',\r\n      '-13.00',\r\n      '-13.50',\r\n      '-21.00',\r\n      '-21.50'\r\n    ],\r\n    [\r\n      '-6.00',\r\n      '-6.25',\r\n      '-6.50',\r\n      '-6.75',\r\n      '-14.00',\r\n      '-14.50',\r\n      '-22.00',\r\n      '-22.50'\r\n    ],\r\n    [\r\n      '-7.00',\r\n      '-7.25',\r\n      '-7.50',\r\n      '-7.75',\r\n      '-15.00',\r\n      '-15.50',\r\n      '-23.00',\r\n      '-23.50'\r\n    ],\r\n    ['-8.00', '-8.25', '-8.50', '-8.75', '-16.00', '-16.50', '-24.00', '-24.50']\r\n  ];\r\n  distPlusCylData = [\r\n    ['0.00', '+0.25', '+0.50', '+0.75', '+3.00', '+3.25', '+3.50', ''],\r\n    ['+1.00', '+1.25', '+1.50', '+1.75', '+4.00', '', '+4.50', ' '],\r\n    ['+2.00', '+2.25', '+2.50', '+2.75', '+5.00', '', '+5.50', '+6.00']\r\n  ];\r\n  distMinusCylData = [\r\n    ['0.00', '-0.25', '-0.50', '-0.75', '-3.00', '-3.25', '-3.50', ''],\r\n    ['-1.00', '-1.25', '-1.50', '-1.75', '-4.00', '', '-4.50', ' '],\r\n    ['-2.00', '-2.25', '-2.50', '-2.75', '-5.00', '', '-5.50', '-6.00']\r\n  ];\r\n  distAxisData = [\r\n    ['5', '30', '55', '80', '95', '120', '145', '170'],\r\n    ['10', '35', '60', '85', '100', '125', '150', '175'],\r\n    ['15', '40', '65', '90', '105', '130', '155', '180'],\r\n    ['20', '45', '70', '', '110', '135', '160', ' '],\r\n    ['25', '50', '75', '', '115', '140', '165', ' ']\r\n  ];\r\n  distVaData = [['6/4', '6/5', '6/6P', '6/6', '6/9P', '6/9', '6/12P', '6/12'],\r\n        ['6/18P', '6/18', '6/24P', '6/24', '6/36P', '6/36', '6/60P', '6/60']];\r\n  nearSphData = [ ['+0.50', '+0.75', '+1.00', '+1.25', '+1.50', '+1.75'],  ['+2.00', '+2.25', '+2.50', '+2.75', '+3.00', '+3.25']];\r\n  nearVaData = [['N48', 'N36', 'N24', 'N18', 'N14', ''], ['N12', 'N10', 'N8', 'N6', 'N5', '']];\r\n  patientList: any =  [];\r\n  constructor(private dialogRef: MatDialogRef<OsDialogComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: any) {\r\n    console.log(this.data, '*****');\r\n    if (typeof this.data !== 'string') {\r\n      this.patientList = this.data.patientList;\r\n      this.data = this.data.type;\r\n    }\r\n  }\r\n  ngOnInit() {}\r\n\r\n  saveReading(type: string, value): void {\r\n    this.readings[type] = value;\r\n    // if (type === 'Spherical') {\r\n    //   this.readings.sph = value;\r\n    // } else if (type === 'Cylindrical') {\r\n    //   this.readings.cyl = value;\r\n    // } else if (type === 'Axis') {\r\n    //   this.readings.axis = value;\r\n    // }\r\n  }\r\n\r\n  closeDialogue(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  addReadings(): void {\r\n    console.log(this.readings, '-----------');\r\n    const values = this.readings;\r\n    const obj: any = {};\r\n    for (const key in this.readings) {\r\n      if (key) {\r\n        obj[this.data + key] = this.readings[key];\r\n      }\r\n  }\r\n  this.dialogRef.close(obj);\r\n  }\r\n\r\n  selectedPatient(pos): void {\r\n    this.dialogRef.close(this.patientList[pos]);\r\n  }\r\n}\r\n","<p>\r\n  os-other-glasses works!\r\n</p>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-os-other-glasses',\r\n  templateUrl: './os-other-glasses.component.html',\r\n  styleUrls: ['./os-other-glasses.component.scss']\r\n})\r\nexport class OsOtherGlassesComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<div class=\"col-md-12 m-t-10 p-r-0 p-l-0\">\r\n  <div class=\"col-md-12 p-r-0 p-l-0\">\r\n    <div class=\"menu-radio-group\">\r\n      <input type=\"radio\" name=\"specType\" id=\"Lens\" checked=\"name\" value=\"lens\" (click)=\"specType = 'lens'\" [(ngModel)]=\"specType\" />\r\n      <label for=\"Lens\">Lens</label>\r\n      <input type=\"radio\" name=\"specType\" id=\"contactLens\" value=\"contactlens\" (click)=\"specType = 'contactlens'\" />\r\n      <label for=\"contactLens\">Contact Lens</label>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <div *ngIf=\"specType === 'lens'\" class=\"col-md-12 m-t-10 p-l-0\">\r\n    <div class=\"col-md-12 power-container p-l-0\">\r\n      <input type=\"radio\" name=\"power\" id=\"zeroPower\" checked=\"name\" value=\"zeroPower\" (click)=\"zeroPower()\" />\r\n      <!-- <pre>{{posType}}</pre> -->\r\n      <label for=\"zeroPower\" class=\"p-r-5\">Zero Power</label>\r\n      <input type=\"radio\" name=\"power\" id=\"withPower\" checked=\"name\" value=\"withPower\" (click)=\"withPower()\" />\r\n      <label for=\"withPower\">With Power</label>\r\n    </div>\r\n\r\n    <button *ngIf=\"isHavingPower\" id=\"_button1\" class=\"btn btn-default fright mr-3 mb-2\" type=\"button\" (click)=\"viewRx()\">\r\n      ViewRx\r\n    </button>\r\n\r\n    <p *ngIf=\"isHavingPower\">\r\n      <span class=\"astrik-symbol\">\r\n        <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n      </span>\r\n\r\n      Please enter any one of the fields in the prescription table\r\n    </p>\r\n    <!-- for lens table-->\r\n    <!-- <p>lens data {{lensData|json}}</p> -->\r\n    <div class=\"col-md-12 m-t-10\" *ngIf=\"showingLensTable\">\r\n      <div class=\"\">\r\n        <table class=\"table table-bordered lens-table\">\r\n          <tr>\r\n            <th>Type</th>\r\n            <th>Sph</th>\r\n            <th>Cyl</th>\r\n            <th>Axis</th>\r\n            <th>VA</th>\r\n            <th>Add</th>\r\n            <th>Type</th>\r\n            <th>Sph</th>\r\n            <th>Cyl</th>\r\n            <th>Axis</th>\r\n            <th>VA</th>\r\n            <th>Add</th>\r\n       </tr>\r\n          <tr>\r\n            <th>Right Dist</th>\r\n            <td *ngFor=\"let rightDist of lensData.rightDist\">\r\n              <input id=\"_objectKeys1\" type=\"text\" pattern=\"([A-Za-z%!@#$^&*()?_])\\w*\" *ngFor=\"let value of objectKeys(rightDist)\"\r\n                [(ngModel)]=\"lensFormData[value]\" required />\r\n            </td>\r\n            <th>Left Dist</th>\r\n            <td *ngFor=\"let leftDist of lensData.leftDist\">\r\n              <input id=\"_objectKeys2\" type=\"text\" *ngFor=\"let value of objectKeys(leftDist)\" [(ngModel)]=\"lensFormData[value]\" />\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <th>Right Near</th>\r\n            <td *ngFor=\"let rightNear of lensData.rightNear\">\r\n              <input id=\"_objectKeys3\" type=\"text\" *ngFor=\"let value of objectKeys(rightNear)\" [(ngModel)]=\"lensFormData[value]\" />\r\n            </td>\r\n            <th>Left Near</th>\r\n            <td *ngFor=\"let leftNear of lensData.leftNear\">\r\n              <input id=\"_objectKeys4\" type=\"text\" *ngFor=\"let value of objectKeys(leftNear)\" [(ngModel)]=\"lensFormData[value]\" />\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-md-12 col-xs-12 m-b-10\">\r\n      <div class=\"row m-t-10\">\r\n        <div class=\"col-md-2 col-xs-12\">\r\n          <label>Barcode</label>\r\n          <input type=\"text\" id=\"barcodeNm\" name=\"barcodeNm\" [(ngModel)]=\"lensModal.barcodeNm\" (ngModelChange)=\"getLensBarcode('Lense')\" />\r\n        </div>\r\n        <div class=\"col-md-2  col-xs-12\">\r\n          <label>Manufacturer</label>\r\n          <ng-select id=\"manufacturer_Nm\" [items]=\"manufacurersList$ | async\" bindLabel=\"manufacturerNm\"\r\n            [hideSelected]=\"true\" [typeahead]=\"manufacurersListinput$\" [(ngModel)]=\"selectedManufacturer\">\r\n          </ng-select>\r\n        </div>\r\n\r\n        <div class=\"col-md-4 col-xs-12\" *ngIf=\"isDisable === false\">\r\n          <label>Brand Name</label>\r\n          <ng-select id=\"_onAddBrand1\" [addTag]='true' (focus)=\"onFocusLensBrand($event, 'Lense')\" [items]=\"lensBrandNameListSubject | async\"\r\n            bindLabel=\"itemBrandNmWithCombination\" [(ngModel)]=\"itemBrandNmWithCombination\" [typeahead]=\"lensBrandNameListinput$\"\r\n            (change)=\"onSelectBrandName($event)\">\r\n          </ng-select>\r\n        </div>\r\n        <div class=\"col-md-4 col-xs-12\" *ngIf=\"isDisable === true\" >\r\n          <label>Brand Name</label>\r\n          <ng-select id=\"_onAddBrand1\" (focus)=\"onFocusLensBrand($event, 'Lense')\" [items]=\"lensBrandNameListSubject | async\"\r\n            bindLabel=\"itemBrandNmWithCombination\" [(ngModel)]=\"itemBrandNmWithCombination\" [typeahead]=\"lensBrandNameListinput$\"\r\n            (change)=\"onSelectBrandName($event)\">\r\n          </ng-select>\r\n        </div>\r\n\r\n        <div class=\"col-md-2 col-xs-12\">\r\n          <label for=\"Coating Type\">COATING TYPE</label>\r\n          <ng-select id=\"coatingType\" (focus)=\"onFocusBrand($event, 'Lense')\" [items]=\"masterData.CoatingType\"\r\n            bindValue=\"opticalCode\" bindLabel=\"opticalCode\" [(ngModel)]=\"coatingType\">\r\n          </ng-select>\r\n        </div>\r\n\r\n        <div class=\"col-md-2 col-xs-12\">\r\n          <label>Lens Coating</label>\r\n          <ng-select id=\"lensCoating\" (focus)=\"onFocusBrand($event, 'Lense')\" [items]=\"masterData.Coating\" bindValue=\"opticalCode\"\r\n            bindLabel=\"opticalCode\" [(ngModel)]=\"lensCoating\">\r\n          </ng-select>\r\n        </div>\r\n        <div class=\"col-md-2 col-xs-12\">\r\n          <label>INDEX</label>\r\n          <ng-select id=\"lensIndex\" [items]=\"masterData.Index\" bindValue=\"opticalCode\" [searchable]=\"false\" bindLabel=\"opticalCode\"\r\n            [(ngModel)]=\"lensIndex\">\r\n          </ng-select>\r\n        </div>\r\n        <div class=\"col-md-2 col-xs-12\">\r\n          <label>Lens Type</label>\r\n          <ng-select id=\"lensType\" [items]=\"masterData.LensType\" bindValue=\"opticalCode\" [searchable]=\"false\" bindLabel=\"opticalCode\"\r\n            [(ngModel)]=\"lensType\">\r\n          </ng-select>\r\n        </div>\r\n        <!-- for orders-->\r\n        <div class=\"col-md-2 col-xs-12\" *ngIf=\"isDisable === false\">\r\n          <label>Quantity</label>\r\n          <input type=\"text\" onkeypress=\"return event.charCode >= 48 && event.charCode <=57\" maxlength=\"4\" id=\"quantity\"\r\n            name=\"quantity\" [(ngModel)]=\"orderQty\" oninput=\"this.value=Math.abs(this.value)\">\r\n            <span *ngIf=\"quantity\">/{{quantity}}</span>\r\n        </div>\r\n        <div class=\"col-md-2 col-xs-12\" *ngIf=\"isDisable === true\">\r\n          <label>Quantity</label>\r\n          <input type=\"text\" onkeypress=\"return event.charCode >= 48 && event.charCode <=57\" maxlength=\"4\" id=\"quantity\"\r\n            name=\"quantity\" [(ngModel)]=\"lensQty\" oninput=\"this.value=Math.abs(this.value)\">\r\n            <span *ngIf=\"quantity\">/{{quantity}}</span>\r\n        </div>\r\n\r\n        <div class=\"col-md-2 col-xs-12\">\r\n          <label>MRP</label>\r\n          <input type=\"text\" id=\"mrp\" name=\"mrp\" [(ngModel)]=\"brandMrp\" [disabled]=\"isDisable\" />\r\n        </div>\r\n        <div class=\"col-md-2 col-xs-12\">\r\n          <label>HSN</label>\r\n          <input type=\"text\" id=\"hsnCode\" (blur)=\"onAddHsn(hsnCode)\" name=\"hsnCode\" [(ngModel)]=\"hsnCode\" [disabled]=\"isDisable || isTax\" />\r\n        </div>\r\n        <div class=\"col-md-2 col-xs-12\">\r\n          <label>Tax(%)</label>\r\n          <input type=\"number\" id=\"tax\" name=\"tax\" [(ngModel)]=\"tax\" [disabled]=\"isDisable\" [max]=\"100\">\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"col-md-3 no-padding col-xs-12 p-l-10\" *ngIf=\"isDisable === false\">\r\n      <label for=\"manufactureDate\">Expected Delivery Date\r\n        <span class=\"astrik-symbol\">\r\n          <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\r\n        </span>\r\n      </label>\r\n      <p class=\"input-group m-b-0 \">\r\n        <input id=\"_deliveryDate\" type=\"text\" class = \"w_80\" [matDatepicker]=\"deliveryDate\" (click)=\"datePickerToggler(expectedDt)\"\r\n          [(ngModel)]=\"expectedDt\" [min]=\"today\" />\r\n        <mat-datepicker #deliveryDate></mat-datepicker>\r\n        <span class=\"input-group-btn\">\r\n          <button id=\"_button1\" class=\"btn btn-default\" type=\"button\" (click)=\"datePickerToggler(deliveryDate)\">\r\n            <i class=\"fa fa-calendar\"></i>\r\n          </button>\r\n        </span>\r\n      </p>\r\n    </div>\r\n\r\n    <div class=\"col-md-12 prescription-adding-buttons zero-padding\">\r\n      <button id=\"_addItemsToList1\" class=\"secondaryButton m-t-10 m-l-15 m-b-20\" (click)=\"addItemsToList()\">\r\n        Add To List\r\n      </button>\r\n    </div>\r\n  </div>\r\n  <div *ngIf=\"specType === 'contactlens'\">\r\n    <div class=\"optical-spectacles-pos col-md-12 zero-padding\">\r\n      <div class=\"col-md-12 box-panel-form no-padding bg-white lens-details-form m-t-10\">\r\n        <div class=\"col-md-12 p-t-10 form-header border-bottom-1\">\r\n          <p class=\"text-uppercase txt-scarletgum\">Contact Lens Information</p>\r\n        </div>\r\n        <div class=\"col-md-12  col-xs-12 \">\r\n          <div class=\"row m-t-10\">\r\n            <div class=\"col-md-2 col-xs-12\">\r\n              <label>Barcode</label>\r\n              <input type=\"text\" id=\"barcodeNm\" name=\"barcodeNm\" [(ngModel)]=\"contactlensModal.barcodeNm\"\r\n                (ngModelChange)=\"getBarcode('Contact Lense')\" />\r\n            </div>\r\n            <div class=\"col-md-2 col-xs-12\">\r\n              <label>Brand Name</label>\r\n              <ng-select id=\"_onAddBrand1\" (focus)=\"onFocusBrand($event, 'Contact Lense')\" [items]=\"brandNameListSubject | async\"\r\n                bindLabel=\"itemBrandNm\" (change)=\"onAddBrand($event)\" [typeahead]=\"brandNameListinput$\" [(ngModel)]=\"contactlensModal.brandName\">\r\n              </ng-select>\r\n            </div>\r\n            <div class=\"col-md-2 col-xs-12\">\r\n              <label>Serial No</label>\r\n              <ng-select id=\"contactlensModal_serialNo\" [items]=\"batchList\" [searchable]=\"false\" bindLabel=\"serialNo\"\r\n                (change)=\"onAddBatch($event, 'Contact Lense')\" [(ngModel)]=\"contactlensModal.serialNo\">\r\n                <ng-template ng-option-tmp let-item=\"item\" let-index=\"index\" let-search=\"searchTerm\">\r\n                  <div>\r\n                    <h5 class=\"card-title\" [ngOptionHighlight]=\"search\">\r\n                      Serial No: {{ item.serialNo }}\r\n                    </h5>\r\n                    <h6 class=\"card-subtitle mb-2 text-muted\">\r\n                      Available Qty: {{ item.availableQty }}\r\n                    </h6>\r\n                    <p>Vendor : {{ item.vendorNm }}</p>\r\n                    <div *ngIf=\"item.name === 'Pavilnys'\">\r\n                      <a href=\"#\" class=\"card-link\">Card link</a>\r\n                      <a href=\"#\" class=\"card-link\">Another link</a>\r\n                    </div>\r\n                  </div>\r\n                </ng-template>\r\n              </ng-select>\r\n            </div>\r\n            <div class=\"col-md-3\">\r\n              <label>Model No</label>\r\n              <input type=\"text\" id=\"modelNo\" name=\"modelNo\" [(ngModel)]=\"contactlensModal.modelNo\" [disabled]=\"true\" />\r\n            </div>\r\n            <div class=\"col-md-3\">\r\n              <label>Color</label>\r\n              <input type=\"text\" id=\"opticalColorNm\" name=\"opticalColorNm\" [(ngModel)]=\"contactlensModal.opticalColorNm\" [disabled]=\"true\" />\r\n            </div>\r\n          </div>\r\n          <div class=\"row m-t-10\">\r\n            <div class=\"col-md-3\">\r\n              <label for=\"pupillaryDistance\">Pupilary Distance </label>\r\n              <input type=\"text\" id=\"pupillaryDistance\" name=\"pupillaryDistance\" [(ngModel)]=\"contactlensReadings.pupillaryDistance\" />\r\n            </div>\r\n            <div class=\"col-md-3\">\r\n              <label for=\"lbc\">Left Base Curve </label>\r\n              <input type=\"text\" id=\"lbc\" name=\"lbc\" [(ngModel)]=\"contactlensReadings.leftBaseCurve\" />\r\n            </div>\r\n            <div class=\"col-md-3\">\r\n              <label for=\"rbc\">Right Base Curve </label>\r\n              <input type=\"text\" id=\"rbc\" name=\"rbc\" [(ngModel)]=\"contactlensReadings.rightBaseCurve\" />\r\n            </div>\r\n            <div class=\"col-md-3\">\r\n              <label for=\"advice\">Glass Advice</label>\r\n              <input type=\"text\" id=\"advice\" name=\"advice\" [(ngModel)]=\"contactlensReadings.glassTypeAdvice\" />\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row m-t-10 m-b-10\">\r\n              <div class=\"col-md-3 m-t-10\" *ngIf=\"isDisable === true\">\r\n                <label for=\"quantity\">Quantity</label>\r\n                <input type=\"text\" onkeypress=\"return event.charCode >= 48 && event.charCode <=57\" maxlength=\"4\" id=\"quantity\"\r\n                  name=\"quantity\" [(ngModel)]=\"contactlensModal.quantity\" />\r\n              </div>\r\n              <!--quantity for order-->\r\n              <div class=\"col-md-3 m-t-10\" *ngIf=\"isDisable === false\">\r\n                <label for=\"orderQty\">Quantity</label>\r\n                <input type=\"number\" onkeypress=\"return event.charCode >= 48 && event.charCode <=57\" maxlength=\"4\" id=\"orderqty\"\r\n                  name=\"orderqty\" value=\"1\" [(ngModel)]=\"orderQty\" />\r\n              </div>\r\n              <div class=\"col-md-3 m-t-10\">\r\n                <label for=\"brandMrp\">MRP</label>\r\n                <input type=\"text\" id=\"brandMrp\" name=\"brandMrp\" [(ngModel)]=\"contactlensModal.brandMrp\" [disabled]=\"true\" />\r\n              </div>\r\n              <div class=\"col-md-3 m-t-10\">\r\n                <label for=\"hsnCode\">HSN</label>\r\n                <input type=\"text\" id=\"hsnCode\" name=\"hsnCode\" [(ngModel)]=\"contactlensModal.hsnCode\" [disabled]=\"true\" />\r\n              </div>\r\n              <div class=\"col-md-3 m-t-10\">\r\n                <label for=\"tax\">Tax(%)</label>\r\n                <input type=\"text\" id=\"tax\" name=\"tax\" [(ngModel)]=\"contactlensModal.tax\" [disabled]=\"true\" />\r\n              </div>\r\n\r\n            <!-- <div class=\"col-md-6 m-b-10\">\r\n              <label>description</label>\r\n              <textarea type=\"text\" id=\"addressone\" name=\"addressone\" minlength=\"1\" maxlength=\"300\" required\r\n                [(ngModel)]=\"contactlensModal.description\" [disabled]=\"isDisable\"></textarea>\r\n            </div> -->\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-12 m-t-10\">\r\n          <table class=\"table table-bordered lens-table\">\r\n            <tr class=\"lens-table-header\">\r\n              <th>Type</th>\r\n              <th>Sph</th>\r\n              <th>Cyl</th>\r\n              <th>Axis</th>\r\n              <th>VA</th>\r\n              <th>Add</th>\r\n              <th>Type</th>\r\n              <th>Sph</th>\r\n              <th>Cyl</th>\r\n              <th>Axis</th>\r\n              <th>VA</th>\r\n              <th>Add</th>\r\n          </tr>\r\n            <tr>\r\n              <th>Right Dist</th>\r\n              <td *ngFor=\"let rightDist of lensData.rightDist\">\r\n                <span *ngFor=\"let value of objectKeys(rightDist)\">{{ contactlensReadings[value] }}\r\n                </span>\r\n              </td>\r\n              <th>Left Dist</th>\r\n              <td *ngFor=\"let leftDist of lensData.leftDist\">\r\n                <span *ngFor=\"let value of objectKeys(leftDist)\">{{ contactlensReadings[value]}}</span>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <th>Right Near</th>\r\n              <td *ngFor=\"let rightNear of lensData.rightNear\">\r\n                <span *ngFor=\"let value of objectKeys(rightNear)\">{{contactlensReadings[value]}}</span>\r\n              </td>\r\n              <th>Left Near</th>\r\n              <td *ngFor=\"let leftNear of lensData.leftNear\">\r\n                <span *ngFor=\"let value of objectKeys(leftNear)\">{{contactlensReadings[value]}}</span>\r\n              </td>\r\n            </tr>\r\n          </table>\r\n        </div>\r\n\r\n        <div class=\"col-md-12 m-t-20 m-b-20\">\r\n          <mat-checkbox class=\"m-r-20\" [(ngModel)]=\"contactlensReadings.arcGlass\" color=\"primary\">Arc</mat-checkbox>\r\n          <mat-checkbox class=\"m-r-20\" [(ngModel)]=\"contactlensReadings.bifocalGlass\" color=\"primary\">Bifocal</mat-checkbox>\r\n          <mat-checkbox class=\"m-r-20\" [(ngModel)]=\"contactlensReadings.constGlass\" color=\"primary\">Const</mat-checkbox>\r\n          <mat-checkbox class=\"m-r-20\" [(ngModel)]=\"contactlensReadings.photosunGlass\" color=\"primary\">Photosun</mat-checkbox>\r\n          <mat-checkbox class=\"m-r-20\" [(ngModel)]=\"contactlensReadings.progressiveGlass\" color=\"primary\">Progressive</mat-checkbox>\r\n          <mat-checkbox [(ngModel)]=\"contactlensReadings.glass\" color=\"primary\">Glass</mat-checkbox>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-md-12 prescription-adding-buttons zero-padding\">\r\n        <button id=\"_addItemsToList1\" class=\"secondaryButton m-l-15 m-b-20\" (click)=\"addItemsToList()\">\r\n          Add To List\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n<div class=\"side-nav\">\r\n<mat-sidenav-container>\r\n  <mat-sidenav #sideNav mode=\"side\" position=\"end\">\r\n    <div class=\"col-sm-12 no-padding\">\r\n      <div class=\"col-sm-12 no-padding p-l-5\">\r\n        <div class=\"col-sm-6 no-padding m-t-10\"><label> Glass Rx Details </label></div>\r\n        <div class=\"close-icon m-t-5 p-r-5\" (click)=\"closeViewRef()\"><i class=\"fa fa-times\" aria-hidden=\"true\"></i>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-12 no-padding m-t-10 patient-details-container\" *ngIf=\"patientData.length\">\r\n        <div class=\"col-sm-12 no-padding\">\r\n          <h2 class=\"m-t-0\">{{patientData[0].firstNm}} {{patientData[0].lastNm}}</h2>\r\n        </div>\r\n        <div class=\"col-sm-12 no-padding pt-dtl-container\">\r\n          <ul class=\"pt-dtl\">\r\n            <li>{{patientData[0].hosPatientId}}</li>\r\n            <li>{{patientData[0].gender}}</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <div class=\"m-l-10\">\r\n        <div class=\"col-sm-12 visit-dt m-t-5 m-b-5\" *ngFor=\"let obj of visitData\" (click)=\"getlensData(obj)\">\r\n          <label>\r\n            {{obj.visitDt}} - {{obj.ptId}}\r\n          </label>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </mat-sidenav>\r\n</mat-sidenav-container>\r\n</div>\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  ChangeDetectorRef,\r\n  Output,\r\n  EventEmitter,\r\n  SimpleChanges,\r\n  OnChanges,\r\n  Input,\r\n  ViewChild,\r\n  OnDestroy\r\n} from '@angular/core';\r\nimport { MatDialog, MAT_DIALOG_DATA, MatSidenav } from '@angular/material';\r\nimport { MatDatepicker } from '@angular/material/datepicker';\r\nimport { OsDialogComponent } from '@app/modules/optical-store/containers/os-dialog/os-dialog.component';\r\nimport { Observable, Subject, of, concat, Subscription } from 'rxjs';\r\nimport {\r\n  debounceTime,\r\n  distinctUntilChanged,\r\n  filter,\r\n  switchMap,\r\n  map,\r\n  catchError,\r\n  multicast\r\n} from 'rxjs/operators';\r\nimport { OpticalStoreService } from '@app/modules/optical-store/opticalStore.service';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport {\r\n  OpticalStoreApiService,\r\n  LoginApiService,\r\n  UtilService\r\n} from '@core/services';\r\nimport { Store, select } from '@ngrx/store';\r\nimport { DatePipe } from '@angular/common';\r\nimport { UserSession } from '@core/models/user-session';\r\nimport { UserService } from '@core/services/user.service';\r\nimport { ActivatedRoute, Params } from '@angular/router';\r\nimport { ThrowStmt } from '../../../../../../node_modules/@angular/compiler';\r\nimport { PatientdataService } from '@app/modules/opd/components/allpatients/patientdata.service';\r\nimport { AutoUnsubscribe } from 'ngx-auto-unsubscribe';\r\n// @AutoUnsubscribe()\r\n\r\n// import { RegisterationBillingService, UtilService } from '@core/services';\r\n// import { EventEmitter } from 'protractor';\r\n@Component({\r\n  selector: 'app-spectacles',\r\n  templateUrl: './spectacles.component.html',\r\n  styleUrls: ['./spectacles.component.scss']\r\n})\r\nexport class SpectaclesComponent implements OnInit, OnChanges, OnDestroy {\r\n  @Output()\r\n  addToTable = new EventEmitter();\r\n  @Input()\r\n  clearPos;\r\n  @ViewChild('sideNav')\r\n  sideNav: MatSidenav;\r\n  public manufacturersList: any[] = [];\r\n  public objectKeys = Object.keys;\r\n  posFormsForm: FormGroup;\r\n  mdlSampleIsOpen: Boolean = false;\r\n  showingLensTable: Boolean = true;\r\n  isHavingPower: Boolean = true;\r\n  isDisable: Boolean = true;\r\n  isTax: Boolean = false;\r\n  brandNameList$: Observable<any>;\r\n  manufacurersList$: Observable<any>;\r\n  lensBrandNameList$: Observable<any>;\r\n  brandNameListMuticased: Observable<any>;\r\n  manufacurersListinput$ = new Subject<string>();\r\n  public brandNameListSubject: Subject<any>;\r\n  public lensBrandNameListSubject: Subject<any>;\r\n  public sessionData: UserSession;\r\n  brandNameListinput$ = new Subject<string>();\r\n  lensBrandNameListinput$ = new Subject<string>();\r\n  brandNames: any[] = [];\r\n  barcodeData: any[] = [];\r\n  lensBarcodeData: any[] = [];\r\n  specsData: any;\r\n  lensDetailData = <any>{};\r\n  masterData = <any>{};\r\n  public framesData = <any>{};\r\n  public itemBrandNm: any;\r\n  public serialNo;\r\n  public itemBrandNmWithCombination;\r\n  specType = 'lens';\r\n  public opticalItemType: any;\r\n  availableQuantity;\r\n  brandMrp;\r\n  pupillaryDistance;\r\n  barcodeNm;\r\n  batchList: any[] = [];\r\n  public lensType;\r\n  public lensCoating;\r\n  public lensIndex;\r\n  public coatingType;\r\n  public tax;\r\n  // public qty;\r\n  public lensQty;\r\n  public hsnCode;\r\n  public quantity;\r\n  public selectedManufacturer;\r\n  public cgstperct;\r\n  public sgstperct;\r\n  public opticalLensInventoryId;\r\n  public orderType;\r\n  public orderQty;\r\n  public expectedDt;\r\n  public data;\r\n  public today = new Date();\r\n\r\n  name = this.utilService.generateUniqueId();\r\n  // lensFormData: any = {\r\n  //   arcGlass: false,\r\n  //   bifocalGlass: false,\r\n  //   constGlass: false,\r\n  //   photosunGlass: false,\r\n  //   progressiveGlass: false,\r\n  //   glass: false\r\n  // };\r\n  lensFormData = <any>{};\r\n  lensData = {\r\n    rightDist: [\r\n      { distanceRightSph: '' },\r\n      { distanceRightCyl: '' },\r\n      { distanceRightAxis: '' },\r\n      { distanceRightVa: '' },\r\n      { distanceRightAddSph: '' },\r\n    ],\r\n    leftDist: [\r\n      { distanceLeftSph: '' },\r\n      { distanceLeftCyl: '' },\r\n      { distanceLeftAxis: '' },\r\n      { distanceLeftVa: '' },\r\n      { distanceLeftAddSph: '' },\r\n    ],\r\n    rightNear: [\r\n      { nearRightSph: '' },\r\n      { nearRightCyl: '' },\r\n      { nearRightAxis: '' },\r\n      { nearRightVa: '' },\r\n      { nearRightAddSph: '' }\r\n    ],\r\n    leftNear: [\r\n      { nearLeftSph: '' },\r\n      { nearLeftCyl: '' },\r\n      { nearLeftAxis: '' },\r\n      { nearLeftVa: '' },\r\n      { nearLeftAddSph: '' },\r\n    ]\r\n  };\r\n  contactlensModal: any = {};\r\n  lensModal: any = {};\r\n  contactlensReadings: any = {};\r\n  public patientData: any;\r\n  public patientVisitedData: any;\r\n  public visitData = [];\r\n  public prescriptionData: any;\r\n  private patientDataSubscription: Subscription;\r\n  patientId: any;\r\n  constructor(\r\n    public dialog: MatDialog,\r\n    private changeDecRef: ChangeDetectorRef,\r\n    private opticalService: OpticalStoreApiService,\r\n    private componentOpticalStoreService: OpticalStoreService,\r\n    private toaster: ToastrService,\r\n    private activatedRoute: ActivatedRoute,\r\n    private formbuilder: FormBuilder,\r\n    private store: Store<any>,\r\n    private loginService: LoginApiService,\r\n    private userService: UserService,\r\n    private datePipe: DatePipe,\r\n    private utilService: UtilService\r\n  ) {\r\n    this.sessionData = userService.getUser();\r\n  }\r\n  ngOnInit() {\r\n    this.componentOpticalStoreService.paymentData.next(null);\r\n    this.patientDataSubscription = this.componentOpticalStoreService.patientData.subscribe(\r\n      val => {\r\n        if (val) {\r\n          this.patientData = val;\r\n          // this.patientId = this.patientData[0].patientId;\r\n          this.patientId = this.patientData ? this.patientData[0].patientId : null;\r\n        }\r\n      }\r\n    );\r\n\r\n    this.activatedRoute.queryParams.subscribe((params: Params) => {\r\n      this.orderType = params['type'];\r\n      console.log(this.orderType);\r\n    });\r\n    this.fetchBrandNames();\r\n    this.fetchManufacturersList();\r\n    this.fetchLensBrandNames();\r\n    ['Coating Type', 'Coating', 'Index', 'Lens Type'].map(masterData => {\r\n      this.fetchMasterData(masterData, data => {\r\n        masterData = masterData.replace(' ', '');\r\n        this.masterData[masterData] = data;\r\n      });\r\n    });\r\n    if (this.orderType === 'order') {\r\n      this.isDisable = false;\r\n    }\r\n  }\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes.clearPos) {\r\n      this.framesData = {};\r\n      this.contactlensModal = {};\r\n      (this.lensModal = {}), (this.contactlensReadings = {});\r\n      this.itemBrandNm = null;\r\n      this.serialNo = null;\r\n    }\r\n  }\r\n  datePickerToggler(datePicker: MatDatepicker<Date>) {\r\n    datePicker[datePicker.opened ? 'close' : 'open']();\r\n  }\r\n\r\n  viewRx() {\r\n    this.visitData = [];\r\n    this.sideNav.open();\r\n    const payload = {\r\n      isActive: true,\r\n      orgId: this.sessionData.orgId,\r\n      patientId: this.patientId,\r\n      createdUsrId: this.sessionData.regId,\r\n      orgGrpId: this.sessionData.orgGroupId\r\n    };\r\n    this.opticalService.fetchOpthamalogyVisits(payload).subscribe(response => {\r\n      if (response && response.responseCode === 'E200') {\r\n        this.patientVisitedData = response.data;\r\n        if (this.patientVisitedData && this.patientVisitedData.length) {\r\n          this.patientVisitedData.forEach(element => {\r\n            const obj = {\r\n              visitDt: element.visit_dt.slice(0, 10),\r\n              ptId: element.hosPatientId,\r\n              patientId: element.patientId,\r\n              visitId: element.patientVisitId\r\n            };\r\n            this.visitData.push(obj);\r\n          });\r\n        }\r\n      } else if (response && response.responseCode === 'E400') {\r\n        this.toaster.error('fail');\r\n      }\r\n    });\r\n  }\r\n\r\n  getlensData(data) {\r\n    const payload = {\r\n      patientId: data.patientId,\r\n      patientVisitId: data.visitId,\r\n      orgId: this.sessionData.orgId,\r\n      createdUsrId: this.sessionData.regId,\r\n      orgGrpId: this.sessionData.orgGroupId\r\n    };\r\n    this.opticalService\r\n      .fetchOpthamalogyPrescription(payload)\r\n      .subscribe(response => {\r\n        if (response && response.responseCode === 'E200') {\r\n          this.sideNav.close();\r\n          this.prescriptionData = response.data[0];\r\n          this.lensFormData = {\r\n            distanceRightSph: this.prescriptionData.distanceRightSph,\r\n            distanceRightCyl: this.prescriptionData.distanceRightCyl,\r\n            distanceRightAxis: this.prescriptionData.distanceRightAxis,\r\n            distanceRightVa: this.prescriptionData.distanceRightVa,\r\n            distanceRightAddSph: '',\r\n            distanceLeftSph: this.prescriptionData.distanceLeftSph,\r\n            distanceLeftCyl: this.prescriptionData.distanceLeftCyl,\r\n            distanceLeftAxis: this.prescriptionData.distanceLeftAxis,\r\n            distanceLeftVa: this.prescriptionData.distanceLeftVa,\r\n            distanceLeftAddSph: '',\r\n            nearRightSph: this.prescriptionData.nearRightSph,\r\n            nearRightCyl: this.prescriptionData.nearRightCyl,\r\n            nearRightAxis: this.prescriptionData.nearRightAxis,\r\n            nearRightVa: this.prescriptionData.nearRightVa,\r\n            nearRightAddSph: '',\r\n            nearLeftSph: this.prescriptionData.nearLeftSph,\r\n            nearLeftCyl: this.prescriptionData.nearLeftCyl,\r\n            nearLeftAxis: this.prescriptionData.nearLeftAxis,\r\n            nearLeftVa: this.prescriptionData.nearLeftVa,\r\n            nearLeftAddSph: '',\r\n          };\r\n        } else if (response && response.responseCode === 'E400') {\r\n          this.toaster.error('Error', response.responseMessage);\r\n        }\r\n      });\r\n  }\r\n\r\n  closeViewRef() {\r\n    this.sideNav.close();\r\n  }\r\n\r\n  zeroPower() {\r\n    this.isHavingPower = false;\r\n    // this.selectedManufacturer = null;\r\n    // this.lensType = null;\r\n    // this.lensCoating = null;\r\n    // this.lensIndex = null;\r\n    // this.coatingType = null;\r\n    // this.lensModal.barcodeNm = null;\r\n    // this.tax = null;\r\n    // this.hsnCode = null;\r\n    // this.brandMrp = null;\r\n    // this.quantity = null;\r\n    // this.lensQty = null;\r\n    // this.itemBrandNm = null;\r\n    // this.itemBrandNmWithCombination = null;\r\n    // this.orderQty = null;\r\n    // this.expectedDt = null;\r\n    this.contactlensReadings = {};\r\n    this.lensFormData = {};\r\n     }\r\n  withPower() {\r\n    this.isHavingPower = true;\r\n    // this.selectedManufacturer = null;\r\n    // this.lensType = null;\r\n    // this.lensCoating = null;\r\n    // this.lensIndex = null;\r\n    // this.coatingType = null;\r\n    // this.lensModal.barcodeNm = null;\r\n    // this.tax = null;\r\n    // this.hsnCode = null;\r\n    // this.brandMrp = null;\r\n    // this.quantity = null;\r\n    // this.lensQty = null;\r\n    // this.itemBrandNm = null;\r\n    // this.itemBrandNmWithCombination = null;\r\n    // this.orderQty = null;\r\n    // this.expectedDt = null;\r\n    this.contactlensReadings = {};\r\n    this.lensFormData = {};\r\n  }\r\n\r\n\r\n\r\n  getBarcode(type) {\r\n    this.opticalItemType = this.componentOpticalStoreService.getCurrentOpticalItem(\r\n      type\r\n    );\r\n    const framesBarcodeName = this.framesData.barcodeNm;\r\n    const lensBarcodeName = this.contactlensModal.barcodeNm;\r\n    if (this.contactlensModal.barcodeNm) {\r\n      const payload: any = {\r\n        createdUsrId: this.sessionData.regId,\r\n        orgGrpId: this.sessionData.orgGroupId,\r\n        orgId: this.sessionData.orgId,\r\n        itemTypeId: this.opticalItemType.opticalTypeId\r\n      };\r\n      if (this.framesData.barcodeNm) {\r\n        payload.barcode = this.framesData.barcodeNm;\r\n      } else if (this.contactlensModal.barcodeNm) {\r\n        payload.barcode = this.contactlensModal.barcodeNm;\r\n      }\r\n      this.opticalService\r\n        .fetchBrandsOpticalPos(payload)\r\n        .subscribe((response: any) => {\r\n          if (response.responseCode === 'E200') {\r\n            this.barcodeData = response.data;\r\n          } else if (response.response === 'E400') {\r\n            // return (this.manufacturersList = []);\r\n          }\r\n        });\r\n    }\r\n  }\r\n  // function for getting manufacture list\r\n  fetchManufacturersList() {\r\n    this.manufacurersList$ = concat(of([]), // default items\r\n      this.manufacurersListinput$.pipe(\r\n        debounceTime(200),\r\n        distinctUntilChanged(),\r\n        filter(checkStringCount => {\r\n          if (checkStringCount.length > 1) {\r\n            return true;\r\n          }\r\n        }),\r\n        //  tap(() => this.people3Loading = true),\r\n        switchMap((term: string) => {\r\n          const payload = {\r\n            orgId: this.sessionData.orgId,\r\n            orgGrpId: this.sessionData.orgGroupId,\r\n            createdUsrId: this.sessionData.regId,\r\n            manufacturerNm: term\r\n          };\r\n          return this.opticalService.fetchManufacturersList(payload).pipe(\r\n            map((response: any) => {\r\n              if (response.responseCode === 'E200') {\r\n                return (this.manufacturersList = response.data);\r\n              } else if (response.response === 'E400') {\r\n                return (this.manufacturersList = []);\r\n              }\r\n            }),\r\n            catchError(error => {\r\n              return of([]);\r\n            })\r\n          );\r\n        })\r\n      )\r\n    );\r\n  }\r\n\r\n  // function for getting barcode based information\r\n  getLensBarcode(type) {\r\n    this.opticalItemType = this.componentOpticalStoreService.getCurrentOpticalItem(\r\n      type\r\n    );\r\n    if (this.lensModal.barcodeNm) {\r\n      const payload: any = {\r\n        createdUsrId: this.sessionData.regId,\r\n        orgGrpId: this.sessionData.orgGroupId,\r\n        orgId: this.sessionData.orgId,\r\n        barcode: this.lensModal.barcodeNm\r\n      };\r\n      this.opticalService\r\n        .fetchOpticalInventoryLensForPOS(payload)\r\n        .subscribe((response: any) => {\r\n          if (response.responseCode === 'E200') {\r\n            this.lensBarcodeData = response.data;\r\n          } else if (response.response === 'E400') {\r\n            this.toaster.error('Failure!', 'Something went wrong');\r\n          }\r\n        });\r\n    }\r\n  }\r\n  onAddHsn(hsnNewCode) {\r\n    if (!this.hsnCode) {\r\n      return;\r\n    }\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId,\r\n      hsnCode: hsnNewCode\r\n    };\r\n    this.opticalService.hsnDetails<any>(payload).subscribe(\r\n      response => {\r\n        if (response.responseCode === 'E200') {\r\n          if (response.data && response.data.cgstTaxPercntg) {\r\n            this.tax =\r\n              response.data.cgstTaxPercntg + response.data.sgstTaxPercntg;\r\n            this.isTax = true;\r\n          } else {\r\n            this.isTax = false;\r\n          }\r\n        } else if (response.responseCode === 'E400') {\r\n          this.toaster.error('Failure!', 'Something went wrong');\r\n        }\r\n      },\r\n      () => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n\r\n  fetchBrandNames() {\r\n    this.brandNameListSubject = new Subject();\r\n    this.brandNameList$ = concat(\r\n      of([]), // default items\r\n      this.brandNameListinput$.pipe(\r\n        debounceTime(200),\r\n        distinctUntilChanged(),\r\n        filter(checkStringCount => {\r\n          if (checkStringCount && checkStringCount.length > 1) {\r\n            return true;\r\n          }\r\n        }),\r\n        //  tap(() => this.people3Loading = true),\r\n        switchMap((term: string) => {\r\n          const payload: any = {\r\n            createdUsrId: this.sessionData.regId,\r\n            itemTypeId: this.opticalItemType.opticalTypeId,\r\n            orgGrpId: this.sessionData.orgGroupId,\r\n            orgId: this.sessionData.orgId,\r\n            itemBrandNm: term\r\n          };\r\n\r\n          return this.opticalService.fetchBrandsOpticalPos(payload).pipe(\r\n            map((response: any) => {\r\n              if (response.responseCode === 'E200') {\r\n                return response.data;\r\n              } else if (response.response === 'E400') {\r\n                // return (this.manufacturersList = []);\r\n              }\r\n            }),\r\n            catchError(error => {\r\n              return of([]);\r\n            })\r\n          );\r\n        })\r\n      )\r\n    );\r\n    this.brandNameList$.subscribe(this.brandNameListSubject);\r\n  }\r\n\r\n  // fetch Api for lens data\r\n\r\n  fetchLensBrandNames() {\r\n    this.lensBrandNameListSubject = new Subject();\r\n    this.lensBrandNameList$ = concat(\r\n      of([]), // default items\r\n      this.lensBrandNameListinput$.pipe(\r\n        debounceTime(200),\r\n        distinctUntilChanged(),\r\n        filter(checkStringCount => {\r\n          if (checkStringCount && checkStringCount.length > 1) {\r\n            return true;\r\n          }\r\n        }),\r\n        switchMap((term: string) => {\r\n          const payload: any = {\r\n            createdUsrId: this.sessionData.regId,\r\n            orgGrpId: this.sessionData.orgGroupId,\r\n            orgId: this.sessionData.orgId,\r\n            manufacturerNm: null,\r\n            itemBrandNm: term\r\n          };\r\n          if (\r\n            this.selectedManufacturer &&\r\n            this.selectedManufacturer.manufacturerNm\r\n          ) {\r\n            payload.manufacturerNm = this.selectedManufacturer.manufacturerNm;\r\n          }\r\n          return this.opticalService\r\n            .fetchOpticalInventoryLensForPOS(payload)\r\n            .pipe(\r\n              map((response: any) => {\r\n                if (response.responseCode === 'E200') {\r\n                  this.specsData = response.data;\r\n                  // this.lensModal = response.data;\r\n                  const specData = this.specsData[0];\r\n                  this.lensModal.vendorId = specData.venendorId;\r\n                  this.lensModal.vendorNm = specData.vendorNm;\r\n                  this.lensModal.barcode = specData.barcode;\r\n                  this.lensModal.manufacturerNm = specData.manufacturerNm;\r\n                  this.lensModal.manufacturingDt = specData.manufacturingDt;\r\n                  this.lensModal.availableQty = specData.availableQty;\r\n                  this.lensModal.receivedQty = specData.receivedQty;\r\n                  this.lensModal.imagePath = specData.imagePath;\r\n                  this.lensModal.vendorLensInvoiceDetailedId =\r\n                    specData.vendorLensInvoiceDetailedId;\r\n                  this.lensModal.costPrice = specData.costPrice;\r\n                  this.lensModal.isactive = specData.isactive;\r\n                  this.lensModal.createdDttm = specData.createdDttm;\r\n                  this.lensModal.costPrice = specData.costPrice;\r\n                  this.lensModal.markUp = specData.markUp;\r\n                  this.lensModal.cgstTaxPercntg = specData.cgstTaxPercntg;\r\n                  this.lensModal.sgstTaxPercntg = specData.sgstTaxPercntg;\r\n\r\n                  return response.data;\r\n                } else if (response.response === 'E400') {\r\n                  // return (this.manufacturersList = []);\r\n                }\r\n              }),\r\n              catchError(error => {\r\n                return of([]);\r\n              })\r\n            );\r\n        })\r\n      )\r\n    );\r\n    this.lensBrandNameList$.subscribe(this.lensBrandNameListSubject);\r\n  }\r\n  onSelectBrandName(data) {\r\n    if (typeof data === 'string') {\r\n      data = { itemBrandNmWithCombination: data };\r\n    }\r\n    this.lensType = data.lensType;\r\n    this.lensCoating = data.lensCoating;\r\n    this.lensIndex = data.lensIndex;\r\n    this.coatingType = data.coatingType;\r\n    this.opticalLensInventoryId = data.opticalLensInventoryId;\r\n    this.itemBrandNm = data.itemBrandNm;\r\n    this.itemBrandNmWithCombination = data.itemBrandNmWithCombination;\r\n    this.hsnCode = data.hsnCode;\r\n    this.brandMrp = data.brandMrp;\r\n    this.quantity = data.availableQty;\r\n    this.cgstperct = data.cgstTaxPercntg;\r\n    this.sgstperct = data.sgstTaxPercntg;\r\n    this.lensModal.quantity = data.availableQty;\r\n    this.lensModal.barcodeNm = data.barcode;\r\n    if (this.cgstperct) {\r\n      this.tax = data.sgstTaxPercntg + data.cgstTaxPercntg;\r\n    } else {\r\n      this.tax = null;\r\n    }\r\n  }\r\n  onAddBrand(brand) {\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId,\r\n      itemTypeId: this.opticalItemType.opticalTypeId,\r\n      opticalItemId: brand.opticalItemId,\r\n      itemBrandNm: brand.itemBrandNm\r\n    };\r\n    this.opticalService.fetchBatchesOpticalPos(payload).subscribe(\r\n      (response: any) => {\r\n        if (response.responseCode === 'E200') {\r\n          this.batchList = response.data;\r\n        } else if (response.response === 'E400') {\r\n          this.toaster.error('Failure!', 'Something went wrong');\r\n        }\r\n      },\r\n      err => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n\r\n  // on adding coating type\r\n\r\n  onAddLensFields(selectData, type) {\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId,\r\n      itemTypeId: this.opticalItemType.opticalTypeId,\r\n      // opticalItemId: brand.opticalItemId,\r\n      coatingType: selectData.coatingType,\r\n      lensCoating: null,\r\n      lensIndex: null,\r\n      lensType: null\r\n    };\r\n    if (type === 'LENSCOATING') {\r\n      payload.lensCoating = selectData.lensCoating;\r\n    }\r\n    if (type === 'LENSINDEX') {\r\n      payload.lensIndex = selectData.lensIndex;\r\n    }\r\n    if (type === 'LENSTYPE') {\r\n      payload.lensType = selectData.lensType;\r\n    }\r\n    this.opticalService.fetchOpticalInventoryLensForPOS(payload).subscribe(\r\n      (response: any) => {\r\n        if (response.responseCode === 'E200') {\r\n          this.lensDetailData[type] = response.data;\r\n        } else if (response.response === 'E400') {\r\n          this.toaster.error('Failure!', 'Something went wrong');\r\n        }\r\n      },\r\n      () => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n\r\n  onAddBatch(batch, batchType) {\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId,\r\n      itemTypeId: this.opticalItemType.opticalTypeId,\r\n      opticalInventoryId: batch.opticalInventoryId\r\n    };\r\n    this.opticalService.fetchInventoryList(payload).subscribe(\r\n      (response: any) => {\r\n        if (response.responseCode === 'E200') {\r\n          if (batchType === 'Contact Lense') {\r\n            this.contactlensModal = {\r\n              ...this.contactlensModal,\r\n              ...response.data[0]\r\n            };\r\n            if (this.contactlensModal.serialNo) {\r\n              this.contactlensModal.quantity = 1;\r\n            }\r\n            this.contactlensModal.tax =\r\n              this.contactlensModal.cgstTaxPercntg +\r\n              this.contactlensModal.sgstTaxPercntg;\r\n            this.contactlensReadings =\r\n              response.data[0].insertContactLensSaleOrOrder;\r\n          }\r\n        } else if (response.response === 'E400') {\r\n          this.toaster.error('Failure!', 'Something went wrong');\r\n        }\r\n      },\r\n      () => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n  fetchMasterData(opticalType, cb) {\r\n    const payload = {\r\n      createdUsrId: this.sessionData.regId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      orgId: this.sessionData.orgId,\r\n      opticalType\r\n    };\r\n    this.opticalService.opticalMasterData(payload).subscribe(\r\n      (response: any) => {\r\n        if (response.responseCode === 'E200') {\r\n          const { data } = response;\r\n          if (cb && typeof cb === 'function') {\r\n            cb(data);\r\n          }\r\n        } else if (response.response === 'E400') {\r\n          this.toaster.error('Failure!', response.responseMessage);\r\n        }\r\n      },\r\n      () => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n  addItemsToList() {\r\n    if (\r\n      this.isEmptyObject(this.contactlensModal) &&\r\n      this.isEmptyObject(this.lensModal)\r\n    ) {\r\n      this.toaster.warning('Please Add Items');\r\n      return;\r\n    }\r\n    if (!this.isEmptyObject(this.contactlensModal)) {\r\n      if (\r\n        !this.contactlensModal.quantity ||\r\n        isNaN(Number(this.contactlensModal.quantity))\r\n      ) {\r\n        this.toaster.warning('Please Give Valid Quantity for Contact Lens');\r\n        return;\r\n      } else if (\r\n        this.contactlensModal.quantity > this.contactlensModal.availableQty\r\n      ) {\r\n        this.toaster.warning(\r\n          'Failure!',\r\n          'Quantity should not be more than Available Quantity'\r\n        );\r\n        return;\r\n      }\r\n      this.contactlensModal.type = 'Contact Lense';\r\n      if (this.orderType === 'order') {\r\n        this.contactlensModal.orderQty = this.orderQty;\r\n        if (!this.contactlensModal.orderQty) {\r\n          this.toaster.warning('Failure!', 'Please Enter Quantity');\r\n          return;\r\n        }\r\n        if (this.contactlensModal.orderQty > this.contactlensModal.availableQty) {\r\n          this.toaster.warning('Failure!', 'Quantity should not be greater than available Quantity');\r\n          return;\r\n        }\r\n      }\r\n      this.addToTable.emit(this.contactlensModal);\r\n      this.contactlensModal = {};\r\n      this.contactlensReadings = {};\r\n      this.orderQty = null;\r\n      this.brandMrp = null;\r\n      this.batchList = [];\r\n    }\r\n    if (!this.isEmptyObject(this.lensModal)) {\r\n      if ((!this.orderType) || (this.orderType === 'sale')) {\r\n        if (\r\n          !this.lensQty ||\r\n          isNaN(Number(this.lensQty))\r\n        ) {\r\n          this.toaster.warning('Please Give Valid Quantity for Lens');\r\n          return;\r\n        }\r\n         if (\r\n          this.lensQty > this.lensModal.availableQty\r\n        ) {\r\n          this.toaster.warning(\r\n            'Failure!',\r\n            'Quantity should not be more than Available Quantity'\r\n          );\r\n          return;\r\n        }\r\n      this.lensModal.quantity = this.lensQty;\r\n\r\n      }\r\n      if (\r\n        this.isHavingPower === true &&\r\n        this.isEmptyObject(this.lensFormData)\r\n      ) {\r\n        this.toaster.warning(\r\n          'Failure!',\r\n          'Please enter any one of the fields in the prescription table'\r\n        );\r\n        return;\r\n      }\r\n      this.lensModal.type = 'Lense';\r\n      if (this.orderType === 'order') {\r\n        this.lensModal.orderQty = this.orderQty;\r\n        // this.lensModal.expectedDt = this.expectedDt;\r\n        this.data = this.expectedDt;\r\n        this.lensModal.expectedDt = this.datePipe.transform(\r\n          this.data,\r\n          'yyyy-MM-dd'\r\n        );\r\n        if (!this.lensModal.orderQty) {\r\n          this.toaster.warning('Failure!', 'Please Enter Quantity');\r\n          return;\r\n        }\r\n        if (!this.lensModal.expectedDt) {\r\n          this.toaster.warning(\r\n            'Failure!',\r\n            'Please Enter Expected Delivery Date'\r\n          );\r\n          return;\r\n        }\r\n        if (this.orderQty > this.quantity) {\r\n          this.toaster.warning('Failure!', 'Quantity should not be greater than available Quantity');\r\n           return;\r\n        }\r\n        if (this.tax > 100) {\r\n          this.toaster.warning('Failure!', 'Tax should not be greater than 100');\r\n          return;\r\n        }\r\n      }\r\n\r\n      // if ((!this.orderType) || (this.orderType === 'sale')) {\r\n      // this.lensModal.quantity = this.lensQty;\r\n      // if (this.lensQty > this.quantity) {\r\n      //   this.toaster.warning('Failure!', 'Quantity should not be greater than available Quantity');\r\n      //   return;\r\n      // }\r\n      //  }\r\n      // itemTypeNm and itemTypeId is hardcoded here\r\n      this.lensModal.itemTypeNm = 'Lense';\r\n      this.lensModal.itemTypeId = 101;\r\n      this.lensModal.lensType = this.lensType;\r\n      this.lensModal.lensCoating = this.lensCoating;\r\n      this.lensModal.lensIndex = this.lensIndex;\r\n      this.lensModal.coatingType = this.coatingType;\r\n      this.lensModal.tax = this.tax;\r\n      this.lensModal.barcode = this.lensModal.barcodeNm;\r\n      this.lensModal.hsnCode = this.hsnCode;\r\n      this.lensModal.brandMrp = this.brandMrp;\r\n      this.lensModal.opticalLensInventoryId = this.opticalLensInventoryId;\r\n      this.lensModal.itemBrandNm = this.itemBrandNm;\r\n      this.lensModal.isHavingPower = this.isHavingPower;\r\n      this.lensModal.manufacturerNm = this.selectedManufacturer ? this.selectedManufacturer.manufacturerNm : '';\r\n      if (!this.itemBrandNm) {\r\n        this.lensModal.itemBrandNm = this.itemBrandNmWithCombination;\r\n      }\r\n\r\n      if (this.orderType === 'order') {\r\n        this.lensModal.ordersLensConfigurationItemReqAndRes = this.lensFormData;\r\n      } else {\r\n        this.lensModal.lensPrescriptionReqAndRes = this.lensFormData;\r\n      }\r\n        if (this.sgstperct) {\r\n        this.lensModal.sgstTaxPercntg = this.sgstperct;\r\n        this.lensModal.cgstTaxPercntg = this.cgstperct;\r\n      } else {\r\n        this.lensModal.sgstTaxPercntg = this.tax / 2;\r\n        this.lensModal.cgstTaxPercntg = this.tax / 2;\r\n      }\r\n      this.addToTable.emit(this.lensModal);\r\n      this.lensModal = {};\r\n      this.specsData = {};\r\n      this.lensDetailData = {};\r\n      this.lensFormData = {};\r\n      this.selectedManufacturer = null;\r\n      this.lensType = null;\r\n      this.lensCoating = null;\r\n      this.lensIndex = null;\r\n      this.coatingType = null;\r\n      this.lensModal.barcodeNm = null;\r\n      this.tax = null;\r\n      this.hsnCode = null;\r\n      this.brandMrp = null;\r\n      this.quantity = null;\r\n      this.lensQty = null;\r\n      this.itemBrandNm = null;\r\n      this.itemBrandNmWithCombination = null;\r\n      this.orderQty = null;\r\n      this.expectedDt = null;\r\n      this.contactlensReadings = {};\r\n      this.isTax = false;\r\n    }\r\n  }\r\n\r\n  isEmptyObject(obj) {\r\n    for (const prop in obj) {\r\n      if (obj.hasOwnProperty(prop)) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  onFocusBrand(ev, type) {\r\n    if (this.framesData.barcodeNm) {\r\n      this.getBarcode('Frame');\r\n    }\r\n    this.brandNameListSubject.next([]);\r\n    this.opticalItemType = this.componentOpticalStoreService.getCurrentOpticalItem(\r\n      type\r\n    );\r\n\r\n    this.brandNameListSubject.next(this.barcodeData);\r\n  }\r\n  onFocusLensBrand(ev, type) {\r\n    if (this.lensModal.barcodeNm) {\r\n      this.getLensBarcode('Lense');\r\n    }\r\n    this.lensBrandNameListSubject.next([]);\r\n    this.opticalItemType = this.componentOpticalStoreService.getCurrentOpticalItem(\r\n      type\r\n    );\r\n    this.lensBrandNameListSubject.next(this.lensBarcodeData);\r\n  }\r\n  ngOnDestroy() {\r\n  }\r\n}\r\n","<div class=\"text-center\" (click)=\"modalOpen()\">\r\n  <a class=\"ag-grid-pay-now-text-color\">Pay Now</a>\r\n</div>\r\n","import { Component, ViewEncapsulation, ChangeDetectorRef } from '@angular/core';\r\nimport { AgRendererComponent, ICellRendererAngularComp } from 'ag-grid-angular';\r\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\r\nimport { ICellRendererParams } from 'ag-grid/dist/lib/rendering/cellRenderers/iCellRenderer';\r\nimport { RowNode } from 'ag-grid/dist/lib/entities/rowNode';\r\nimport { GridApi } from 'ag-grid/dist/lib/gridApi';\r\nimport { OnChanges, DoCheck } from '@angular/core/src/metadata/lifecycle_hooks';\r\nimport { VendorInvoiceModalComponent } from './vendor-bill-modal.component';\r\nimport { ToastrService } from 'ngx-toastr';\r\n@Component({\r\n  selector: 'app-vendor-bill',\r\n  templateUrl: './pos-invoice-bill-dialog.component.html',\r\n  styleUrls: ['./vendor-invoice-bill-dialog.component.scss'],\r\n  encapsulation: ViewEncapsulation.Emulated\r\n})\r\nexport class PosInvoiceBillComponent implements ICellRendererAngularComp {\r\n  public headOffice: boolean;\r\n  private rowNode: RowNode;\r\n  private api: GridApi;\r\n  private params;\r\n\r\n  constructor(private cdref: ChangeDetectorRef, public dialog: MatDialog,   private toaster: ToastrService) {}\r\n  public selectData = <any>{};\r\n\r\n  agInit(params: ICellRendererParams) {\r\n    this.api = params.api;\r\n    this.rowNode = params.node;\r\n    this.selectData = params.data;\r\n    this.params = params;\r\n  }\r\n\r\n  refresh() {\r\n    return false;\r\n  }\r\n\r\n  modalOpen() {\r\n    if  (this.selectData.totalBillDueAmt !== 0 )  {\r\n      const dialogRef = this.dialog.open(VendorInvoiceModalComponent, {\r\n        data: {\r\n          getData: this.selectData,\r\n          type : 'PosInvoice'\r\n        },\r\n        disableClose: true\r\n      });\r\n      dialogRef.afterClosed().subscribe(result => {\r\n        this.params.context.componentParent.fetchPointOfSaleInventory();\r\n      });\r\n    } else {\r\n        this.toaster.warning(\r\n          'Failure!',\r\n          'Due Amount is Zero'\r\n        );\r\n      }\r\n  }\r\n}\r\n","\r\n\r\n<div class='vendor_bill'>\r\n  <div class=\"row vendor_modal_align\">\r\n    <div class=\"col-md-3 row m-0\" *ngIf=\"selectedRowData.type !== 'PosInvoice'\">\r\n      <label>Vendor : </label>\r\n      <span>{{selectedData.vendorNm}}</span>\r\n    </div>\r\n    <div class=\"col-md-3 row m-0\" *ngIf=\"selectedRowData.type === 'PosInvoice'\">\r\n      <label>BillNo: </label>\r\n      <span>{{selectedData.opticalBillNo}}</span>\r\n    </div>\r\n    <div class=\"col-md-3 row m-0\" *ngIf=\"selectedRowData.type !== 'PosInvoice'\">\r\n      <label>Total Amount : </label>\r\n      <span>{{selectedData.totalAmt}}</span>\r\n    </div>\r\n    <div class=\"col-md-3 row m-0\" *ngIf=\"selectedRowData.type === 'PosInvoice'\">\r\n      <label>Total Amount : </label>\r\n      <span>{{selectedData.totalBillAmt}}</span>\r\n    </div>\r\n    <div class=\"col-md-3 row m-0\">\r\n      <label> Paid Amount : </label>\r\n      <span>{{selectedData.paidAmt}}</span>\r\n    </div>\r\n    <div class=\"col-md-3 row m-0\" *ngIf=\"selectedRowData.type !== 'PosInvoice'\">\r\n      <label> Due Amount : </label>\r\n      <span>{{selectedData.totalDueAmt}}</span>\r\n    </div>\r\n    <div class=\"col-md-3 row m-0\" *ngIf=\"selectedRowData.type === 'PosInvoice'\">\r\n      <label> Due Amount : </label>\r\n      <span>{{selectedData.totalBillDueAmt}}</span>\r\n    </div>\r\n  </div>\r\n  <div class=\"col-md-12 payment-inputs\">\r\n    <table class=\"table optical-billing-cart-table\">\r\n      <thead>\r\n        <tr [formGroup]=\"paymentModesForm\" class=\"row m-0\">\r\n          <th class=\"text-uppercase txt-scarletgum col-md-2\">\r\n            <label for=\"paymentName\">Payment Mode\r\n              <span class=\"required-field-star-color\">*</span>\r\n            </label>\r\n            <div>\r\n              <select class=\"\" name=\"paymentMode\" id=\"paymntMode\" formControlName=\"paymentMode\" (change)=\"onChangePaymentMode()\">\r\n                <ng-container *ngFor=\"let mode of paymentModesList\">\r\n                  <option [ngValue]=\"mode.attributeCode\"  *ngIf=\"mode.attributeCode !== 'DD' && mode.attributeCode !== 'INSURANCE' && mode.attributeCode !== 'ONLINE' \">\r\n                     {{mode.attributeCode}}\r\n                    </option>\r\n              </ng-container>\r\n              </select>\r\n            </div>\r\n          </th>\r\n          <th class=\"text-uppercase txt-scarletgum col-md-2\">\r\n            <label for=\"bankName\">Bank\r\n              <span class=\"required-field-star-color\">*</span>\r\n            </label>\r\n            <input type=\"text\" name=\"bankName\" id=\"bankName\" onkeypress=\"return (event.charCode > 64 &&\r\n            event.charCode < 91) || (event.charCode > 96 && event.charCode < 123)\" formControlName=\"issuedBank\">\r\n          </th>\r\n          <th class=\"text-uppercase txt-scarletgum col-md-2\">\r\n            <label for=\"accuntNumber\">Cheque Number\r\n              <span class=\"required-field-star-color\">*</span>\r\n            </label>\r\n            <input type=\"text\"  maxlength=\"6\" name=\"checkNumber\" id=\"chequeNo\" formControlName=\"chequeDdNo\">\r\n          </th>\r\n          <th class=\"text-uppercase txt-scarletgum col-md-2\">\r\n            <label>Payment Date\r\n              <span class=\"required-field-star-color\">*</span>\r\n            </label>\r\n            <p class=\"input-group m-b-0 \">\r\n              <input id=\"paymentDt01\" type=\"text\" [matDatepicker]=\"paymentDt\" [max]=\"dateMax\" formControlName=\"paymentDt\" class=\"in-width\">\r\n              <mat-datepicker #paymentDt></mat-datepicker>\r\n              <span class=\"input-group-btn\">\r\n                <button id=\"facalendar\" class=\"btn btn-default btn-padding\" type=\"button\" (click)=\"datePickerToggler(paymentDt)\">\r\n                  <i class=\"fa fa-calendar\"></i>\r\n                </button>\r\n              </span>\r\n            </p>\r\n          </th>\r\n          <th class=\"text-uppercase txt-scarletgum col-md-2\">\r\n            <label for=\"amount\">Amount\r\n              <span class=\"required-field-star-color\">*</span>\r\n            </label>\r\n            <div>\r\n              <input  type=\"number\" name=\"amount\" id=\"amount\" formControlName=\"paidAmountByMode\" (change)=\"OnKeyUpPayingAmount($event)\" onkeypress=\"return event.charCode >= 48\">\r\n            </div>\r\n          </th>\r\n          <th class=\"col-md-2 m-t-b-15 form-button-group\">\r\n              <ul>\r\n                <li>\r\n            <button id=\"faplus\" type=\"button\" (click)=\"addPaymentModes()\"  [disabled]=\"!paymentModesForm.valid || disabledButn\" class=\"btn-app btn-edit btn_style_align min-wid\">\r\n              <i class=\"fas fa-plus\"></i>\r\n            </button>\r\n            </li>\r\n            </ul>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n    </table>\r\n  </div>\r\n\r\n  <div *ngIf=\"currentPaymentModesList.length > 0\">\r\n    <div class=\"text-right\">\r\n      <label>Balance Amount : </label>\r\n      <span>{{totalDueAmount}}</span>\r\n    </div>\r\n    <table class=\"table table-bordered table-aligment-style\">\r\n      <thead>\r\n        <th class=\"vendor_bill_table\">Sl No</th>\r\n        <th class=\"vendor_bill_table\">Payment Mode</th>\r\n        <th class=\"vendor_bill_table\">Bank</th>\r\n        <th class=\"vendor_bill_table\">Account Number</th>\r\n        <th class=\"vendor_bill_table\">Payment Date</th>\r\n        <th class=\"vendor_bill_table\">Amount</th>\r\n        <th class=\"vendor_bill_table\">Action</th>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor=\"let modes of currentPaymentModesList; index as i\">\r\n          <td>{{i+1}}</td>\r\n          <td>{{modes.paymentMode}}</td>\r\n          <td>{{modes.issuedBank}}</td>\r\n          <td>{{modes.chequeDdNo}}</td>\r\n          <td>{{modes.displayDt}}</td>\r\n          <td>{{modes.paidAmountByMode}}</td>\r\n          <td class=\"text-center\">\r\n            <i class=\"fa fa-trash trash-icon-color\" (click)=\"removePaymentMode(i)\"></i>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n  <div class=\"col-sm-12 m-t-b-15 form-button-group\">\r\n  <ul class=\"arrow\">\r\n    <li>\r\n      <button id=\"fnPayVendor\" class=\"btn-app btn-save\" type=\"button\" [disabled] = \"!currentPaymentModesList.length\" (click)=\"fnPayVendorInvoice()\">\r\n        Pay\r\n        <i class=\"fa fa-arrow-circle-up\" aria-hidden=\"true\"></i>\r\n      </button>&nbsp;&nbsp;&nbsp;&nbsp;\r\n    </li>\r\n    <li>\r\n      <button id=\"cancelModal\" class=\"btn-app btn-cancel\" type=\"button\" (click)=\"cancelModal()\">\r\n        Cancel\r\n        <i class=\"fa fa-times-circle\" aria-hidden=\"true\"></i>\r\n      </button>\r\n    </li>\r\n  </ul>\r\n</div>\r\n\r\n</div>\r\n","import { Component, Inject, OnInit, OnDestroy } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { DatePipe } from '@angular/common';\r\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\r\nimport {\r\n  Router,\r\n  ActivatedRouteSnapshot,\r\n  ActivatedRoute\r\n} from '@angular/router';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { LoginApiService, OpticalStoreApiService } from '@core/services';\r\nimport { OpticalStoreService } from '@app/modules/optical-store/opticalStore.service';\r\n\r\nimport { MatDatepicker } from '@angular/material';\r\nimport { UserSession } from '@core/models/user-session';\r\nimport { UserService } from '@core/services/user.service';\r\nimport { AutoUnsubscribe } from 'ngx-auto-unsubscribe';\r\n// @AutoUnsubscribe()\r\n@Component({\r\n  selector: 'app-vendor-modal',\r\n  templateUrl: 'vendor-bill-modal.component.html',\r\n  styleUrls: ['./vendor-invoice-bill-dialog.component.scss']\r\n})\r\nexport class VendorInvoiceModalComponent implements OnInit, OnDestroy {\r\n  selectedData: any;\r\n  paymentModesForm: FormGroup;\r\n  paymentModesList: any[] = [];\r\n  currentPaymentModesList: any[] = [];\r\n  totalDueAmount: any;\r\n  public totalPaymentAmt: any;\r\n  disabledButn: Boolean = false;\r\n  balanceAmt: any;\r\n  storeValue = 0;\r\n  dueServiceNm: any;\r\n  bankNm: any;\r\n  private sessionData: UserSession;\r\n  dateMax = new Date();\r\n  constructor(\r\n    private http: HttpClient,\r\n    private toaster: ToastrService,\r\n    private opticalService: OpticalStoreApiService,\r\n    private formbuilder: FormBuilder,\r\n    private datePipe: DatePipe,\r\n    private activatedRoute: ActivatedRoute,\r\n    private componentOpticalStoreService: OpticalStoreService,\r\n    private loginService: LoginApiService,\r\n    public dialogRef: MatDialogRef<VendorInvoiceModalComponent>,\r\n    userService: UserService,\r\n    @Inject(MAT_DIALOG_DATA) public selectedRowData: any\r\n  ) {\r\n    if (this.selectedRowData.type !== 'InventoryInvoice') {\r\n      this.selectedRowData.getData[\r\n        'totalDueAmt'\r\n      ] = this.selectedRowData.getData.totalBillDueAmt;\r\n    }\r\n\r\n    this.sessionData = userService.getUser();\r\n  }\r\n\r\n  ngOnInit() {\r\n    console.log(this.selectedRowData);\r\n    this.selectedData = this.selectedRowData.getData;\r\n    this.initForm();\r\n    this.fetchPaymentModes();\r\n    this.paymentModesForm\r\n      .get('paidAmountByMode')\r\n      .valueChanges.subscribe(val => {\r\n        this.OnKeyUpPayingAmount(Number(val));\r\n      });\r\n  }\r\n\r\n  initForm() {\r\n    this.paymentModesForm = this.formbuilder.group({\r\n      paymentMode: this.formbuilder.control(null, Validators.required),\r\n      issuedBank: this.formbuilder.control(null),\r\n      chequeDdNo: this.formbuilder.control(null),\r\n      paymentDt: this.formbuilder.control(null, Validators.required),\r\n      paidAmountByMode: this.formbuilder.control(null, Validators.required)\r\n    });\r\n  }\r\n  onChangePaymentMode() {\r\n    const modeVal = this.paymentModesForm.get('paymentMode').value;\r\n    if (modeVal === 'DD' || modeVal === 'CHEQUE') {\r\n      this.paymentModesForm.get('issuedBank').enable();\r\n      this.paymentModesForm.get('chequeDdNo').enable();\r\n      this.paymentModesForm\r\n        .get('issuedBank')\r\n        .setValidators(Validators.required);\r\n      this.paymentModesForm\r\n        .get('chequeDdNo')\r\n        .setValidators(Validators.required);\r\n    } else {\r\n      this.paymentModesForm.get('issuedBank').disable();\r\n      this.paymentModesForm.get('chequeDdNo').disable();\r\n      this.paymentModesForm.get('issuedBank').clearValidators();\r\n      this.paymentModesForm.get('chequeDdNo').clearValidators();\r\n    }\r\n  }\r\n\r\n  datePickerToggler(datePicker: MatDatepicker<Date>) {\r\n    datePicker[datePicker.opened ? 'close' : 'open']();\r\n  }\r\n  fetchPaymentModes() {\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      masterType: 'PAYMENT_MODE',\r\n      authenticatedUserId: this.sessionData.regId\r\n    };\r\n\r\n    this.loginService.fetchListOfCommonValues(payload).subscribe(\r\n      (response: any) => {\r\n        if (response.responseCode === 'E200') {\r\n          this.paymentModesList = response.data;\r\n          this.paymentModesList.forEach(val => {\r\n            if (val.attributeCode === 'CHEQUE' || val.attributeCode === 'DD') {\r\n              val.modeValidation = true;\r\n            }\r\n          });\r\n        } else if (response.response === 'E400') {\r\n          this.toaster.error('Failure!', 'Something went wrong');\r\n        }\r\n      },\r\n      err => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n\r\n  addPaymentModes() {\r\n    const mode = { ...this.paymentModesForm.value };\r\n    this.currentPaymentModesList.push({\r\n      ...this.paymentModesForm.value,\r\n      displayDt: this.datePipe.transform(\r\n        this.paymentModesForm.value.paymentDt,\r\n        'dd-MM-yyyy'\r\n      ),\r\n      paymentDt: this.datePipe.transform(\r\n        this.paymentModesForm.value.paymentDt,\r\n        'yyyy-MM-dd'\r\n      )\r\n    });\r\n    let decreaseAmt = 0;\r\n    if (this.currentPaymentModesList.length > 0) {\r\n      // let decreaseAmt = 0;\r\n      for (let i = 0; i < this.currentPaymentModesList.length; i++) {\r\n        decreaseAmt +=\r\n          Number(this.currentPaymentModesList[i].paidAmountByMode) || 0;\r\n      }\r\n      if (this.selectedData.totalDueAmt < decreaseAmt) {\r\n        this.toaster.warning(\r\n          'Failure!',\r\n          'Given amount is more than required payable amount'\r\n        );\r\n        this.currentPaymentModesList = [];\r\n      }\r\n    }\r\n    this.totalDueAmount = Math.round(\r\n      this.selectedData.totalDueAmt - decreaseAmt\r\n    );\r\n    this.storeValue = decreaseAmt;\r\n    this.paymentModesForm.reset();\r\n  }\r\n  removePaymentMode = function(index) {\r\n    this.currentPaymentModesList.splice(index, 1);\r\n    let decreaseAmt = 0;\r\n    if (this.currentPaymentModesList.length > 0) {\r\n      for (let i = 0; i < this.currentPaymentModesList.length; i++) {\r\n        decreaseAmt += Number(this.currentPaymentModesList[i].paidAmountByMode);\r\n      }\r\n    }\r\n    this.totalDueAmount = Math.round(\r\n      this.selectedData.totalDueAmt - decreaseAmt\r\n    );\r\n    this.storeValue = decreaseAmt;\r\n  };\r\n\r\n  OnKeyUpPayingAmount = function(val) {\r\n    console.log(val);\r\n    if (val === 0) {\r\n      // this.toaster.warning(\r\n      //   'Failure!',\r\n      //   'Zero Amount is not allowed to pay here.'\r\n      // );\r\n      this.disabledButn = true;\r\n    } else {\r\n      if (val < this.selectedData.totalDueAmt) {\r\n        this.disabledButn = false;\r\n      }\r\n      if (val > this.selectedData.totalDueAmt) {\r\n        this.toaster.warning(\r\n          'Failure!',\r\n          'Given amount is more than required payable amount'\r\n        );\r\n        this.disabledButn = true;\r\n      }\r\n      if (this.storeValue) {\r\n        const addValue = this.storeValue + (val || 0);\r\n        if (addValue > this.selectedData.totalDueAmt) {\r\n          this.toaster.warning(\r\n            'Failure!',\r\n            'Given amount is more than required payable amount'\r\n          );\r\n          this.disabledButn = true;\r\n        }\r\n      }\r\n      let decreaseAmt = 0;\r\n      if (this.currentPaymentModesList.length > 0) {\r\n        for (let i = 0; i < this.currentPaymentModesList.length; i++) {\r\n          decreaseAmt +=\r\n            Number(this.currentPaymentModesList[i].paidAmountByMode) || 0;\r\n        }\r\n        if (this.selectedData.totalDueAmt < this.decreaseAmt) {\r\n          this.toaster.warning(\r\n            'Failure!',\r\n            'Given amount is more than required payable amount'\r\n          );\r\n          this.disabledButn = true;\r\n        }\r\n      }\r\n    }\r\n  };\r\n  fnPayVendorInvoice() {\r\n    console.log(this.currentPaymentModesList);\r\n    const vendorPaymentTransList = this.mapPaymenetModes();\r\n    const posPaymentTransList = this.mapPaymenetModesPos();\r\n    const totalPaidAmt = this.currentPaymentModesList.reduce(\r\n      (acc, val) => (acc += val.paidAmountByMode),\r\n      0\r\n    );\r\n    const payload = {\r\n      orgId: this.sessionData.orgId,\r\n      orgGrpId: this.sessionData.orgGroupId,\r\n      createdUsrId: this.sessionData.regId\r\n    };\r\n    let dueServiceNm: string;\r\n    if (this.selectedRowData.type === 'InventoryInvoice') {\r\n      dueServiceNm = 'duePaymentForVendorInvoice';\r\n      payload['vendorInvoiceId'] = this.selectedData.vendorInvoiceId;\r\n      payload['paidAmt'] = totalPaidAmt;\r\n      payload['vendorPaymentTransList'] = vendorPaymentTransList;\r\n    } else {\r\n      dueServiceNm = 'payPosDueAmt';\r\n      payload['opticalBillNo'] = this.selectedData.opticalBillNo;\r\n      payload['paidAmt'] = totalPaidAmt;\r\n      payload['patientId'] = this.selectedData.patientId;\r\n      payload['pointOfSaleId'] = this.selectedData.pointOfSaleId;\r\n      payload['paymentModesList'] = posPaymentTransList;\r\n    }\r\n    console.log(payload);\r\n    // return;\r\n    this.opticalService[dueServiceNm](payload).subscribe(\r\n      (response: any) => {\r\n        if (response.responseCode === 'E200') {\r\n          this.dialogRef.close();\r\n        } else if (response.response === 'E400') {\r\n          this.toaster.error('Failure!', 'Something went wrong');\r\n        }\r\n      },\r\n      err => {\r\n        this.toaster.error('Failure!', 'Something went wrong');\r\n      }\r\n    );\r\n  }\r\n\r\n  mapPaymenetModes() {\r\n    console.log(this.currentPaymentModesList);\r\n    return this.currentPaymentModesList.map(val => {\r\n      return {\r\n        orgId: this.sessionData.orgId,\r\n        orgGrpId: this.sessionData.orgGroupId,\r\n        createdUsrId: this.sessionData.regId,\r\n        vendorInvoiceId: this.selectedData.vendorInvoiceId,\r\n        vendorInvoiceNo: this.selectedData.vendorInvoiceNo,\r\n        vendorId: this.selectedData.vendorId,\r\n        paymentMode: val.paymentMode,\r\n        paymentDt: val.paymentDt,\r\n        transactionDt: val.transactionDt || null,\r\n        transactionAmt: val.paidAmountByMode,\r\n        paidAmountByMode: val.paidAmountByMode,\r\n        chequeDdNo: val.chequeDdNo || null,\r\n        issuedBank: val.issuedBank || null,\r\n        chequeDdDt: val.paymentDt || null,\r\n        isCheque: val.paymentMode === 'CHEQUE' ? true : false\r\n      };\r\n    });\r\n  }\r\n\r\n  mapPaymenetModesPos() {\r\n    console.log(this.currentPaymentModesList);\r\n    return this.currentPaymentModesList.map(val => {\r\n      return {\r\n        orgId: this.sessionData.orgId,\r\n        orgGrpId: this.sessionData.orgGroupId,\r\n        createdUsrId: this.sessionData.regId,\r\n        paymentMode: val.paymentMode,\r\n        transactionDt: val.transactionDt || null,\r\n        transactionAmount: val.paidAmountByMode,\r\n        paidAmountByMode: val.paidAmountByMode,\r\n        chequeDdNo: val.chequeDdNo || null,\r\n        issuedBank: val.issuedBank || null,\r\n        chequeDdDate: val.paymentDt || null,\r\n        isCheque: val.paymentMode === 'CHEQUE' ? true : false,\r\n        paymentSource:  val.paymentMode\r\n      };\r\n    });\r\n  }\r\n  cancelModal() {\r\n    this.dialogRef.close();\r\n  }\r\n  ngOnDestroy() {\r\n  }\r\n\r\n  //   vm.onChangeReturnQty = function(rowValue) {\r\n  //     var returnQty = parseInt(rowValue.returnQty);\r\n  //     var validQty = rowValue.posQty - rowValue.posReturnedQty;\r\n  //     if (returnQty === 0) {\r\n  //         authService.fnShowToster('info', 'Please enter Return Qty');\r\n  //         vm.removeReturnsQty(rowValue);\r\n  //     }else if((validQty - returnQty) < 0 ) {\r\n  //         authService.fnShowToster('info', 'Return Qty is greater than available Qty');\r\n  //         vm.removeReturnsQty(rowValue);\r\n  //     }\r\n\r\n  // };\r\n\r\n  // vm.removeReturnsQty = function(rowValue){\r\n  //     lodash.each(vm.selectedRows, function(val){\r\n  //         if(val.pointOfSaleDetailed_Id === rowValue.pointOfSaleDetailed_Id) {\r\n  //             val.returnQty = null;\r\n  //         }\r\n  //     });\r\n  // };\r\n  // bankNameCheck(bankName) {\r\n  //   if (window.event) {\r\n  //     const charCode = window.event.keyCode;\r\n  // }\r\n  //   if ((bankName > 64 && bankName < 91) || (bankName > 96 && bankName < 123)) {\r\n  //     return true;\r\n  //   } else {\r\n  //     return false;\r\n  //   }\r\n\r\n  //   console.log(bankName);\r\n  // }\r\n}\r\n","<div class=\"text-center\" (click)=\"modalOpen()\">\r\n    <a class=\"ag-grid-pay-now-text-color\">Pay Now</a>\r\n</div>\r\n","import { Component, ViewEncapsulation, ChangeDetectorRef } from '@angular/core';\r\nimport { AgRendererComponent, ICellRendererAngularComp } from 'ag-grid-angular';\r\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\r\nimport { ICellRendererParams } from 'ag-grid/dist/lib/rendering/cellRenderers/iCellRenderer';\r\nimport { RowNode } from 'ag-grid/dist/lib/entities/rowNode';\r\nimport { GridApi } from 'ag-grid/dist/lib/gridApi';\r\nimport { OnChanges, DoCheck } from '@angular/core/src/metadata/lifecycle_hooks';\r\nimport { VendorInvoiceModalComponent } from './vendor-bill-modal.component';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { AutoUnsubscribe } from 'ngx-auto-unsubscribe';\r\n// @AutoUnsubscribe()\r\n@Component({\r\n  selector: 'app-vendor-bill',\r\n  templateUrl: './vendor-invoice-bill-dialog.component.html',\r\n  styleUrls: ['./vendor-invoice-bill-dialog.component.scss'],\r\n  encapsulation: ViewEncapsulation.Emulated\r\n})\r\nexport class VendorInvoiceBillComponent implements ICellRendererAngularComp {\r\n  public headOffice: boolean;\r\n  private rowNode: RowNode;\r\n  private api: GridApi;\r\n  private params;\r\n\r\n  constructor(private cdref: ChangeDetectorRef, public dialog: MatDialog,  private toaster: ToastrService) {}\r\n  private selectData = <any>{};\r\n\r\n  agInit(params: ICellRendererParams) {\r\n    this.api = params.api;\r\n    this.rowNode = params.node;\r\n    this.selectData = params.data;\r\n    console.log(this.selectData, '======');\r\n    this.params = params;\r\n  }\r\n\r\n  refresh() {\r\n    return false;\r\n  }\r\n\r\n  modalOpen() {\r\n    if (this.selectData.totalDueAmt !== 0) {\r\n      const dialogRef = this.dialog.open(VendorInvoiceModalComponent, {\r\n        data: {\r\n          getData: this.selectData,\r\n          type: 'InventoryInvoice'\r\n        },\r\n        disableClose: true\r\n      });\r\n      dialogRef.afterClosed().subscribe(result => {\r\n        this.params.context.componentParent.fetchInvoiceHistoryForm();\r\n      });\r\n    } else {\r\n      this.toaster.warning('Failure!', 'Due Amount is Zero');\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Actions, Effect, ofType } from '@ngrx/effects';\r\nimport { Action } from '@ngrx/store';\r\nimport { Observable, of } from 'rxjs';\r\n\r\nimport {\r\n  map,\r\n  catchError,\r\n  switchMap,\r\n  mergeMap,\r\n  concatMap\r\n} from 'rxjs/operators';\r\nimport { OpticalStoreApiService } from '@core/services';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\nimport { UtilService } from '@core/services/utils.service';\r\nimport {\r\n  FetchPatient,\r\n  OpticalActionTypes,\r\n  FetchPatientSuccess,\r\n  FetchPatientError,\r\n  FetchOpticalItemTypes,\r\n  FetchOpticalItemTypesSuccess,\r\n  FetchOpticalItemTypesError\r\n} from '@app/modules/optical-store/actions';\r\n\r\n@Injectable()\r\nexport class OpticalEffects {\r\n  constructor(\r\n    private utilService: UtilService,\r\n    private action$: Actions,\r\n    private opticalService: OpticalStoreApiService,\r\n    private toastr: ToastrService\r\n  ) {}\r\n\r\n  @Effect()\r\n  fetchPatient$: Observable<Action> = this.action$.pipe(\r\n    ofType<FetchPatient>(OpticalActionTypes.fetchPatientOptical),\r\n    mergeMap(action => {\r\n      const payload = action.payload;\r\n      return this.opticalService.fetchPatientOptical(payload).pipe(\r\n        map((response: any) => {\r\n          const { data } = response;\r\n          if (response.responseCode === 'E200') {\r\n            if (response.data.length === 0) {\r\n              this.toastr.warning('No Data Found');\r\n            }\r\n            return new FetchPatientSuccess(data);\r\n          } else if (response.responseCode === 'E400') {\r\n            this.toastr.error('Failure!', 'Something went wrong');\r\n            return new FetchPatientError(response);\r\n          }\r\n        }),\r\n        catchError(error => {\r\n          return of(new FetchPatientError(error));\r\n        })\r\n      );\r\n    })\r\n  );\r\n\r\n  @Effect()\r\n  fetchOpticalItems$: Observable<Action> = this.action$.pipe(\r\n    ofType<FetchOpticalItemTypes>(OpticalActionTypes.fetchOpticalItemTypes),\r\n    mergeMap(action => {\r\n      const payload = action.payload;\r\n      return this.opticalService.opticalMasterData(payload).pipe(\r\n        map((response: any) => {\r\n          const { data } = response;\r\n          if (response.responseCode === 'E200') {\r\n            return new FetchOpticalItemTypesSuccess(data);\r\n          } else if (response.responseCode === 'E400') {\r\n            this.toastr.error('Failure!', 'Something went wrong');\r\n            return new FetchOpticalItemTypesError(response);\r\n          }\r\n        }),\r\n        catchError(error => {\r\n          return of(new FetchOpticalItemTypesError(error));\r\n        })\r\n      );\r\n    })\r\n  );\r\n}\r\n","import { InjectionToken } from '@angular/core';\r\n\r\nexport const opticalStoreConstants = {\r\n    FRAMES_ID: 234,\r\n    CONTACT_LENS_ID: 235,\r\n    LENS_ID: 101\r\n};\r\n\r\nexport interface IOpticalStoreConstants {\r\n    FRAMES_ID: number;\r\n    CONTACT_LENS_ID: number;\r\n    LENS_ID: number;\r\n}\r\n\r\nexport const opticalStoreConstantsFactory = () => opticalStoreConstants;\r\n\r\nexport const OPTICAL_STORE_CONSTANTS_TOKEN = new InjectionToken('optical store constants', {\r\n    factory: opticalStoreConstantsFactory,\r\n    providedIn: 'root'\r\n});\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule, Router } from '@angular/router';\r\nimport { OpticalPointOfSaleComponent } from './containers/optical-point-of-sale/optical-point-of-sale.component';\r\nimport { OpticalPurchaseOrderComponent } from './containers/optical-purchase-order/optical-purchase-order.component';\r\nimport { OpticalCommonComponent } from './containers/optical-common/optical-common.component';\r\nimport { AllOpticalSuppliersComponent } from './containers/optical-vendor/all-optical-suppliers/all-optical-suppliers.component';\r\nimport { AddOpticalSuppliersComponent } from './containers/optical-vendor/add-optical-suppliers/add-optical-suppliers.component';\r\nimport { AddOpticalInventoryComponent } from '@app/modules/optical-store/containers/optical-inventory/add-optical-inventory/add-optical-inventory.component';\r\nimport { AllOpticalInventoryComponent } from '@app/modules/optical-store/containers/optical-inventory/all-optical-inventory/all-optical-inventory.component';\r\nimport { NewInvoiceComponent } from '@app/modules/optical-store/containers/optical-vendor-invoice/new-invoice/new-invoice.component';\r\nimport { InvoiceHistoryComponent } from '@app/modules/optical-store/containers/optical-vendor-invoice/invoice-history/invoice-history.component';\r\nimport { OpticalInvoiceListComponent } from '@app/modules/optical-store/containers/optical-point-of-sale/optical-invoice-list/optical-invoice-list.component';\r\nimport { PosReturnHistoryComponent } from './containers/optical-point-of-sale/optical-return-list/optical-return-list.component';\r\nimport { OpticalPendingOrdersComponent } from '@app/modules/optical-store/containers/optical-pending-orders/optical-pending-orders.component';\r\nimport { OpticalBillingComponent } from '@app/modules/optical-store/containers/optical-point-of-sale/optical-billing/optical-billing.component';\r\nexport const OpticalStoreRoutings: Routes = [\r\n  {\r\n    path: '',\r\n    component: OpticalCommonComponent,\r\n    children: [\r\n      { path: 'optical-point-of-sale', component: OpticalPointOfSaleComponent },\r\n      {\r\n        path: 'optical-point-of-order',\r\n        component: OpticalPointOfSaleComponent\r\n      },\r\n\r\n      {\r\n        path: 'optical-all-suppliers',\r\n        component: AllOpticalSuppliersComponent\r\n      },\r\n      {\r\n        path: 'optical-add-suppliers',\r\n        component: AddOpticalSuppliersComponent\r\n      },\r\n      {\r\n        path: 'optical-purchase-orders',\r\n        component: OpticalPurchaseOrderComponent\r\n      },\r\n      {\r\n        path: 'optical-all-inventory',\r\n        component: AllOpticalInventoryComponent\r\n      },\r\n      {\r\n        path: 'optical-add-inventory',\r\n        component: AddOpticalInventoryComponent\r\n      },\r\n      { path: 'optical-new-invoice', component: NewInvoiceComponent },\r\n      {\r\n        path: 'optical-pending-orders',\r\n        component: OpticalPendingOrdersComponent\r\n      },\r\n      {\r\n        path: 'optical-pending-orders/optical-point-of-sale',\r\n        component: OpticalPointOfSaleComponent\r\n      },\r\n      { path: 'optical-invoice-history', component: InvoiceHistoryComponent },\r\n      {\r\n        path: 'optical-pos-invoice',\r\n        component: OpticalInvoiceListComponent,\r\n        data: {\r\n          title: 'Pos Invoice'\r\n        },\r\n        children: [\r\n          {\r\n            path: 'pos-return-history',\r\n            component: PosReturnHistoryComponent\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  },\r\n  { path: '', redirectTo: 'optical-point-of-sale', pathMatch: 'prefix' }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(OpticalStoreRoutings)],\r\n  exports: [RouterModule]\r\n})\r\nexport class OpticalStoreRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { OpticalStoreRoutingModule } from './opticalStore-routing.module';\r\nimport { AgGridModule } from 'ag-grid-angular';\r\nimport {MatSnackBarModule} from '@angular/material/snack-bar';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { StoreModule } from '@ngrx/store';\r\nimport { EffectsModule } from '@ngrx/effects';\r\nimport { SharedModule } from '@shared/shared.module';\r\nimport { ValidUserGuard } from '@app/modules/imaging/services/valid-user-guard.service';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport {\r\n  MatDialogModule,\r\n  MatRadioModule,\r\n  MatCheckboxModule,\r\n  MatTabsModule,\r\n} from '@angular/material';\r\nimport {MatSidenavModule} from '@angular/material/sidenav';\r\nimport {MatExpansionModule} from '@angular/material/expansion';\r\nimport { OpticalPointOfSaleComponent } from './containers/optical-point-of-sale/optical-point-of-sale.component';\r\nimport { OpticalPurchaseOrderComponent } from './containers/optical-purchase-order/optical-purchase-order.component';\r\nimport { OpticalCommonComponent } from './containers/optical-common/optical-common.component';\r\nimport { SpectaclesComponent } from './containers/spectacles/spectacles.component';\r\nimport { OsContactLensComponent } from './containers/os-contact-lens/os-contact-lens.component';\r\nimport { OsOtherGlassesComponent } from './containers/os-other-glasses/os-other-glasses.component';\r\nimport { OsAccessoriesComponent } from './containers/os-accessories/os-accessories.component';\r\nimport { OsDialogComponent } from './containers/os-dialog/os-dialog.component';\r\nimport { AllOpticalSuppliersComponent } from './containers/optical-vendor/all-optical-suppliers/all-optical-suppliers.component';\r\nimport { AddOpticalSuppliersComponent } from './containers/optical-vendor/add-optical-suppliers/add-optical-suppliers.component';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\nimport { OpticalStoreService } from './opticalStore.service';\r\nimport { StorageServiceModule } from 'angular-webstorage-service';\r\nimport { ConfirmationDialogComponent } from '@shared/components/confirmation-dialog/confirmation-dialog.component';\r\nimport { AllOpticalInventoryComponent } from './containers/optical-inventory/all-optical-inventory/all-optical-inventory.component';\r\nimport { AddOpticalInventoryComponent } from './containers/optical-inventory/add-optical-inventory/add-optical-inventory.component';\r\nimport { FramesInventoryComponent } from './containers/optical-inventory/frames-inventory/frames-inventory.component';\r\n// tslint:disable-next-line:max-line-length\r\nimport { ShowingOpticalInventoryComponent } from './containers/optical-inventory/showing-optical-inventory/showing-optical-inventory.component';\r\nimport { CommentsDialogComponent } from '@shared/components/comments-dialog/comments-dialog.component';\r\nimport { GetAgePipe } from '@shared/pipes/getAgePipe';\r\nimport { OpticalBillingComponent } from './containers/optical-point-of-sale/optical-billing/optical-billing.component';\r\nimport { OpticalVendorInvoiceComponent } from './containers/optical-vendor-invoice/optical-vendor-invoice.component';\r\nimport { NewInvoiceComponent } from './containers/optical-vendor-invoice/new-invoice/new-invoice.component';\r\nimport { InvoiceHistoryComponent } from './containers/optical-vendor-invoice/invoice-history/invoice-history.component';\r\nimport { NumberToWordsPipe } from '@shared/pipes/numberTowords';\r\nimport { reducers } from '@app/modules/optical-store/reducers';\r\nimport { OpticalEffects } from '@app/modules/optical-store/effects';\r\nimport { VendorInvoiceBillComponent } from './containers/vendor-invoice-bill-dialog/vendor-invoice-bill-dialog.component';\r\nimport { VendorInvoiceModalComponent } from './containers/vendor-invoice-bill-dialog/vendor-bill-modal.component';\r\nimport { FrameLensesModalComponent } from './containers/optical-vendor-invoice/new-invoice/frameLensesVendorInvoice.modal.component';\r\nimport { OpticalInvoiceListComponent } from './containers/optical-point-of-sale/optical-invoice-list/optical-invoice-list.component';\r\n// tslint:disable-next-line:max-line-length\r\nimport { PosInvoiceListComponent } from './containers/optical-point-of-sale/optical-invoice-list/optical-actions-list/optical-actions-list.component';\r\n// tslint:disable-next-line:max-line-length\r\nimport { OpticalPointOfSaleDueListComponent } from './containers/optical-point-of-sale/optical-invoice-list/optical-point-of-sale-due-list/optical-point-of-sale-due-list.component';\r\nimport { PosInvoiceBillComponent } from './containers/vendor-invoice-bill-dialog/pos-invoice-bill-dialog.component';\r\nimport { PosReturnHistoryComponent } from './containers/optical-point-of-sale/optical-return-list/optical-return-list.component';\r\n// import { ProfileImageSelectorComponent } from '@app/modules/opd/components/profile-image/profile-image.component';\r\nimport { FramesComponent } from '@app/modules/optical-store/containers/frames/frames.component';\r\n// tslint:disable-next-line:max-line-length\r\nimport { OpticalPendingOrdersComponent } from '@app/modules/optical-store/containers/optical-pending-orders/optical-pending-orders.component';\r\nimport { OrderdetailsComponent } from '@app/modules/optical-store/containers/orderdetails/orderdetails.component';\r\nimport { NO_ERRORS_SCHEMA } from '@angular/compiler/src/core';\r\n// tslint:disable-next-line:max-line-length\r\nimport { OpticalReturnActionsListComponent } from '@app/modules/optical-store/containers/optical-point-of-sale/optical-return-list/optical-return-actions-list/optical-return-actions-list.component';\r\nimport { TextFieldModule } from '@angular/cdk/text-field';\r\nimport { LensAddToInventoryComponent } from './containers/lens-add-to-inventory/lens-add-to-inventory.component';\r\n@NgModule({\r\n  imports: [\r\n    MatProgressSpinnerModule,\r\n    FlexLayoutModule,\r\n    TranslateModule,\r\n    CommonModule,\r\n    FormsModule,\r\n    AgGridModule.withComponents([VendorInvoiceBillComponent]),\r\n    MatDatepickerModule,\r\n    MatButtonToggleModule,\r\n    ReactiveFormsModule,\r\n    SharedModule,\r\n    MatSidenavModule,\r\n    MatSnackBarModule,\r\n    MatExpansionModule,\r\n    NgSelectModule,\r\n    StoreModule.forFeature('OPTICAL_FEATURE', reducers),\r\n    EffectsModule.forFeature([OpticalEffects]),\r\n    // StoreModule.forRoot({opticalPatientSearch: searchPatientReducer}),\r\n    OpticalStoreRoutingModule,\r\n    MatDialogModule,\r\n    MatRadioModule,\r\n    StorageServiceModule,\r\n    MatCheckboxModule,\r\n    MatTabsModule,\r\n    TextFieldModule\r\n  ],\r\n  entryComponents: [\r\n    OsDialogComponent,\r\n    ConfirmationDialogComponent,\r\n    CommentsDialogComponent,\r\n    VendorInvoiceModalComponent,\r\n    FrameLensesModalComponent,\r\n    PosInvoiceListComponent,\r\n    OpticalPointOfSaleDueListComponent,\r\n    PosInvoiceBillComponent,\r\n    OpticalReturnActionsListComponent\r\n    // ProfileImageSelectorComponent\r\n  ],\r\n\r\n  declarations: [\r\n    OpticalPointOfSaleComponent,\r\n    OpticalPurchaseOrderComponent,\r\n    OpticalCommonComponent,\r\n    SpectaclesComponent,\r\n    OsContactLensComponent,\r\n    OsOtherGlassesComponent,\r\n    OsAccessoriesComponent,\r\n    OsDialogComponent,\r\n    AllOpticalSuppliersComponent,\r\n    AddOpticalSuppliersComponent,\r\n    AllOpticalInventoryComponent,\r\n    AddOpticalInventoryComponent,\r\n    FramesInventoryComponent,\r\n    ShowingOpticalInventoryComponent,\r\n    OpticalBillingComponent,\r\n    OpticalVendorInvoiceComponent,\r\n    NewInvoiceComponent,\r\n    VendorInvoiceBillComponent,\r\n    VendorInvoiceModalComponent,\r\n    FrameLensesModalComponent,\r\n    InvoiceHistoryComponent,\r\n    OpticalInvoiceListComponent,\r\n    PosInvoiceListComponent,\r\n    OpticalPointOfSaleDueListComponent,\r\n    PosInvoiceBillComponent,\r\n    PosReturnHistoryComponent,\r\n    // ProfileImageSelectorComponent,\r\n    FramesComponent,\r\n    OpticalPendingOrdersComponent,\r\n    OrderdetailsComponent,\r\n    OpticalReturnActionsListComponent,\r\n    LensAddToInventoryComponent\r\n\r\n  ],\r\n  providers: [\r\n    ValidUserGuard,\r\n    OpticalStoreService,\r\n    GetAgePipe,\r\n    NumberToWordsPipe,\r\n    // { provide: OPTICALSTORE_END_POINTS, useValue: api }\r\n    // ImagingService,\r\n    // { provide: TEST_STATUS_LIST, useValue: testStatusList },\r\n    // { provide: IMAGING_END_POINTS, useValue: api },\r\n    // { provide: ROLES_TOKEN, useValue: ROLES }\r\n  ],\r\n  // schemas: [NO_ERRORS_SCHEMA]\r\n  // schemas: [NO_ERRORS_SCHEMA]\r\n})\r\nexport class OpticalStoreModule {}\r\n","import { Injectable, Inject, OnInit, OnDestroy } from '@angular/core';\r\n// import { OPTICALSTORE_END_POINTS } from './opticalStore.api';\r\nimport { ApiService } from '@core/services/api.service';\r\nimport { Observable, Subscription, BehaviorSubject } from 'rxjs';\r\nimport { SESSION_STORAGE, StorageService } from 'angular-webstorage-service';\r\nimport { Store, select } from '@ngrx/store';\r\nimport { PDFMAKE } from '@core/services';\r\nimport { getOpticalItemTypes } from '@app/modules/optical-store/reducers';\r\nimport { AutoUnsubscribe } from 'ngx-auto-unsubscribe';\r\nimport { APP_CONSTANTS } from '@app/app.constant';\r\nimport { AppConstant } from '@core/models/app-constant';\r\nimport { UserSession } from '@core/models/user-session';\r\nimport { UserService } from '@core/services/user.service';\r\nimport { last } from 'rxjs/operators';\r\n@Injectable()\r\n@AutoUnsubscribe()\r\nexport class OpticalStoreService  {\r\n  private opticalItemTypes$: Observable<any>;\r\n  private opticalItemTypesSubscription: Subscription;\r\n  private sessionData: UserSession;\r\n  private patientList;\r\n  private organizationInfo = {};\r\n  constructor(\r\n    // @Inject(OPTICALSTORE_END_POINTS) private endPoints,\r\n    @Inject(SESSION_STORAGE) private storage: StorageService,\r\n    @Inject(PDFMAKE) private pdfmake,\r\n    @Inject(APP_CONSTANTS) private appConstants: AppConstant,\r\n    private api: ApiService,\r\n    userService: UserService,\r\n    private store: Store<any>\r\n  ) {\r\n    this.opticalItemTypes$ = this.store.pipe(select(getOpticalItemTypes));\r\n    this.sessionData = userService.getUser();\r\n    this.organizationInfo = this.sessionData.orgList;\r\n  }\r\n  private loggedUser: any;\r\n  private vendorDetails: any;\r\n  private inventoryDetails: any;\r\n  private opticalItems: any = [];\r\n  public insufficientStockKey = new BehaviorSubject(null);\r\n  public editKey = new BehaviorSubject(null);\r\n  public orderKey = new BehaviorSubject(null);\r\n  public editData = new BehaviorSubject(null);\r\n  public lensInvData = new BehaviorSubject(null);\r\n  public patientData = new BehaviorSubject(null);\r\n  public selectionType = new BehaviorSubject(null);\r\n  public paymentData = new BehaviorSubject(null);\r\n  public showsBilling =  new BehaviorSubject(null);\r\n  public opticalCommonData =  new BehaviorSubject(null);\r\n\r\n  getOpticalItemTypes() {\r\n    this.opticalItemTypesSubscription = this.opticalItemTypes$\r\n      // .pipe(last())\r\n      .subscribe(\r\n        data => {\r\n          if (data.opticalItemTypesData.data.length > 0) {\r\n            this.opticalItems = data.opticalItemTypesData.data;\r\n            this.opticalItemTypesSubscription.unsubscribe();\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  getCurrentOpticalItem(meuType) {\r\n    return this.opticalItems.filter(item => item.opticalCode === meuType)[0];\r\n  }\r\n\r\n  // set loggedUserData(data) {\r\n  //   this.loggedUser = data;\r\n  //   this.storage.set('loggedUser', data);\r\n\r\n  // }\r\n\r\n  // get loggedUserData() {\r\n  //   return this.storage.get('loggedUser');\r\n  // }\r\n  getPatientData() {\r\n   return this.patientList;\r\n  }\r\n  setPatientData(data) {\r\n    this.patientList = data;\r\n  }\r\n\r\n  set vendorData(data) {\r\n    this.vendorDetails = data;\r\n  }\r\n\r\n  get vendorData() {\r\n    return this.vendorDetails;\r\n  }\r\n\r\n  removeVendorData() {\r\n    delete this.vendorDetails;\r\n  }\r\n\r\n  set inventoryData(data) {\r\n    this.inventoryDetails = data;\r\n  }\r\n\r\n  get inventoryData() {\r\n    return this.inventoryDetails;\r\n  }\r\n\r\n  removeinventoryData() {\r\n    delete this.inventoryDetails;\r\n  }\r\n  getPrintSettings() {\r\n    const settings = {\r\n      pageSettings: {\r\n        pageSize: 'A4',\r\n        pageOrientation: 'portrait',\r\n        margins: [15, 15, 15, 15]\r\n      },\r\n      hzHeader: {\r\n        isTextRequired: true,\r\n        isFirstPageOnly: false,\r\n        isHeaderRequired: true,\r\n        docInfo: {\r\n          title: 'Invoice',\r\n          fontSize: 25,\r\n          fontColor: '#444444'\r\n        },\r\n        company: {\r\n          fontColor: '#444444',\r\n          fontSize: 9\r\n        },\r\n        companyAddress: {\r\n          fontColor: '#444444',\r\n          fontSize: 9\r\n        },\r\n        billTo: {\r\n          billToColor: '#444444',\r\n          billTofontSize: 9,\r\n          addressColor: '#444444',\r\n          addressFontSize: 9\r\n        },\r\n        invoice: {\r\n          fontSize: 9,\r\n          fontColor: '#444444'\r\n        }\r\n      },\r\n      footer: {\r\n        isLastPageOnly: false,\r\n        isTextRequired: true,\r\n        isFooterRequired: false,\r\n        fontColor: '#444444',\r\n        footerText: 'I am a cool footer'\r\n      },\r\n      itemTable: {\r\n        itemHeader: {\r\n          fontSize: 9,\r\n          backgroundColor: '#444444',\r\n          fontColor: '#ffffff'\r\n        },\r\n        itemRow: {\r\n          fontSize: 9,\r\n          backgroundColor: '#ffffff',\r\n          fontColor: '#444444'\r\n        }\r\n      }\r\n    };\r\n\r\n    return settings;\r\n  }\r\n\r\n  getInvoicePrint(data, config) {\r\n    const documentDef: any = {\r\n      content: [],\r\n      images: {},\r\n      styles: {}\r\n    };\r\n\r\n    // config = angular.copy(config || DefaultInvoiceConfig.invoice);\r\n    // settings up the page properties\r\n    documentDef.pageSize = config.pageSettings.pageSize;\r\n    documentDef.pageOrientation = config.pageSettings.pageOrientation;\r\n    documentDef.pageMargins = config.pageSettings.margins;\r\n\r\n    this.setUpStyle(documentDef, config);\r\n\r\n    if (config.hzHeader.isHeaderRequired) {\r\n      if (config.hzHeader.isFirstPageOnly) {\r\n        documentDef.content.push(this.getInvoiceHeader(data, config));\r\n      } else {\r\n        // need to adjust margin to account for header height\r\n        documentDef.header = this.getInvoiceHeader(data, config);\r\n        if (config.hzHeader.isTextRequired) {\r\n          documentDef.pageMargins[1] += 220;\r\n        } else {\r\n          documentDef.pageMargins[1] += 290;\r\n        }\r\n      }\r\n    }\r\n    documentDef.content.push(this.getInvoiceTable(data.tableData));\r\n    documentDef.content.push(this.getInvoiceSummary(data, config)); // only needed in invoice\r\n    documentDef.content.push({\r\n      // text: data.totAmtInWords || '',\r\n      text: [\r\n        { text: 'Amount In Words: ' },\r\n        { text: data.totAmtInWords }\r\n      ],\r\n      alignment: 'center',\r\n      color: '#444',\r\n      italics: true,\r\n      fontSize: 10\r\n    });\r\n    documentDef.content.push(this.getSignature(data)); // only needed in invoice\r\n\r\n    if (\r\n      config.footer.footerBannerImage ||\r\n      (config.footer.footerText && config.footer.isFooterRequired)\r\n    ) {\r\n      if (config.footer.isLastPageOnly) {\r\n        documentDef.content.push(this.getPageFooter(data, config));\r\n      } else {\r\n        documentDef.footer = this.getPageFooter(data, config);\r\n        if (config.footer.isTextRequired) {\r\n          documentDef.pageMargins[3] += 12;\r\n        } else {\r\n          documentDef.pageMargins[3] += 50;\r\n        }\r\n      }\r\n    }\r\n\r\n    this.pdfmake.createPdf(documentDef).print();\r\n  }\r\n\r\n  /**\r\n   * @description makes pages header\r\n   * @param {Object} data contains printing information\r\n   * @param {Object} config configuration object\r\n   */\r\n  getInvoiceHeader(data, config) {\r\n    const header = {\r\n      stack: []\r\n    };\r\n    // if top and middle header is required or not\r\n    if (config.hzHeader.isHeaderRequired) {\r\n      // header #1\r\n      header.stack.push(this.getInvoiceHeaderTop(data, config));\r\n      // header #2\r\n      header.stack.push(this.getInvoiceHeaderMiddle(data, config));\r\n    }\r\n    // header #3\r\n    header.stack.push(this.getInvoiceHeaderBottom(data, config));\r\n\r\n    return header;\r\n  }\r\n\r\n  getInvoiceHeaderTop(data, config) {\r\n    if (config.hzHeader.isTextRequired) {\r\n      return {\r\n        table: {\r\n          widths: ['*', '*'],\r\n          body: [\r\n            [\r\n              {\r\n                image: config.hzHeader.profileLogo,\r\n                height: 60,\r\n                width: 60\r\n              },\r\n              {\r\n                text: config.hzHeader.docInfo.title,\r\n                alignment: 'right',\r\n                style: 'documentTitleStyle'\r\n              }\r\n            ]\r\n          ]\r\n        },\r\n        layout: 'noBorders',\r\n        margin: [\r\n          config.hzHeader.isFirstPageOnly ? 0 : config.pageSettings.margins[0],\r\n          config.hzHeader.isFirstPageOnly ? 0 : config.pageSettings.margins[1],\r\n          config.hzHeader.isFirstPageOnly ? 0 : config.pageSettings.margins[2],\r\n          5\r\n        ]\r\n      };\r\n    } else {\r\n      return this.getHeaderBanner(data, config);\r\n    }\r\n  }\r\n\r\n  getInvoiceHeaderMiddle(data, config) {\r\n    const middleHeader = <any>{\r\n      table: {\r\n        widths: ['auto', '*', 'auto'],\r\n        body: [\r\n          [\r\n            {\r\n              stack: [\r\n                {\r\n                  text: data.header.companyName,\r\n                  bold: true,\r\n                  style: 'company'\r\n                }\r\n              ],\r\n              alignment: 'left',\r\n              color: '#444',\r\n              fontSize: 12\r\n            },\r\n            ''\r\n          ]\r\n        ]\r\n      },\r\n      layout: 'noBorders',\r\n      margin: [\r\n        config.hzHeader.isFirstPageOnly ? 0 : config.pageSettings.margins[0],\r\n        0,\r\n        config.hzHeader.isFirstPageOnly ? 0 : config.pageSettings.margins[2],\r\n        0\r\n      ]\r\n    };\r\n    let i, j;\r\n\r\n    middleHeader.table.body[0].push({\r\n      stack: [\r\n        {\r\n          text:\r\n            (data.header.due && !data.header.approximate && 'Balance Due') ||\r\n            (data.header.approximate && 'Approx Due Amount') ||\r\n            '',\r\n          bold: true,\r\n          fontSize: 13\r\n        },\r\n        {\r\n          // text: data.header.due || data.header.approximate ||'',\r\n          text:\r\n            (data.header.due && 'Rs. ' + data.header.due) ||\r\n            '' ||\r\n            ((data.header.approximate && 'Rs. ' + data.header.approximate) ||\r\n              ''),\r\n          fontSize: 24\r\n        }\r\n      ],\r\n      alignment: 'right',\r\n      fontSize: 12,\r\n      color: '#444' // configurable\r\n    });\r\n\r\n    for (i = 0, j = data.header.companyAddress.length; i < j; i++) {\r\n      middleHeader.table.body[0][0].stack.push({\r\n        text: data.header.companyAddress[i],\r\n        style: 'companyAddress'\r\n      });\r\n    }\r\n    return middleHeader;\r\n  }\r\n\r\n  getInvoiceHeaderBottomLab(data, config) {\r\n    const headerBottom = <any>{\r\n      table: {\r\n        widths: ['auto', '*', 'auto'],\r\n        body: [\r\n          [\r\n            {\r\n              stack: [\r\n                {\r\n                  text: 'Bill To',\r\n                  bold: true,\r\n                  margin: [0, 3, 0, 3],\r\n                  style: 'billTo'\r\n                }\r\n              ]\r\n            },\r\n            '',\r\n            {\r\n              table: {\r\n                widths: ['auto', 'auto'],\r\n                body: [\r\n                  [\r\n                    {\r\n                      text:\r\n                        ((data.header.approximate ||\r\n                          data.header.approximate === 0) &&\r\n                          'Approx Bill Id:') ||\r\n                        'Bill ID: ',\r\n                      // text: 'Invoice ID: ',\r\n                      margin: [0, 2, 0, 0],\r\n                      color: '#444',\r\n                      alignment: 'right'\r\n                    },\r\n                    {\r\n                      text: data.invoice.id,\r\n                      style: 'invoice',\r\n                      margin: [0, 2, 0, 0],\r\n                      alignment: 'right'\r\n                    }\r\n                  ],\r\n                  [\r\n                    {\r\n                      text: 'Bill Date: ',\r\n                      margin: [0, 2, 0, 0],\r\n                      color: '#444',\r\n                      alignment: 'right'\r\n                    },\r\n                    {\r\n                      text: data.invoice.date,\r\n                      margin: [0, 2, 0, 0],\r\n                      alignment: 'right',\r\n                      color: '#444'\r\n                    }\r\n                  ]\r\n                ]\r\n              },\r\n              fontSize: 9,\r\n              layout: 'noBorders'\r\n            }\r\n          ]\r\n        ]\r\n      },\r\n      layout: 'noBorders',\r\n      margin: [\r\n        config.hzHeader.isFirstPageOnly ? 0 : config.pageSettings.margins[0],\r\n        0,\r\n        config.hzHeader.isFirstPageOnly ? 0 : config.pageSettings.margins[2],\r\n        10\r\n      ]\r\n    };\r\n    let i, j;\r\n    for (i = 0, j = data.billTo.address.length; i < j; i++) {\r\n      headerBottom.table.body[0][0].stack.push({\r\n        text: data.billTo.address[i],\r\n        style: 'billToAddress'\r\n      });\r\n    }\r\n    return headerBottom;\r\n  }\r\n  getInvoiceHeaderBottom(data, config) {\r\n    const headerBottom = <any>{\r\n      table: {\r\n        widths: ['auto', '*', 'auto'],\r\n        body: [\r\n          [\r\n            {\r\n              stack: [\r\n                {\r\n                  text: 'Bill To',\r\n                  bold: true,\r\n                  margin: [0, 3, 0, 3],\r\n                  style: 'billTo'\r\n                }\r\n              ]\r\n            },\r\n            '',\r\n            {\r\n              table: {\r\n                widths: ['auto', 'auto'],\r\n                body: [\r\n                  [\r\n                    {\r\n                      text:\r\n                        ((data.header.approximate ||\r\n                          data.header.approximate === 0) &&\r\n                          'Approx Bill Id:') ||\r\n                        'Invoice ID: ',\r\n                      // text: 'Invoice ID: ',\r\n                      margin: [0, 5, 0, 0],\r\n                      color: '#444'\r\n                    },\r\n                    {\r\n                      text: data.invoice.id,\r\n                      style: 'invoice',\r\n                      margin: [0, 5, 0, 0],\r\n                      alignment: 'right'\r\n                    }\r\n                  ],\r\n                  [\r\n                    {\r\n                      text: 'Bill Date: ',\r\n                      margin: [0, 2, 0, 0],\r\n                      color: '#444'\r\n                    },\r\n                    {\r\n                      text: data.invoice.date,\r\n                      margin: [0, 2, 0, 0],\r\n                      alignment: 'right',\r\n                      color: '#444'\r\n                    }\r\n                  ],\r\n                  [\r\n                    {\r\n                      colSpan: 2,\r\n                      image: data.invoice.invoiceBarcode,\r\n                      width: 200,\r\n                      margin: [0, 2, 0, 0],\r\n                      alignment: 'right'\r\n                    },\r\n                    ''\r\n                  ]\r\n                ]\r\n              },\r\n              fontSize: 9,\r\n              layout: 'noBorders'\r\n            }\r\n          ]\r\n        ]\r\n      },\r\n      layout: 'noBorders',\r\n      margin: [\r\n        config.hzHeader.isFirstPageOnly ? 0 : config.pageSettings.margins[0],\r\n        0,\r\n        config.hzHeader.isFirstPageOnly ? 0 : config.pageSettings.margins[2],\r\n        10\r\n      ]\r\n    };\r\n    let i, j;\r\n    for (i = 0, j = data.billTo.address.length; i < j; i++) {\r\n      headerBottom.table.body[0][0].stack.push({\r\n        text: data.billTo.address[i],\r\n        style: 'billToAddress'\r\n      });\r\n    }\r\n    return headerBottom;\r\n  }\r\n\r\n  getInvoiceTable(tableData) {\r\n    const tableBody = tableData.map(function (tableRow, index) {\r\n      let mappedTableRow;\r\n      if (index === 0) {\r\n        mappedTableRow = tableRow.map(function (tableCell) {\r\n          return {\r\n            text: tableCell,\r\n            style: 'itemHeader'\r\n          };\r\n        });\r\n      } else {\r\n        mappedTableRow = tableRow.map(function (tableCell) {\r\n          return tableCell;\r\n        });\r\n      }\r\n      return mappedTableRow;\r\n    });\r\n    const widths = [];\r\n    let i, j;\r\n    for (i = 0, j = tableBody[0].length; i < j; i++) {\r\n      i === 1 ? widths.push('*') : widths.push('auto');\r\n    }\r\n    return {\r\n      table: {\r\n        headerRows: 1,\r\n        widths: widths,\r\n        body: tableBody\r\n      },\r\n      layout: {\r\n        hLineWidth: function (i, node) {\r\n          return i === 0 || i === 1 || i === node.table.body.length ? 0 : 1;\r\n        },\r\n        vLineWidth: function (i, node) {\r\n          return 0;\r\n        },\r\n        hLineColor: function (i, node) {\r\n          return '#ddd';\r\n        },\r\n        paddingLeft: function (i, node) {\r\n          return 10;\r\n        },\r\n        paddingRight: function (i, node) {\r\n          return 10;\r\n        },\r\n        paddingTop: function (i, node) {\r\n          return 3;\r\n        },\r\n        paddingBottom: function (i, node) {\r\n          return 3;\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  getInvoiceSummary(data, config) {\r\n    const invoiceSummary = {\r\n      table: {\r\n        widths: ['*', 'auto'],\r\n        body: []\r\n      },\r\n      layout: {\r\n        hLineWidth: function (i, node) {\r\n          if (i === 0) {\r\n            return 1;\r\n          }\r\n          return 0;\r\n        },\r\n        hLineColor: function (i, node) {\r\n          if (i === 0) {\r\n            return '#ddd';\r\n          }\r\n        },\r\n        vLineWidth: function (i, node) {\r\n          return 0;\r\n        },\r\n        paddingLeft: function (i, node) {\r\n          return 10;\r\n        },\r\n        paddingRight: function (i, node) {\r\n          return 10;\r\n        },\r\n        paddingBottom: function (i, node) {\r\n          return 5;\r\n        },\r\n        paddingTop: function (i, node) {\r\n          if (i === 0) {\r\n            return 15;\r\n          } else {\r\n            return 2;\r\n          }\r\n        }\r\n      },\r\n      color: '#444',\r\n      alignment: 'right',\r\n      fontSize: 10,\r\n      margin: [0, 10, 0, 0]\r\n    };\r\n    let i, j;\r\n    for (i = 0, j = data.invoiceSummary.length; i < j; i++) {\r\n      invoiceSummary.table.body.push([\r\n        {\r\n          text: data.invoiceSummary[i][0]\r\n        },\r\n        {\r\n          text: data.invoiceSummary[i][1]\r\n        }\r\n      ]);\r\n    }\r\n    return invoiceSummary;\r\n  }\r\n\r\n  getSignature(data) {\r\n    return {\r\n      columns: [\r\n        {\r\n          text: 'Signature',\r\n          alignment: 'right',\r\n          fontSize: 13\r\n        }\r\n      ],\r\n      margin: [0, 20, 0, 20],\r\n      color: '#444'\r\n    };\r\n  }\r\n\r\n  getPageFooter(data, config) {\r\n    // data.footerText.footerText\r\n    let footer, footerYOffset, footerWidth;\r\n\r\n    if (config.footer.isTextRequired) {\r\n      footer = {\r\n        text: config.footer.footerText,\r\n        alignment: 'center',\r\n        fontSize: 9,\r\n        style: 'footer'\r\n      };\r\n    } else {\r\n      footer = {\r\n        image: config.footer.footerBannerImage,\r\n        height: 77,\r\n        margin: [\r\n          config.footer.isLastPageOnly ? -config.pageSettings.margins[0] : 0,\r\n          config.footer.isLastPageOnly ? 20 : 0,\r\n          config.footer.isLastPageOnly ? -config.pageSettings.margins[2] : 0,\r\n          0\r\n        ]\r\n      };\r\n      if (config.pageSettings.pageOrientation === 'landscape') {\r\n        if (config.pageSettings.pageSize === 'A4') {\r\n          footerWidth = 841;\r\n          footerYOffset = 518;\r\n        } else {\r\n          footerWidth = 1008;\r\n          footerYOffset = 535;\r\n        }\r\n      } else {\r\n        // portrait\r\n        if (config.pageSettings.pageSize === 'A4') {\r\n          footerWidth = 596;\r\n          footerYOffset = 400;\r\n        } else {\r\n          footerWidth = 612;\r\n          footerYOffset = 400;\r\n        }\r\n      }\r\n      footer.width = footerWidth;\r\n    }\r\n    return footer;\r\n  }\r\n\r\n  getHeaderBanner(data, config) {\r\n    const headerTop: any = {\r\n      image: config.hzHeader.headerBannerImage,\r\n      height: 65.1968,\r\n      margin: [\r\n        config.hzHeader.isFirstPageOnly ? -config.pageSettings.margins[0] : 0,\r\n        config.hzHeader.isFirstPageOnly ? -config.pageSettings.margins[1] : 0,\r\n        config.hzHeader.isFirstPageOnly ? -config.pageSettings.margins[2] : 0,\r\n        0\r\n      ]\r\n    };\r\n    if (config.pageSettings.pageOrientation === 'landscape') {\r\n      if (config.pageSettings.pageSize === 'A4') {\r\n        headerTop.width = 841;\r\n      } else {\r\n        headerTop.width = 1008;\r\n      }\r\n    } else {\r\n      // portrait\r\n      if (config.pageSettings.pageSize === 'A4') {\r\n        headerTop.width = 595;\r\n      } else {\r\n        headerTop.width = 612;\r\n      }\r\n    }\r\n    return headerTop;\r\n  }\r\n\r\n  setUpStyle(dd, config) {\r\n    if (config.hzHeader) {\r\n      if (config.hzHeader.docInfo) {\r\n        dd.styles.documentTitleStyle = {\r\n          color: config.hzHeader.docInfo.fontColor,\r\n          fontSize: config.hzHeader.docInfo.fontSize\r\n        };\r\n      }\r\n      if (config.hzHeader.invoice) {\r\n        dd.styles.invoice = {\r\n          fontSize: config.hzHeader.invoice.fontSize,\r\n          color: config.hzHeader.invoice.fontColor\r\n        };\r\n      }\r\n      if (config.hzHeader.billTo) {\r\n        dd.styles.billTo = {\r\n          color: config.hzHeader.billTo.billToColor,\r\n          fontSize: config.hzHeader.billTo.billTofontSize\r\n        };\r\n      }\r\n      if (config.hzHeader.companyAddress) {\r\n        dd.styles.companyAddress = {\r\n          color: config.hzHeader.companyAddress.fontColor,\r\n          fontSize: config.hzHeader && config.hzHeader.companyAddress.fontSize,\r\n          margin: [0, 2, 0, 0]\r\n        };\r\n      }\r\n      if (config.hzHeader.company) {\r\n        dd.styles.company = {\r\n          color: config.hzHeader.company.fontColor,\r\n          fontSize: config.hzHeader.company.fontSize,\r\n          margin: [0, 0, 0, 2]\r\n        };\r\n      }\r\n      if (config.hzHeader.billTo) {\r\n        dd.styles.billToAddress = {\r\n          color: config.hzHeader.billTo.addressColor,\r\n          fontSize: config.hzHeader.billTo.addressFontSize\r\n        };\r\n      }\r\n    }\r\n\r\n    if (config.itemTable) {\r\n      dd.styles.itemRow = {\r\n        fontSize: config.itemTable.itemRow.fontSize,\r\n        fillColor: config.itemTable.itemRow.backgroundColor,\r\n        color: config.itemTable.itemRow.fontColor\r\n      };\r\n      dd.styles.itemHeader = {\r\n        fontSize: config.itemTable.itemHeader.fontSize,\r\n        fillColor: config.itemTable.itemHeader.backgroundColor,\r\n        color: config.itemTable.itemHeader.fontColor\r\n      };\r\n    }\r\n\r\n    if (config.footer) {\r\n      dd.styles.footer = {\r\n        color: config.footer && config.footer.fontColor\r\n      };\r\n    }\r\n    if (config.hospitalName) {\r\n      dd.styles.tokenHospitalName = {\r\n        fontSize: config.hospitalName.fontSize\r\n      };\r\n    }\r\n\r\n    if (config.tokenFontSize) {\r\n      dd.styles.token = {\r\n        fontSize: config.tokenFontSize\r\n      };\r\n    }\r\n  }\r\n\r\n  getBucketsConfig() {\r\n    return {\r\n      accessKeyId: this.appConstants.buckets.opticalStore.accessKeyId,\r\n      secretAccessKey: this.appConstants.buckets.opticalStore.secretAccessKey,\r\n      region: this.appConstants.buckets.opticalStore.region\r\n    };\r\n  }\r\n\r\n  getBucketName() {\r\n    return {\r\n      bucketURL: this.appConstants.buckets.opticalStore.BucketURL,\r\n      url: this.appConstants.buckets.opticalStore.url\r\n    };\r\n  }\r\n\r\n  getBarcodePrints(data) {\r\n    console.log(data, '-=-=-=');\r\n    const dd = {\r\n      content: [],\r\n      pageMargins: [\r\n        parseInt(data[0].labelLeftMargin, 10),\r\n        parseInt(data[0].labelTopMargin, 10),\r\n        parseInt(data[0].labelRightMargin, 10),\r\n        parseInt(data[0].labelBottomMargin, 10)\r\n      ],\r\n      // 45.5197\r\n      pageSize: { height: 45.5197, width: 260.787 }\r\n    };\r\n    for (let i = 0; i < data.length; i++) {\r\n      dd.content.push({\r\n        table: {\r\n          widths: ['55%', '45%'],\r\n          body: [\r\n            [\r\n              {\r\n                table: {\r\n                  widths: ['55%', '45%'],\r\n                  body: [\r\n                    [\r\n                      {\r\n                        stack: [\r\n                          {\r\n                            text: data[i].itemBrandNm,\r\n                            fontSize: 7,\r\n                            bold: true,\r\n                            noWrap: false\r\n                          },\r\n                          {\r\n                            text: '₹' + data[i].brandMrp,\r\n                            fontSize: 8,\r\n                            bold: true,\r\n                            noWrap: false\r\n                          },\r\n                          {\r\n                            text: data[i].modalNo,\r\n                            fontSize: 7,\r\n                            bold: true,\r\n                            noWrap: false,\r\n                            margin: [0, 0, 0, 1.5]\r\n                          },\r\n                          {\r\n                            // colSpan: 2,\r\n                            text: this.organizationInfo[0].orgName,\r\n                            fontSize: 7,\r\n                            bold: true,\r\n                            noWrap: true\r\n                          }\r\n                        ]\r\n                      },\r\n                      {\r\n                        stack: [\r\n                          {\r\n                            image: data[i].imageObj,\r\n                            height: parseInt(data[i].labelHeight, 10),\r\n                            width: parseInt(data[i].labelWidth, 10),\r\n                          },\r\n                          {\r\n                            text: data[i].barcode,\r\n                            fontSize: 6,\r\n                            bold: true,\r\n                            alignment: 'center'\r\n                          }\r\n                        ]\r\n                      }\r\n                    ]\r\n                    // [\r\n                    //   {\r\n                    //     colSpan: 2,\r\n                    //     text: data[i].name.slice(0, 15) + (data[i].name.length > 15 ? '...' : ''),\r\n                    //     fontSize: 4,\r\n                    //     bold: true,\r\n                    //     noWrap: true,\r\n                    //   },\r\n                    //   ''\r\n                    // ]\r\n                  ]\r\n                },\r\n                layout: {\r\n                  hLineWidth: () => 0,\r\n                  vLineWidth: () => 0,\r\n                  paddingTop: () => 2,\r\n                  paddingBottom: () => 2\r\n                }\r\n              }\r\n            ]\r\n          ]\r\n        },\r\n        layout: 'noBorders'\r\n      });\r\n    }\r\n    this.pdfmake.createPdf(dd).print();\r\n  }\r\n\r\n  ngOnDestroy() { }\r\n}\r\n","\r\nimport {\r\n  Action,\r\n  ActionReducerMap,\r\n  createFeatureSelector,\r\n  createSelector,\r\n  combineReducers\r\n} from '@ngrx/store';\r\nimport { InjectionToken } from '@angular/core';\r\nimport { searchPatientReducer } from '@app/modules/optical-store/reducers/patient-search-optical';\r\nimport { opticalItemsReducer } from '@app/modules/optical-store/reducers/optical-item-types.reducer';\r\nimport { fetchOpticalVendorReducer } from '@app/modules/optical-store/reducers/optical-vendors.reducers';\r\nimport { fetchOpticalInventoryReducer } from '@app/modules/optical-store/reducers/optical-inventory.reducer';\r\n\r\nexport const reducers: ActionReducerMap<any> = {\r\n  patientData: searchPatientReducer,\r\n  opticalItemTypesData: opticalItemsReducer,\r\n  opticalVendorsList: fetchOpticalVendorReducer,\r\n  opticalInventoryList: fetchOpticalInventoryReducer\r\n};\r\n\r\nexport const getOpticalState = createFeatureSelector<any>(\r\n  'OPTICAL_FEATURE'\r\n);\r\n\r\nexport const getSearchPatient = createSelector(getOpticalState, state =>\r\n  state.patientData\r\n);\r\n\r\nexport const getOpticalItemTypes = createSelector(getOpticalState, state =>\r\n  state\r\n);\r\n\r\nexport const getOpticalVendors = createSelector(getOpticalState, state =>\r\n  state.opticalVendorsList\r\n);\r\n\r\nexport const getOpticalInventory = createSelector(getOpticalState, state =>\r\n  state.opticalInventoryList\r\n);\r\n","import { OpticalActions, OpticalActionTypes } from '@app/modules/optical-store/actions';\r\n\r\nconst initialState = {\r\n  isLoading: false,\r\n  errorOccured: false,\r\n  data : {\r\n    clickedOnSearch: false,\r\n    data: []\r\n  }\r\n};\r\n\r\nexport function fetchOpticalInventoryReducer(state = initialState, action: OpticalActions) {\r\n  switch (action.type) {\r\n    case OpticalActionTypes.fetchOpticalInventory:\r\n      return {\r\n        isLoading: true,\r\n        errorOccured: false,\r\n        data : {\r\n          clickedOnSearch: false,\r\n          data: []\r\n        }\r\n      };\r\n    case OpticalActionTypes.fetchOpticalInventorySuccess:\r\n     return {\r\n        isLoading: false,\r\n        errorOccured: false,\r\n        data : action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { OpticalActions, OpticalActionTypes } from '@app/modules/optical-store/actions';\r\n\r\nconst initialState = {\r\n  isLoading: false,\r\n  errorOccured: false,\r\n  data : []\r\n};\r\n\r\nexport function opticalItemsReducer(state = initialState, action: OpticalActions) {\r\n  switch (action.type) {\r\n    case OpticalActionTypes.fetchOpticalItemTypes:\r\n      return {\r\n        isLoading: true,\r\n        errorOccured: false,\r\n        data : []\r\n      };\r\n    case OpticalActionTypes.fetchOpticalItemTypesSuccess:\r\n     return {\r\n        isLoading: false,\r\n        errorOccured: false,\r\n        data : action.payload\r\n      };\r\n    case OpticalActionTypes.fetchOpticalItemTypesError:\r\n    return {\r\n      isLoading: false,\r\n      errorOccured: true,\r\n      data : []\r\n    };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { OpticalActions, OpticalActionTypes } from '@app/modules/optical-store/actions';\r\n\r\nconst initialState = {\r\n  isLoading: false,\r\n  errorOccured: false,\r\n  data : {\r\n    clickedOnSearch: false,\r\n    data: []\r\n  }\r\n};\r\n\r\nexport function fetchOpticalVendorReducer(state = initialState, action: OpticalActions) {\r\n  switch (action.type) {\r\n    case OpticalActionTypes.fetchOpticalVendors:\r\n      return {\r\n        isLoading: true,\r\n        errorOccured: false,\r\n        data : {\r\n          clickedOnSearch: false,\r\n          data: []\r\n        }\r\n      };\r\n    case OpticalActionTypes.fetchOpticalVendorSuccess:\r\n     return {\r\n        isLoading: false,\r\n        errorOccured: false,\r\n        data : action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { OpticalActions, OpticalActionTypes } from '@app/modules/optical-store/actions';\r\nconst initialState = {\r\n  isLoading: false,\r\n  errorOccured: false,\r\n  data : []\r\n};\r\n\r\nexport function searchPatientReducer(state = initialState, action: OpticalActions) {\r\n  switch (action.type) {\r\n    case OpticalActionTypes.fetchPatientOptical:\r\n      return {\r\n        isLoading: true,\r\n        errorOccured: false,\r\n        data : []\r\n      };\r\n    case OpticalActionTypes.fetchPatientOpticalSuccess:\r\n     return {\r\n        isLoading: false,\r\n        errorOccured: false,\r\n        data : action.payload\r\n      };\r\n    case OpticalActionTypes.fetchPatientOpticalError:\r\n    return {\r\n      isLoading: false,\r\n      errorOccured: true,\r\n      data : []\r\n    };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n@Pipe({\r\n  name: 'getAge'\r\n})\r\nexport class GetAgePipe implements PipeTransform {\r\n  transform(data: Date): any[] {\r\n    if (!data) {\r\n      return;\r\n    }\r\n    const birthDate = new Date(data);\r\n    const today = new Date();\r\n    const age = [];\r\n    const y = [today.getFullYear(), birthDate.getFullYear()];\r\n    let ydiff = y[0] - y[1];\r\n    const m = [today.getMonth(), birthDate.getMonth()];\r\n    let mdiff = m[0] - m[1];\r\n    const d = [today.getDate(), birthDate.getDate()];\r\n    let ddiff = d[0] - d[1];\r\n    if (mdiff < 0 || (mdiff === 0 && ddiff < 0)) {\r\n      --ydiff;\r\n    }\r\n    if (mdiff < 0 || (mdiff === 0 && ddiff < 0)) {\r\n        mdiff += 12;\r\n    }\r\n    if (ddiff < 0) {\r\n      birthDate.setMonth(m[1] + 1, 0);\r\n      ddiff = birthDate.getDate() - d[1] + d[0];\r\n      --mdiff;\r\n    }\r\n    return [ydiff, mdiff, ddiff];\r\n   }\r\n}\r\n"],"sourceRoot":""}