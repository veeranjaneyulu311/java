SELECT unavailable_slots_id, doctor_id, doctor_register_no, unavailable_slot_start_tm, unavailable_slot_end_tm, org_id, org_grp_id, isactive, created_usr_id, created_dttm, working_day, start_dt, end_dt
	FROM appointment.doctor_unavailable_slots_trans where doctor_id=220190316000002;


SELECT EIR.EMP_ID, FIRST_NM, MIDDLE_NM, LAST_NM, EMP_TYPE_ID, DOCTOR_REGISTER_NO, REGISTER_NO_VERIFIED, MOBILE_NO, LANDLINE_NO,ORG.COUNTRY_NM, ORG.STATE_NM, ORG.DISTRICT_NM, ORG.MANDAL_NM, ORG.VILLAGE_NM, ORG.LOCALITY_NM, ORG.PINCODE, ORG.EMAIL_ID, FACEBOOK_ID, LINKEDIN_ID, OCCUPATION_ID, ORG.ADDRESS_LINE1, ORG.ADDRESS_LINE2, PHONE_NUM_TYPE, JOINING_DT, OE.ISACTIVE, OE.CREATED_USR_ID, ALTERNATE_CONTACT_NO, OE.ORG_ID, LOGIN_STATUS, OE.ORG_GRP_ID, ORG.CITY_NM, EIR.IS_SHAREABLE, IMAGE_PATH, USER_TYPE, ACTIVATION_STATUS, CAREER_STARTED_YEAR, EIR.DESCRIPTION, DOCTOR_SIGNATURE_PATH, HONORIFIC_NM, QUALIFICATION, DOCTOR_ID,MINFEE, MAXFEE,ORG.ORG_TYPE_ID,ORG.ORG_NM,ORG.CONTACT_NO,ORG.EMAIL_ID FROM PUBLIC.EMPLOYEES_INFO_REF EIR JOIN PUBLIC.ORGANISATION_EMPLOYEE_XREF OE ON EIR.EMP_ID = OE.EMP_ID LEFT JOIN (SELECT EMP_ID EMP_ID, ARRAY_TO_STRING( ARRAY_AGG( DISTINCT QUALIFICATION_NM ),',' ) AS QUALIFICATION FROM PUBLIC.EMPLOYEE_QUALIFICATION_XREF T1 JOIN PUBLIC.QUALIFICATION_REF T2 ON T1.QUALIFICATION_ID=T2.QUALIFICATION_ID GROUP BY EMP_ID ) EF ON EIR.EMP_ID=EF.EMP_ID LEFT JOIN (SELECT DOCTOR_ID, ORG_ID, MIN(DOCTOR_FEE) MINFEE, MAX(DOCTOR_FEE) MAXFEE FROM APPOINTMENT.DOCTOR_SETTINGS_TRANS GROUP BY DOCTOR_ID, ORG_ID) GH ON EIR.EMP_ID=GH.DOCTOR_ID AND GH.ORG_ID=OE.ORG_ID JOIN ORGANISATION_REF ORG ON ORG.ORG_ID=OE.ORG_ID WHERE EIR.EMP_ID =220190316000002 AND OE.ORG_ID =1333

------------------------
SELECT myop_appointment_id, myop_caller_code, dept_list, doctors_list, timeslot_list, is_booked, org_id, org_grp_id, description, isactive, created_usr_id, created_dttm, version_id, modified_usr_id, modified_dttm
	FROM public.myoperator_appointment_temp_trans;

SELECT doctors_list->'1'->'doctor_id' FROM public.myoperator_appointment_temp_trans;
SELECT doctors_list FROM public.myoperator_appointment_temp_trans;
SELECT DOCTOR_ID, START_TM, END_TM FROM APPOINTMENT.DOCTOR_WORK_INFO_TRANS WHERE ISACTIVE=TRUE AND DOCTOR_ID=220190316000002 AND ORG_ID=1333
---------------------



SELECT PAT.SERVICE_ID,SE.DESCRIPTION SERVICE_NAME,PAT.DEPT_ID,PAT.DOCTOR_ID,PAT.ISACTIVE,PATIENT_APPOINTMENT_ID, 
VISIT_ID, DST.APPOINTMENT_DURATION, PAT.PATIENT_ID, PIR.FIRST_NM, PIR.LAST_NM, PIR.IMAGE_PATH,PIR.EMAIL_ID, 
PIR.MOBILE_NO, HOS_PATIENT_ID, APPOINTMENT_DT, PAT.ORG_ID, REF_ORG_NM, REF_DOCTOR_NM, REF_DOCTOR_CONTACT_NO, 
PAT.DOCTOR_ID, APPOINTMENT_TYPE, HISTORY_STATUS, PAT.ORG_GRP_ID, PAT.DESCRIPTION, DISEASES_NM, APP_CANCEL_REASON, 
APPOINTMENT_TYPE 
FROM 
APPOINTMENT.PATIENT_APPOINTMENT_TRANS PAT JOIN PUBLIC.PATIENT_INFO_REF PIR ON 
PAT.PATIENT_ID=PIR.PATIENT_ID LEFT JOIN APPOINTMENT.DOCTOR_SETTINGS_TRANS DST ON 
PAT.DOCTOR_ID=DST.DOCTOR_ID AND PAT.ORG_ID=DST.ORG_ID LEFT JOIN BILLING.SERVICES SE 
ON PAT.SERVICE_ID=SE.SERVICE_ID AND SE.ORG_ID=PAT.ORG_ID WHERE PAT.DOCTOR_ID=220190316000002
AND PAT.ORG_ID=1333 AND date(APPOINTMENT_DT)=date('2019-08-24') and PAT.isactive=true;


SELECT PAT.DOCTOR_ID, DST.APPOINTMENT_DURATION, APPOINTMENT_DT FROM 
APPOINTMENT.PATIENT_APPOINTMENT_TRANS LEFT JOIN APPOINTMENT.DOCTOR_SETTINGS_TRANS DST ON 
PAT.DOCTOR_ID=DST.DOCTOR_ID AND PAT.ORG_ID=DST.ORG_ID LEFT JOIN BILLING.SERVICES SE 
ON PAT.SERVICE_ID=SE.SERVICE_ID AND SE.ORG_ID=PAT.ORG_ID WHERE PAT.DOCTOR_ID=220190316000002
AND PAT.ORG_ID=1333 AND date(APPOINTMENT_DT)=date('2019-08-24') and PAT.isactive=true;






SELECT PAT.DOCTOR_ID, DST.APPOINTMENT_DURATION, APPOINTMENT_DT FROM APPOINTMENT.PATIENT_APPOINTMENT_TRANS PAT LEFT JOIN APPOINTMENT.DOCTOR_SETTINGS_TRANS DST ON PAT.DOCTOR_ID=DST.DOCTOR_ID AND PAT.ORG_ID=DST.ORG_ID WHERE PAT.DOCTOR_ID=220190316000002 AND PAT.ORG_ID=1333 AND APPOINTMENT_DT=timestamp '2019-08-25 8:30' and PAT.isactive=true

SELECT start_tm, end_tm FROM APPOINTMENT.DOCTOR_WORK_INFO_TRANS where TO_TIMESTAMP('8:30', 'HH24:MI')::TIME between start_tm::time and end_tm::time and working_day = 'Sunday'  and doctor_id =220190316000002  and org_id = 1333







